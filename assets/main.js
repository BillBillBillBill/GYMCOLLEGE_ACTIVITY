(function(){var C=C||{Ka:{Ob:0,lf:[]}},Lb={};C.CLASS_NAME="AMap";C.a=C.BuryPoint={QE:{},gw:{},options:{},tw:{},rA:{},sA:{},aB:{},bB:{}};
C.a.bf=C.BuryPoint.dic={"AMap.event":{c:"ev",m:{addDomListener:"a",addListener:"b",addListenerOnce:"c",removeListener:"d",trigger:"e"}},AMap:{c:"aa",m:{convertFrom:"a"}},"AMap.Map":{c:"m",o:{view:"a",layers:"b",level:"c",center:"d",zooms:"e",lang:"f",cursor:"g",crs:"h",animateEnable:"i",isHotspot:"j",defaultLayer:"k",rotateEnable:"l",resizeEnable:"m",dragEnable:"n",zoomEnable:"o",doubleClickZoom:"p",keyboardEnable:"q",jogEnable:"r",scrollWheel:"s",touchZoom:"t",mapStyle:"u","features ":"v",zoom:"w"},
m:{setMapStyle:"a",getMapStyle:"b",getFeatures:"c",setFeatures:"d",setLang:"e",getLang:"f",setCity:"g",getCity:"h",getAdcode:"i",setLimitBounds:"j",clearLimitBounds:"k",getLimitBounds:"l",setZoom:"m",getZoom:"n",getCenter:"o",setCenter:"p",setRotation:"q",getBounds:"r",getStatus:"s",setStatus:"t",getResolution:"u",getScale:"v",getDefaultCursor:"w",setDefaultCursor:"x",zoomIn:"y",zoomOut:"z",setZoomAndCenter:"0",setBounds:"1",clearMap:"2",destroy:"3",addControl:"4",removeControl:"5",clearControl:"6",
clearInfoWindow:"7",remove:"8",add:"9",getAllOverlays:"a1",getSize:"a2",getContainer:"a3",panTo:"a4",panBy:"a5",setFitView:"a6",setLayers:"a7",getLayers:"a8",getDefaultLayer:"a9",setDefaultLayer:"a0",pixelToLngLat:"b0",lnglatToPixel:"b1",drawPolyline:"b2",drawPolygon:"b3",drawCircle:"b4"}},"AMap.View2D":{c:"v",o:{center:"a",rotation:"b",zoom:"c",crs:"d"}},"AMap.Buildings":{p:"AMap.Layer",c:"b"},"AMap.CustomLayer":{p:"AMap.Layer",c:"c",o:{map:"a",zIndex:"b",opacity:"c",zooms:"d"},m:{setOpacity:"2a",
getContainer:"2b",show:"2c",hide:"2d",setzIndex:"2e"}},"AMap.ImageLayer":{p:"AMap.Layer",c:"i",o:{bounds:"a",url:"b",map:"c",opacity:"d",visible:"e",zIndex:"f",zooms:"g"},m:{getMap:"4a",show:"4b",getOpacity:"4c",setOpacity:"4d",getBounds:"4e",setBounds:"4f",getImageUrl:"4g",setImageUrl:"4h",hide:"4i",setOptions:"4j",getOptions:"4k"}},"AMap.Layer":{c:"l",m:{getZooms:"a",setOpacity:"b",show:"c",hide:"d",setMap:"e",getMap:"f",setzIndex:"g"}},"AMap.MassMarks":{p:"AMap.Layer",c:"ma",o:{zIndex:"a",opacity:"b",
zooms:"c",anchor:"d",url:"e",size:"f",cursor:"g",alwaysRender:"h"},m:{setData:"0a",getData:"0b",getStyle:"0c",setStyle:"0d",setMap:"0e"}},"AMap.TileLayer":{p:"AMap.Layer",c:"tl",o:{map:"a",tileSize:"b",tileUrl:"c",errorUrl:"d",getTileUrl:"e",zIndex:"f",opacity:"g",zooms:"h",detectRetina:"i"},m:{setTextIndex:"3a",getTiles:"3b",reload:"3c",setTileUrl:"3d",getTileUrl:"3e",getZooms:"3f",stopRefresh:"3g",startRefresh:"3h",reload:"3i"}},"AMap.TileLayer.Satellite":{p:"AMap.TileLayer",c:"s",o:{map:"a",zIndex:"b",
opacity:"c",zooms:"d",detectRetina:"e"}},"AMap.TileLayer.RoadNet":{p:"AMap.TileLayer",c:"r",o:{map:"a",zIndex:"b",opacity:"c",zooms:"d",detectRetina:"e"}},"AMap.TileLayer.Traffic":{p:"AMap.TileLayer",c:"t",o:{map:"a",zIndex:"b",opacity:"c",zooms:"d",detectRetina:"e",autoRefresh:"f",interval:"g"}},"AMap.Vector":{p:"AMap.Overlay",c:"v",m:{show:"4a",hide:"4b",getVisible:"4c",getOptions:"4d",setOptions:"4e",setDraggable:"4f"}},"AMap.VectorTile":{p:"AMap.Layer",c:"vt"},"AMap.Circle":{p:"AMap.Vector",c:"ci",
o:{map:"a",zIndex:"b",center:"c",radius:"d",strokeColor:"e",strokeOpacity:"f",strokeWeight:"g",fillColor:"h",fillOpacity:"i",strokeStyle:"j",extData:"k",strokeDasharray:"l"},m:{setCenter:"8a",getCenter:"8b",setRadius:"8c",getRadius:"8d",contains:"8e"}},"AMap.ContextMenu":{p:"AMap.Overlay",c:"cm",o:{position:"a",content:"b",width:"c"},m:{addItem:"2a",removeItem:"2b",open:"2c",close:"2d"}},"AMap.GroundImage":{p:"AMap.ImageLayer",c:"g",o:{map:"a",clickable:"b",opacity:"c"},m:{setMap:"8a"}},"AMap.Icon":{c:"ic",
o:{size:"a",imageOffset:"b",image:"c",imageSize:"c"},m:{setImageSize:"a",getImageSize:"b"}},"AMap.ImageMarker":{p:"AMap.Overlay",c:"im",m:{setPosition:"3a",getBounds:"3b",getPosition:"3c",hide:"3d",show:"3e",setCursor:"3f",setRotation:"3g",setzIndex:"3h"}},"AMap.InfoWindow":{p:"AMap.Overlay",c:"iw",o:{isCustom:"a",autoMove:"b",closeWhenClickMap:"c",content:"d",size:"e",offset:"f",position:"g",showShadow:"h"},m:{open:"1a",close:"1b",setContent:"1c",getContentU:"1d",getContent:"1e",setPosition:"1f",
setOffset:"1g",getPosition:"1h",setSize:"1i",getSize:"1j",getIsOpen:"1k"}},"AMap.Marker":{p:"AMap.Overlay",c:"mk",o:{map:"a",position:"b",offset:"c",icon:"d",content:"e",topWhenClick:"f",topWhenMouseOver:"g",draggable:"h",raiseOnDrag:"j",cursor:"k",visible:"l",zIndex:"m",angle:"n",autoRotation:"o",animation:"p",shadow:"q",title:"r",clickable:"s",shape:"t",extData:"u"},m:{setRaiseOnDrag:"9a",setPosition:"9b",getPosition:"9c",setIcon:"9d",getIcon:"9e",setContent:"9f",getContent:"9g",hide:"9h",show:"9i",
setCursor:"9j",setRotation:"9k",setAngle:"9l",getAngle:"9m",setOffset:"9n",getOffset:"9o",setzIndex:"9p",setOpacity:"9q",setDraggable:"9r",getDraggable:"9s",moveTo:"9t",moveAlong:"9u",stopMove:"9v",setShadow:"9w",getShadow:"9x",setClickable:"9y",getClickable:"9z",setTitle:"90",getTitle:"91",setLabel:"92",getLabel:"93",setTop:"94",getTop:"95",setShape:"96",getShape:"97",setAnimation:"98",getAnimation:"99",getMap:"9a1"}},"AMap.MarkerShape":{c:"ms",o:{coords:"a",type:"b"}},"AMap.Overlay":{c:"o",m:{show:"a",
hide:"b",setMap:"c",getMap:"d",setExtData:"e",getExtData:"f"}},"AMap.Poly":{p:"AMap.Vector",c:"ly",m:{setPath:"5a",getPath:"5b"}},"AMap.Polygon":{p:"AMap.Poly",c:"gn",o:{map:"a",zIndex:"b",path:"c",strokeColor:"d",strokeOpacity:"e",strokeWeight:"f",fillColor:"g",fillOpacity:"h",extData:"i",strokeStyle:"j",strokeDasharray:"k"},m:{getArea:"6a",toString:"6b",contains:"6c"}},"AMap.Polyline":{p:"AMap.Poly",c:"le",o:{map:"a",zIndex:"b",geodesic:"c",isOutline:"d",outlineColor:"e",path:"f",strokeColor:"g",
strokeOpacity:"h",strokeWeight:"i",strokeStyle:"j",strokeDasharray:"k",extData:"l"},m:{getLength:"7a"}},"AMap.Text":{p:"AMap.Overlay",c:"tt"},"AMap.Panorama":{c:"aa"},"AMap.PanoramaMarker":{c:"ar"},"AMap.PanoramaService":{c:"ae"},"AMap.AdvancedInfoWindow":{p:"AMap.InfoWindow",c:"pa",o:{autoMove:"a",closeWhenClickMap:"b",content:"c",offset:"d",position:"e",panel:"f",searchRadius:"g",placeSearch:"h",driving:"i",walking:"j",transit:"k",asOrigin:"l",asDestination:"m"},m:{clear:"aa",searchPoiByKeyWord:"ab"}},
"AMap.AntiCrabFrame":{c:"pb",m:{setMapStyle:"a"}},"AMap.ArrivalRange":{c:"pc",m:{search:"a"}},"AMap.Autocomplete":{c:"pd",o:{type:"a",city:"b",input:"c"},m:{setType:"a",setCity:"b",search:"c"}},"AMap.AutoPanby":{c:"pe"},"AMap.CircleEditor":{c:"pf",m:{open:"a",close:"b"}},"AMap.CitySearch":{c:"pg",m:{getLocalCity:"a",getCityByIp:"b"}},"AMap.CloudDataLayer":{c:"ph",o:{map:"a",query:"b",clickable:"c"},m:{reload:"a",setMap:"b",getMap:"c",setOptions:"d",wrapUrl:"e"}},"AMap.CloudDataSearch":{c:"pi",o:{keywords:"a",
filter:"b",orderBy:"c",pageSize:"d",pageIndex:"e"},m:{setOptions:"a",clear:"b",setPageIndex:"c",setPageSize:"d",searchNearBy:"e",searchById:"f",searchByDistrict:"g",searchInPolygon:"h"}},"AMap.CloudDataSearchRender":{c:"pj"},"AMap.DistrictSearch":{c:"pk",o:{level:"a",extensions:"b",subdistrict:"c"},m:{setLevel:"a",setExtensions:"b",setSubdistrict:"c",search:"d"}},"AMap.DragRoute":{c:"pl",o:{polyOptions:"a",startMarkerOptions:"b",midMarkerOptions:"c",endMarkerOptions:"d",showTraffic:"e"},m:{setAvoidPolygons:"a",
clearAvoidPolygons:"b",getAvoidPolygons:"c",setAvoidRoad:"d",clearAvoidRoad:"e",getAvoidRoad:"f",search:"g",setPolicy:"h",showRoute:"i",close:"j",open:"k",getWays:"l",getRoute:"m",destroy:"n",getPolyline:"o",getStart:"p",getEnd:"q",getPoint:"r",getRoutes:"s"}},"AMap.Driving":{c:"pm",o:{policy:"a",extensions:"b",map:"c",panel:"d",hideMarkers:"e"},m:{clear:"a",search:"b",setAvoidPolygons:"c",clearAvoidPolygons:"d",getAvoidPolygons:"e",setAvoidRoad:"f",clearAvoidRoad:"g",getAvoidRoad:"h",setPolicy:"i",
setLocation:"j",close:"k",open:"l"}},"AMap.DrivingRender":{c:"pp"},"AMap.Geocoder":{c:"pq",o:{city:"a",radius:"b",extensions:"c"},m:{getLocation:"a",setCity:"b",getAddress:"c"}},"AMap.Geolocation":{c:"pr",o:{enableHighAccuracy:"a",timeout:"b",maximumAge:"c",convert:"d",showButton:"e",buttonDom:"f",buttonPosition:"g",buttonOffset:"h",showMarker:"i",markerOptions:"j",showCircle:"k",circleOptions:"l",panToLocation:"m",zoomToAccuracy:"n",useNative:"o"},m:{isSupported:"a",getCurrentPosition:"b",watchPosition:"c",
clearWatch:"d"}},"AMap.GetLL":{c:"ps"},"AMap.Heatmap":{c:"pt",o:{radius:"a",gradient:"b",opacity:"c",zooms:"d"},m:{setOptions:"a",getOptions:"b",setDataSet:"c",getDataSet:"d",addDataPoint:"e",setMap:"f",hide:"g",show:"h",getMap:"i",setzIndex:"j",getzIndex:"k"}},"AMap.HotSpot":{c:"pu",m:{setMap:"a"}},"AMap.LineSearch":{c:"pv",o:{pageIndex:"a",pageSize:"b",city:"c",extensions:"d"},m:{setPageIndex:"a",setPageSize:"b",setCity:"c",searchById:"d",search:"e"}},"AMap.MapType":{c:"pw",m:{hide:"a",show:"b"}},
"AMap.Cluster":{c:"px"},"AMap.MarkerClusterer":{c:"py",o:{gridSize:"a",minClusterSize:"b",maxZoom:"c",averageCenter:"d",styles:"e",zoomOnClick:"f"},m:{disperse:"a",addMarker:"b",addMarkers:"c",removeMarker:"d",removeMarkers:"e",clearMarkers:"f",getClustersCount:"g",getMap:"h",setMap:"i",getMarkers:"j",setMarkers:"k",getGridSize:"l",setGridSize:"m",getMinClusterSize:"n",setMinClusterSize:"o",getMaxZoom:"p",setMaxZoom:"q",isAverageCenter:"r",setAverageCenter:"s",getStyles:"t",setStyles:"u"}},"AMap.MouseTool":{c:"pz",
m:{marker:"a",polyline:"b",polygon:"c",rectangle:"d",circle:"e",rule:"f",measureArea:"g",rectZoomIn:"h",rectZoomOut:"i",close:"j"}},"AMap.OverView":{c:"p0",o:{tileLayer:"a",isOpen:"b",visible:"c"},m:{open:"a",close:"b",getTileLayer:"c",setTileLayer:"d",show:"e",hide:"f"}},"AMap.PlaceSearch":{c:"p1",o:{city:"a",type:"b",lang:"c",pageSize:"d",pageIndex:"e",extensions:"f",map:"g",panel:"h"},m:{clear:"a",setLang:"b",searchInBounds:"c",searchNearBy:"d",getDetails:"e",setType:"f",setPageIndex:"g",setPageSize:"h",
setCity:"i",close:"j",open:"k"}},"AMap.PlaceSearchLayer":{c:"p2",o:{map:"a",keywords:"b"},m:{setMap:"a",setKeywords:"b"}},"AMap.PlaceSearchRender":{c:"p3"},"AMap.PolyEditor":{c:"p4",m:{open:"a",close:"b"}},"AMap.RangingTool":{c:"p5",o:{startMarkerOptions:"a",midMarkerOptions:"b",endMarkerOptions:"c",lineOptions:"d",tmpLineOptions:"e",startLabelText:"f",midLabelText:"g",endLabelText:"h",startLabelOffset:"i",midLabelOffset:"j",endLabelOffset:"k"},m:{turnOn:"a",turnOff:"b"}},"AMap.RoadInfoSearch":{c:"p6",
o:{pageIndex:"a",pageSize:"b",city:"c"},m:{setPageIndex:"a",setPageSize:"b",setCity:"c",roadInfoSearchByRoadId:"d",roadInfoSearchByRoadName:"e",crossInfoSearchByCrossId:"f",crossInfoSearchByRoadName:"g"}},"AMap.Scale":{c:"p7",m:{show:"a",hide:"b"}},"AMap.StationSearch":{c:"p8",o:{pageIndex:"a",pageSize:"b",city:"c"},m:{setPageIndex:"a",setPageSize:"b",setCity:"c",searchById:"d",search:"e"}},"AMap.ToolBar":{c:"p9",o:{offset:"a",ruler:"b",direction:"c",autoPosition:"d",locationMarker:"e",useNative:"f"},
m:{getOffset:"a",setOffset:"b",hideRuler:"c",showRuler:"d",hideDirection:"e",showDirection:"f",hideLocation:"g",showLocation:"h",hide:"i",show:"j",doLocation:"k",getLocation:"l"}},"AMap.Transfer":{c:"1",o:{city:"a",policy:"b",nightflag:"c",cityd:"d",extensions:"e",map:"f",panel:"g",hideMarkers:"h"},m:{clear:"a",search:"b",leaveAt:"c",setPolicy:"d",setCity:"e",setCityd:"f",close:"g",open:"h"}},"AMap.TransferRender":{c:"2"},"AMap.UTFGrid":{c:"3",m:{setMap:"a"}},"AMap.Walking":{c:"4",o:{map:"a",panel:"b",
hideMarkers:"c"},m:{clear:"a",search:"b",close:"c",open:"d"}},"AMap.WalkingRender":{c:"5"},"AMap.Weather":{c:"6",m:{getLive:"a",getForecast:"b"}},"AMap.IndoorMap":{p:"AMap.CustomLayer",c:"7",o:{alwaysShow:"9a"},m:{showIndoorMap:"9a",showFloor:"9b",showFloorBar:"9c",hideFloorBar:"9d",hideLabels:"9e",showLabels:"9f",getSelectedBuildingId:"9g",getSelectedBuilding:"9h",setSelectedBuildingId:"9i",getVisibleBuildingIds:"9j"}}};
C.a.nQ=C.BuryPoint.getMethodName=function(a,b){var c;for(c=this.bf[a].m&&this.bf[a].m[b];!c&&this.bf[a].p;){var d=this.bf[a].p;c=this.bf[d].m&&this.bf[d].m[b];a=d}c||(c=b);return c};C.a.add=C.BuryPoint.add=function(a,b,c){var d=this.bf[a].c;if(d){if(b){a=this.nQ(a,b);if(!a)return;d+=","+a}this.QE[d]=1;c&&(this.gw[d]=c)}};
C.a.Ma=C.BuryPoint.addOptions=function(a,b){var c=this.bf[a].c,d,f;for(f in b)(d=this.bf[a].o&&this.bf[a].o[f])||(d=f),d=c+","+d,this.options[d]=1;"AMap.Map"==a&&this.hI(a,b,["mapStyle","lang","renderer","zoom"])};C.a.hI=C.BuryPoint._addOptionsValue=function(a,b,c){for(var d=0,f,g;d<c.length;d++)f=c[d],b&&b[f]&&(g={},g[f]=b[f],this.ON(a,g))};C.a.ON=C.BuryPoint.addOptionsValue=function(a,b){var c=this.bf[a].c,d,f;for(f in b)(d=this.bf[a].o&&this.bf[a].o[f])||(d=f),d=c+","+d,this.tw[d]=b[f]};
C.a.send=C.BuryPoint.send=function(){var a=[],b=[],c=[],d=[],f=C.a,g;for(g in f.QE)1!=f.rA[g]&&a.push(g);for(g in f.gw)1!=f.sA[g]&&b.push(g+"="+f.gw[g]);for(g in f.options)1!=f.aB[g]&&c.push(g);for(g in f.tw)1!=f.bB[g]&&d.push(g+"="+f.tw[g]);if(0<a.length||0<b.length||0<c.length||0<d.length)new C.ha.va(C.k.Pc+"://webapi.amap.com/count?"+["type=f","k="+C.k.key,"u="+C.k.Np,"m="+(C.h.V?1:0),"pf="+C.h.Bw,"methods="+a.join("@"),"methodsParams="+b.join("@"),"options="+c.join("@"),"optionsValue="+d.join("@")].join("&")),
f.clear(a,b,c,d);window.setTimeout(f.send,1E4)};C.a.clear=C.BuryPoint.clear=function(a,b,c,d){for(var f=0;f<a.length;f++)this.rA[a[f]]=1;for(f=0;f<b.length;f++)this.sA[b[f].split("=")[0]]=1;for(f=0;f<c.length;f++)this.aB[c[f]]=1;for(f=0;f<d.length;f++)this.bB[d[f].split("=")[0]]=1};window.setTimeout(C.a.send,1E4);C.T=function(){};
C.T.extend=C.T.extend=function(a){function b(){}function c(){this.D&&(this.D.apply(this,arguments),this.CLASS_NAME&&C.a.add(this.CLASS_NAME))}b.prototype=this.prototype;var d=new b;d.constructor=c;c.prototype=d;for(var f in this)this.hasOwnProperty(f)&&"prototype"!==f&&(c[f]=this[f]);a.BG&&(C.extend(c,a.BG),a.BG=null);a.eb&&(C.extend.apply(null,[d].concat(a.eb)),a.eb=null);a.B&&d.B&&(a.B=C.extend({},d.B,a.B));C.extend(d,a);a.toString&&(d.toString=a.toString);c.dh=this.prototype;return c};
C.T.Xc=C.T.include=function(a){C.extend(this.prototype,a)};C.extend=function(a){var b=Array.prototype.slice.call(arguments,1),c,d,f,g;d=0;for(f=b.length;d<f;d+=1)for(c in g=b[d]||{},g)Object.prototype.hasOwnProperty.call(g,c)&&("function"===typeof g[c]&&"function"===typeof a[c]&&(g[c].Ya=a[c]),a[c]=g[c]);return a};C.T.sl=function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];this.prototype[b]&&(this.prototype[c]=this.prototype[b])}};C.pa={d:function(a,b,c,d,f){if(this.ne(a,b,c||this))return this;var g=this.kg=this.kg||{};g[a]=g[a]||[];f?g[a].unshift({Ca:b,af:c||this,Pg:d}):g[a].push({Ca:b,af:c||this,Pg:d});"complete"===a&&this.tb&&this.q(a);return this},ne:function(a,b,c){var d=this.kg;if(b&&c){if(d&&a in d&&d[a])for(var f=0;f<d[a].length;f+=1)if(d[a][f].Ca===b&&d[a][f].af===c)return!0;return!1}return d&&a in d&&d[a]&&0<d[a].length},F:function(a,b,c){if(!this.ne(a))return this;var d=this.kg;if(d&&d[a])for(var f=0;f<d[a].length;f+=
1)if(!(d[a][f].Ca!==b&&"mv"!==b||c&&d[a][f].af!==c)){d[a].splice(f,1);d[a].length||(d[a]=null);break}return this},q:function(a,b){if(!this.ne(a))return this;for(var c=C.extend({type:a},b),d=[].concat(this.kg[a]),f=0;f<d.length;f+=1)d[f].Ca&&(d[f].Ca.call(d[f].af||this,c),d[f].Pg&&this.kg[a]&&this.kg[a].splice(f,1));return this},hn:function(a){a?this.kg&&this.kg[a]&&(this.kg[a]=null):this.kg=null;return this}};C.pa.on||(C.pa.on=C.pa.d);C.pa.off||(C.pa.off=C.pa.F);C.pa.emit||(C.pa.emit=C.pa.q);C.Rc={set:function(a,b,c){var d=this.of;if(d&&d[a]){var d=d[a],f="set"+this.PD(a);d[f]?(d[f](b,c),c||this.Rq(a,b)):d.set(a,b,c)}else(this.Qe=this.Qe||{})[a]=b,c||this.Rq(a,b)},PD:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},get:function(a,b,c){var d,f=this.of;d="get"+this.PD(a);if(f&&f[a])return c=f[a],c[d]?c[d](b):c.get(a,b);if(this[d]&&!c)return this[d](b);if(this.Qe&&this.Qe.hasOwnProperty(a))return this.Qe[a]},L:function(a,b,c){this.of||(this.of={});this.of[a]!==b&&(b.d(a,function(b){this.Rq(a,
b)},this),this.of[a]=b,c||this.Rq(a))},jd:function(a,b,c){for(var d=0;d<a.length;d+=1)this.L(a[d],b,!c)},zk:function(a){this.of&&this.of[a]&&(this.of[a].F(a,"mv",this),this.of[a]=void 0)},jo:function(){if(this.of)for(var a in this.of)this.of.hasOwnProperty(a)&&this.zk(a)},Rq:function(a,b){if(this[a+"Changed"])this[a+"Changed"](b);else this.GC&&this.GC();this.q(a,b)},XW:function(a,b,c){var d=new (C.T.extend({eb:[C.pa,C.Rc]}));d.GC=function(){for(var b=!0,f=0;f<a.length;f+=1)d.get(a[f])||(b=!1);b&&
(d.jo(),c())};for(var f=0;f<a.length;f+=1)d.L(a[f],b)},Le:function(a,b){var c,d;for(c in a)a.hasOwnProperty(c)&&(d=a[c],this.set(c,d,b))}};C||(C={});C.ue={};
C.k={localStorage:!0,Mp:500,kr:!0,Ug:"1.3.17.10",key:"",Pc:"http",Uc:[115.423412,39.442759,117.514625,41.060816,116.405285,39.904989],Xb:"http://restapi.amap.com",ab:"http://webapi.amap.com",Iq:"http://www.amap.com",Oi:"http://m.amap.com",zq:"http://webrd0{1,2,3,4}.is.autonavi.com/appmaptile?lang=[lang]&size=1&scale=1&style=8&x=[x]&y=[y]&z=[z]",Aq:"http://wprd0{1,2,3,4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x=[x]&y=[y]&z=[z]&scl=1&ltype=11",Tw:"http://webst0{1,2,3,4}.is.autonavi.com/appmaptile?style=6&x=[x]&y=[y]&z=[z]",Sw:"http://webst0{1,2,3,4}.is.autonavi.com/appmaptile?x=[x]&y=[y]&z=[z]&lang=zh_cn&size=1&scale=1&style=8",
Zq:"http://wprd0{1,2,3,4}.is.autonavi.com/appmaptile?x=[x]&y=[y]&z=[z]&lang=zh_cn&size=1&scl=1&style=8&ltype=11",wr:"http://wprd0{1,2,3,4}.is.autonavi.com/appmaptile?lang=[lang]&size=1&style=7&x=[x]&y=[y]&z=[z]",no:"http://vector.amap.com",Br:"vdata.amap.com",YG:"ws"};
function Mb(a){C.h=a.h;C.se=a.se;a.h=null;C.k.ab=a[2].split(",")[0];var b=C.k.Pc=C.k.ab.split(":")[0];"https"===b&&(C.k.YG="wss",C.k.Xb=C.k.Xb.replace("http","https"),C.k.zq=C.k.zq.replace("http","https"),C.k.Aq=C.k.Aq.replace("http","https"),C.k.Tw=C.k.Tw.replace("http","https"),C.k.Sw=C.k.Sw.replace("http","https"),C.k.Zq=C.k.Zq.replace("http","https"),C.k.wr=C.k.wr.replace("http","https"),C.k.no=C.k.no.replace("http","https"));var c=window.location.href;0!==c.indexOf("http")&&window.parent&&window.parent!==
window&&(c=window.parent.location.href);C.k.OP=c;c=encodeURIComponent(c);C.k.Np=c;C.k.Gh=C.k.ab+"/theme/v1.3/markers/"+(C.h.ja?"b":"n");var d=document.createElement("style");d.type="text/css";C.k.bP="url("+b+"://webapi.amap.com/theme/v1.3/openhand.cur),default";var f=".amap-container{cursor:"+C.k.bP+";}.amap-drag{cursor:url("+b+"://webapi.amap.com/theme/v1.3/closedhand.cur),default;}";d.styleSheet?(b=function(){try{d.styleSheet.cssText=f}catch(a){}},d.styleSheet.disabled?setTimeout(b,10):b()):d.appendChild(document.createTextNode(f));
(document.head||document.getElementsByTagName("head")[0]).appendChild(d);C.k.mode=Number(a[3]);C.k.Uc=a[1];C.k.key=a[0];C.k.VB=a[4];C.k.$e=a[5];C.k.GN=a[6]}window.AMap&&window.AMap.xx&&window.AMap.xx.__load__&&window.AMap.xx.__load__(Mb);C.Mx={gP:Math.PI/180,wS:180/Math.PI};(function(){function a(a){return"undefined"==typeof a?"":a}C.Jd={oQ:function(b){b.name=a(b.name);var c=[b.y,b.x,b.name];if(C.h.V){var d=[C.k.Oi+"/callAPP?","src=jsapi_q"];d.push("&ios="+encodeURIComponent("viewMap?sourceApplication=jsapi_q&dev=0&poiname="+b.name+"&lat="+b.y+"&lon="+b.x));d.push("&android="+encodeURIComponent("androidamap?action=shorturl&q="+c.join(",")+"&sourceApplication=jsapi_q"));d.push("&wp="+encodeURIComponent("viewMap?sourceApplication=jsapi_q&dev=0&poiname="+b.name+"&lat="+
b.y+"&lon="+b.x));d.push("&mo="+encodeURIComponent(C.k.Oi+"?q="+c.join(",")+"&callapp=0&sourceApplication=jsapi_q"));return d.join("")}return C.k.Iq+"?q="+c.join(",")+"&src=jsapi_q"},ID:function(b){b.name=a(b.name);b.address=a(b.address);b.x=a(b.x);b.y=a(b.y);var c=[b.id,b.y,b.x,b.name,b.address];if(C.h.V){var d=[C.k.Oi+"/callAPP?","src=jsapi_p"];d.push("&ios="+encodeURIComponent("multiPointShow?sourceApplication=jsapi_p&dev=0&q="+[b.y,b.x,b.name,b.address,b.id].join()+"&title="+b.name));d.push("&android="+
encodeURIComponent("androidamap?action=shorturl&p="+c.join(",")+"&sourceApplication=jsapi_p"));d.push("&wp="+encodeURIComponent("multiPointShow?sourceApplication=jsapi_p&dev=0&q="+[b.y,b.x,b.name,b.address,b.id].join()+"&title="+b.name));d.push("&mo="+encodeURIComponent(C.k.Oi+"/?p="+c.join(",")+"&callapp=0&sourceApplication=jsapi_p"));return d.join("")}return C.k.Iq+"?p="+c.join(",")+"&src=jsapi_p"},GD:function(b){if(C.h.V){var c=[C.k.Oi+"/callAPP?","src=jsapi_detail"];c.push("&ios="+encodeURIComponent("viewPOIDetail?sourceApplication=jsapi_detail&poiid="+
b.id));b.name=a(b.name);b.x=a(b.x);b.y=a(b.y);c.push("&android="+encodeURIComponent("androidamap?action=openFeature&featureName=PoiDetail&poiid="+b.id+"&poiname="+b.name+"&x="+b.x+"&y="+b.y+"&sourceApplication=jsapi_detail"));c.push("&wp="+encodeURIComponent("viewPOIDetail?sourceApplication=jsapi_detail&poiid="+b.id));c.push("&mo="+encodeURIComponent(C.k.Oi+"/detail/index/poiid="+b.id+"&sourceApplication=jsapi_detail"));return c.join("")}return C.k.Iq+"/detail/"+b.id+"?src=jsapi_detail"},sv:function(b){b.sname=
a(b.sname);""==b.sname&&(b.sname="\u8d77\u70b9");b.dname=a(b.dname);""==b.dname&&(b.dname="\u7ec8\u70b9");b.mcount=a(b.mcount);b.my=a(b.my);b.mx=a(b.mx);b.mname=a(b.mname);var c=[b.sy,b.sx,b.sname,b.dy,b.dx,b.dname,b.m,b.t,b.mcount,b.my,b.mx,b.mname];if(C.h.V){var d=[C.k.Oi+"/callAPP?","src=jsapi_r_"+b.t];d.push("&ios="+encodeURIComponent("path?sourceApplication=jsapi_r_"+b.t+"&dev=0&slat="+b.sy+"&slon="+b.sx+"&sname="+b.sname+"&dlat="+b.dy+"&dlon="+b.dx+"&dname="+b.dname+"&m="+b.m+"&t="+b.t+"&vian=0&vialons=&vialats=&vianames="));
var f=b.t;0===b.t?f=2:2===b.t&&(f=4);d.push("&android="+encodeURIComponent("androidamap://route?sourceApplication=jsapi_r_"+b.t+"&slat="+b.sy+"&slon="+b.sx+"&sname="+b.sname+"&dlat="+b.dy+"&dlon="+b.dx+"&dname="+b.dname+"&dev=0&"+b.m+"&t="+f));d.push("&wp="+encodeURIComponent("path?sourceApplication=jsapi_r_"+b.t+"&dev=0&slat="+b.sy+"&slon="+b.sx+"&sname="+b.sname+"&dlat="+b.dy+"&dlon="+b.dx+"&dname="+b.dname+"&m="+b.m+"&t="+b.t+"&vian=0&vialons=&vialats=&vianames="));d.push("&mo="+encodeURIComponent(C.k.Oi+
"/?r="+c.join(",")+"&callapp=0&sourceApplication=jsapi_r_"+b.t));return d.join("")}return C.k.Iq+"?r="+c.join(",")+"src=jsapi_r_"+b.t},Xi:function(a){C.h.V?window.location.href=a:window.open(a)}}})();C.g={qr:[],ra:4.007501668557849E7,sO:"ASDFGHJKLQWERTYUIO!sdfghjkl",zb:function(a){if("object"===typeof a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=C.g.zb(a[c]));return b}return a},jE:function(a){return"object"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===typeof a&&1===a.nodeType&&"string"===typeof a.nodeName},cU:function(a){var b,c,d,f,g;c=[];d=NaN;f=0;for(g=a.length;f<g;f+=1)b=a[f],b=this.sO.indexOf(b),isNaN(d)?d=27*b:(c.push(d+b-333),d=NaN);return c},mT:function(a,b){for(var c=
Math.ceil(b.length/8),d=0;d<c;d+=1){var f=8*d,g=f+8;g>b.length&&(g=b.length);for(;f<g;f+=1)a(b[f])}},Zu:function(a,b,c){var d,f;d=Math.floor(c/2);f=c-d;d=(1<<d)-1<<f;f=(1<<f)-1;return[c,a&d|b&f,b&d|a&f]},Tj:function(a){return a?encodeURIComponent(a):""},pc:function(a,b,c,d){c=a[b].i[c];if("undefined"===typeof c)return null;a=a[b].s;if("number"===typeof c)return a[c];for(;"undefined"===typeof c[d.toString()]&&!(d-=1,3>d););d=c[d.toString()];return"number"===typeof d?a[d]:null},kC:function(a){for(var b=
[],c=0,d=a.length;c<d;c+=2)b.push(parseInt(a.substr(c,2),16));b.push((b.shift()/255).toFixed(2));return"rgba("+b.join(",")+")"},Gn:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},rl:function(a,b){return 0>b?a:a.slice(0,b).concat(a.slice(b+1,a.length))},indexOf:function(a,b){if(a&&!a.length)return-1;if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c+=1)if(a[c]===b)return c;return-1},bind:function(a,b){var c=2<arguments.length?Array.prototype.slice.call(arguments,2):null;
return function(){return a.apply(b,c||arguments)}},Ta:function(a,b){b=b||{};a.B=C.extend({},a.B,b);return a.B},mD:function(){return!1},yD:function(a,b){return(a||"")+Math.round(Math.random()*Math.pow(10,b||6))},Mb:function(){var a=0;return function(b){b._amap_id||(a+=1,b._amap_id=a);return b._amap_id}}(),DP:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",$j:Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},bX:function(a,b,c,d){var f;if(d){var g=0,h,k=this.$j;
f=function(){h=k();if(h-g<b)return!1;g=h;a.apply(c,arguments)}}else{var l,m,n;n=function(){l=!1;m&&(f.apply(c,m),m=!1)};f=function(){l?m=arguments:(l=!0,a.apply(c,arguments),setTimeout(n,b))}}return f},ag:function(a,b){return Number(Number(a).toFixed(b||0))},isArray:function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)},DG:function(a){var b=0;if(0===a.length)return b;for(var c,d=0,f=a.length;d<f;d+=1)c=a.charCodeAt(d),b=(b<<5)-b+c,b&=b;return b},XE:function(a){return"undefined"!==
typeof JSON&&JSON.stringify?C.g.DG(JSON.stringify(a)):null},RX:function(a,b){if(b||!a.hasOwnProperty("_amap_hash")){var c=C.g.XE(a);c&&(a._amap_hash=c)}return a._amap_hash},iepngFix:function(a){function b(){for(var a;c.length;)a=c.shift(),window.DD_belatedPNG.fixPng(a);d.Qv=!0}this.BF||(this.BF=[],this.Qv=!1);var c=this.BF,d=this;if("img"===a.tagName.toLowerCase())c.push(a);else{a=a.getElementsByTagName("*");for(var f=0;f<a.length;f+=1)c.push(a[f])}window.DD_belatedPNG&&this.Qv?setTimeout(function(){b()},
100):this.Qv||C.bb.load("AMap.FixPng",b)},da:function(a){if(C.g.isArray(a))if(C.g.isArray(a[0]))for(var b=0;b<a.length;b+=1)a[b]=C.g.da(a[b]);else if(b=typeof a[0],"string"===b||"number"===b)return new C.M(a[0],a[1]);return a},Qi:function(a){return C.g.isArray(a)?new C.hc(a[0],a[1]):a}};
(function(){function a(a){window.clearTimeout(a)}function b(a){var b,c,d=["webkit","moz","o","ms"];for(b=0;b<d.length&&!c;b+=1)c=window[d[b]+a];return c}function c(a){var b=+new Date,c=Math.max(0,100-(b-d));d=b+c;return window.setTimeout(a,c)}var d=0,f=window.requestAnimationFrame||b("RequestAnimationFrame")||c,g=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||a;C.g.Yd=function(a,b,c,d){a=C.g.bind(a,b);if(c)a();else return f.call(window,a,d)};C.g.ll=function(a){a&&
g.call(window,a)}})();C.g.YS=window.requestIdleCallback?window.requestIdleCallback.bind(window):function(a){var b=Date.now();return setTimeout(function(){a({didTimeout:!1,timeRemaining:function(){return Math.max(0,70-(Date.now()-b))}})},0)};C.g.nO=window.cancelIdleCallback?window.cancelIdleCallback.bind(window):function(a){clearTimeout(a)};(function(a){var b=a.T.extend({eb:[a.pa],D:function(){}});a.wo=new b})(C);(function(a){var b=a.T.extend({eb:[a.pa],D:function(){this.rK()},rK:function(){a.wo&&a.wo.d("vecTileParsed.buildings",this.jK,this)},nE:function(a){return a.map.Sz},AD:function(a){return this.nE(a)?a.map.et:null},tT:function(a,b){if(b){var f=b.map;f&&(f.et?f.et.toString():"")!==(a?a.toString():"")&&(f.et=a||[],f.set("display",0))}},kG:function(a,b){if(b){var f=b.map;f&&f.Sz!==a&&(f.Sz=a,f.set("display",0))}},dV:function(){},Pz:function(a,b){if(a)for(var f=0,g=a.length;f<g;f++)a[f]&&0>b.indexOf(a[f])&&
b.push(a[f])},pD:function(b){if(!b)return null;b=b.map.Ra;for(var d=0,f=b.length;d<f;d++)if(a.S.Zg&&b[d]instanceof a.S.Zg)return b[d];return null},PP:function(a){if(a=this.pD(a)){if(a=a.qb.get("tiles",null,!0))a=a[0];else return null;if(!a||!a.length)return null;for(var b=[],f=0,g=a.length;f<g;f++){var h=a[f];h.nj&&h.nj.zd&&this.Pz(h.nj.zd,b)}return b}},jK:function(a){if(a.nx&&a.nx.nj&&(a=a.nx.nj.zd)){var b=[];this.Pz(a,b);this.q("vecTileParsed.builds.found",{BC:b})}}});a.we=new b})(C);C.e={get:function(a){return"string"===typeof a?document.getElementById(a):a},eX:function(a,b){var c=document.head||document.getElementsByTagName("head")[0];if(c){var d=document.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("type","text/css");d.setAttribute("href",a);b?c.appendChild(d):c.insertBefore(d,c.firstChild)}else document.write("<link rel='stylesheet' href='"+a+"'/>")},pc:function(a,b){var c=a.style[b];!c&&a.currentStyle&&(c=a.currentStyle[b]);c&&"auto"!==c||!document.defaultView||
(c=(c=document.defaultView.getComputedStyle(a,null))?c[b]:null);c&&"auto"!==c||"height"!==b||(c=a.clientHeight+"px");c&&"auto"!==c||"width"!==b||(c=a.clientWidth+"px");return"auto"===c?null:c},oq:function(a){if(a)return new C.hc(a.clientWidth||document.body.clientWidth,a.clientHeight||(C.h.Al?"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight:document.body.clientHeight),!0)},TP:function(a){return new C.hc(a.clientWidth,a.clientHeight)},xv:function(a){var b=
0,c=0,d=a,f=document.body,g=document.documentElement,h,k=C.h.Cn;do{b+=d.offsetTop||0;c+=d.offsetLeft||0;b+=parseInt(C.e.pc(d,"borderTopWidth"),10)||0;c+=parseInt(C.e.pc(d,"borderLeftWidth"),10)||0;h=C.e.pc(d,"position");if(d.offsetParent===f&&"absolute"===h)break;if("fixed"===h){b+=f.scrollTop||g.scrollTop||0;c+=f.scrollLeft||g.scrollLeft||0;break}d=d.offsetParent}while(d);d=a;do{if(d===f)break;b-=d.scrollTop||0;c-=d.scrollLeft||0;C.e.pP()||!C.h.vU&&!k||(c+=d.scrollWidth-d.clientWidth,k&&"hidden"!==
C.e.pc(d,"overflow-y")&&"hidden"!==C.e.pc(d,"overflow")&&(c+=17));d=d.parentNode}while(d);return new C.K(c,b)},pP:function(){C.e.rJ||(C.e.rJ=!0,C.e.qJ="ltr"===C.e.pc(document.body,"direction"));return C.e.qJ},create:function(a,b,c){a=document.createElement(a);c&&(a.className=c);b&&b.appendChild(a);return a},ZC:function(){document.selection&&document.selection.empty&&document.selection.empty();this.TL||(this.TL=document.onselectstart,document.onselectstart=C.g.mD)},eD:function(){},zl:function(a,b){if(a&&
b)return 0<a.className.length&&RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},Ub:function(a,b){a&&b&&!C.e.zl(a,b)&&(a.className+=(a.className?" ":"")+b)},Wb:function(a,b){function c(a,c){return c===b?"":a}a&&b&&(a.className=a.className.replace(/(\S+)\s*/g,c).replace(/(^\s+|\s+$)/,""))},CD:function(a,b){return 1===b?"":"opacity"in a.style?"opacity:"+b:8<=document.documentMode?"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(opacity="+Math.ceil(100*b)+")'":"filter:alpha(opacity="+Math.ceil(100*
b)+")"},Vi:function(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style){a=a.childNodes.length?a.childNodes:[a];for(var c=Math.round(100*b),d=0;d<a.length;d+=1)a[d].childNodes&&a[d].childNodes.length?this.Vi(a[d],b):a[d].style&&(a[d].style.filter="",100!==c&&(a[d].style.filter=" progid:DXImageTransform.Microsoft.Alpha(opacity="+c+")"))}},jx:function(a){for(var b=document.documentElement.style,c=0;c<a.length;c+=1)if(a[c]in b)return a[c];return!1},ND:function(a){var b=C.h.wU;return"translate"+
(b?"3d":"")+"("+a.x+"px,"+a.y+"px"+((b?",0":"")+")")},FW:function(a,b){return C.e.ND(b.add(b.ec(-1*a)))+(" scale("+a+") ")},MX:function(a,b,c){a.de=b;!c&&C.h.SN?(b=C.e.ND(b),c=a.style[C.e.ed].split("rotate"),1<c.length?(c[0]=b,a.style[C.e.ed]=c.join("rotate")):a.style[C.e.ed]=b,C.h.rR&&(a.style.WebkitBackfaceVisibility="hidden")):(a.style.left=b.x+"px",a.style.top=b.y+"px")},md:function(a){a.de||(a.de=a.style.left?new C.K(parseInt(a.style.left),parseInt(a.style.top)):new C.K(0,0));return a.de},KX:function(a,
b){a=a instanceof Array?a:[a];for(var c=0;c<a.length;c+=1)a[c].style.cssText=b},hG:function(a,b){";"!==b[b.length-1]&&(b+=";");return b.toLowerCase()!==a.style.cssText.replace(/ /g,"").toLowerCase()?(a.style.cssText=b,!0):!1},ba:function(a,b){a=a instanceof Array?a:[a];for(var c=0;c<a.length;c+=1)for(var d in b)b.hasOwnProperty(d)&&(a[c].style[d]=b[d]);return this},BS:function(a){for(;a.childNodes.length;)a.removeChild(a.childNodes[0])},remove:function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},
rotate:function(a,b,c){var d=C.e.ed;c=c||{x:a.clientWidth/2,y:a.clientHeight/2};d?(a.style[d]=""+(" rotate("+b+"deg)"),a.style[C.e.Yi[d]+"-origin"]=c.x+"px "+c.y+"px"):(d=Math.cos(b*Math.PI/180),b=Math.sin(b*Math.PI/180),a.style.filter="progid:DXImageTransform.Microsoft.Matrix()",0<a.filters.length&&(a=a.filters.item(0),a.KU=-c.x*d+c.y*b+c.x,a.LU=-c.x*b-c.y*d+c.y,a.M11=a.M22=d,a.M12=-(a.M21=b)))},rQ:function(a,b,c){var d=C.e.ed;c=c||{x:a.clientWidth/2,y:a.clientHeight/2};return d?C.e.Yi[d]+":"+(""+
(" rotate("+b+"deg)"))+";"+(C.e.Yi[d]+"-origin:"+c.x+"px "+c.y+"px"):""},Oh:function(a,b,c){a.width=b;a.height=c},getElementsByClassName:function(a,b,c){b=b||"*";c=c||document;if(c.getElementsByClassName)return c.getElementsByClassName(a);b=c.getElementsByTagName(b);a=RegExp("(^|\\s)"+a+"(\\s|$)");c=[];for(var d=0,f;d<b.length;d++)f=b[d],a.test(f.className)&&c.push(f);return c},fillText:function(a,b){if(a)return void 0!==a.textContent?a.textContent=b:void 0!==a.innerText?a.innerText=b:a.innerHTML=
b,a}};(function(){var a=C.e.jx(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),b;C.extend(C.e,{ZC:function(){C.l.d(window,"selectstart",C.l.preventDefault);if(a){var c=document.documentElement.style;"none"!==c[a]&&(b=c[a],c[a]="none")}},eD:function(){C.l.F(window,"selectstart",C.l.preventDefault);a&&"none"!==b&&(document.documentElement.style[a]=b,b="none")},jP:function(){C.l.d(window,"dragstart",C.l.preventDefault)},EP:function(){C.l.F(window,"dragstart",C.l.preventDefault)}})})();
C.e.ed=C.e.jx(["WebkitTransform","OTransform","MozTransform","msTransform","transform"]);C.e.Yi={transform:"transform",WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MozTransform:"-moz-transform",msTransform:"-ms-transform"};C.e.Rr=C.e.jx(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);C.e.UU="webkitTransition"===C.e.Rr||"OTransition"===C.e.Rr?C.e.Rr+"End":"transitionend";C.l={d:function(a,b,c,d){function f(b){b=b||window.event;b.target=b.target||b.srcElement;return c.call(d||a,b,k)}var g=C.g.Mb(c),h=b+g;if(a[h])return this;var k=b;C.h.qD&&"mousewheel"===b&&(b="DOMMouseScroll");if(C.h.Al&&("mouseover"===b||"mouseout"===b)){var l=f;b="mouseover"===b?"mouseenter":"mouseleave";f=function(a){l(a)}}if(C.h.TE&&0===b.indexOf("touch"))return a[h]=f,this.KN(a,b,f,g);C.h.wc&&"dblclick"===b&&this.JN&&this.JN(a,f,g);"addEventListener"in a?a.addEventListener(b,f,!1):"attachEvent"in
a?a.attachEvent("on"+b,f):a["on"+b]=f;a[h]=f;return this},Pg:function(a,b,c,d){var f=this;this.d(a,b,function h(k){f.F(a,b,h);return c.call(d||a,k||window.event,b)},d)},F:function(a,b,c){c=C.g.Mb(c);var d=b+c,f=a[d];C.h.qD&&"mousewheel"===b&&(b="DOMMouseScroll");!C.h.Al||"mouseover"!==b&&"mouseout"!==b||(b="mouseover"===b?"mouseenter":"mouseleave");C.h.TE&&-1<b.indexOf("touch")?this.FS(a,b,c):C.h.wc&&"dblclick"===b&&this.CS?this.CS(a,c):"removeEventListener"in a?a.removeEventListener(b,f,!1):"detachEvent"in
a&&-1===b.indexOf("touch")?f&&a.detachEvent("on"+b,f):a["on"+b]=null;a[d]=null;return this},OX:function(a,b){var c=document.createEvent("MouseEvents");c.initMouseEvent(a,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(c)},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return this},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;return this},stop:function(a){return C.l.preventDefault(a).stopPropagation(a)},
bW:function(a){for(var b=C.l.stopPropagation,c=C.jH.HH.length-1;0<=c;c-=1)C.l.d(a,C.jH.HH[c],b);return C.l.d(a,"click",b).d(a,"dblclick",b)},oT:function(a){return a&&a.getBoundingClientRect?(a.Sr=a.getBoundingClientRect(),a.ny=[a.clientLeft,a.clientTop],!0):!1},eU:function(a){a.Sr&&(a.Sr=null,a.ny=null)},GP:function(a,b){var c=b.Sr||b.getBoundingClientRect(),d=b.ny||[b.clientLeft,b.clientTop];return new C.K(a.clientX-c.left-d[0],a.clientY-c.top-d[1])},yf:function(a,b){if(b&&b.getBoundingClientRect)return this.GP(a,
b);var c=document.body,d=document.documentElement,c=new C.K(C.h.wc?a.pageX:a.clientX+(c.scrollLeft||d.scrollLeft),C.h.wc?a.pageY:a.clientY+(c.scrollTop||d.scrollTop));return b?c.Ia(C.e.xv(b)):c},qE:function(a){return 1===a.which||0===a.button||1===a.button}};C.extend(C.l,{At:[],uA:!1,KN:function(a,b,c,d){switch(b){case "touchstart":return this.NN(a,b,c,d);case "touchend":return this.LN(a,b,c,d);case "touchmove":return this.MN(a,b,c,d);default:throw"Unknown touch event type";}},NN:function(a,b,c,d){function f(a){for(var b=!1,d=0;d<g.length;d+=1)if(g[d].pointerId===a.pointerId){b=!0;break}b||g.push(a);a.touches=g.slice();a.changedTouches=[a];c(a)}var g=this.At;a["_amap_touchstart"+d]=f;a.addEventListener("MSPointerDown",f,!1);this.uA||(a=function(a){for(var b=
0;b<g.length;b+=1)if(g[b].pointerId===a.pointerId){g.splice(b,1);break}},document.documentElement.addEventListener("MSPointerUp",a,!1),document.documentElement.addEventListener("MSPointerCancel",a,!1),this.uA=!0);return this},MN:function(a,b,c,d){function f(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE||0!==a.buttons){for(var b=0;b<g.length;b+=1)if(g[b].pointerId===a.pointerId){g[b]=a;break}a.touches=g.slice();a.changedTouches=[a];c(a)}}var g=this.At;a["_amap_touchmove"+d]=f;a.addEventListener("MSPointerMove",
f,!1);return this},LN:function(a,b,c,d){function f(a){for(var b=0;b<g.length;b+=1)if(g[b].pointerId===a.pointerId){g.splice(b,1);break}a.touches=g.slice();a.changedTouches=[a];c(a)}var g=this.At;a["_amap_touchend"+d]=f;a.addEventListener("MSPointerUp",f,!1);a.addEventListener("MSPointerCancel",f,!1);return this},FS:function(a,b,c){c=a["_amap_"+b+c];switch(b){case "touchstart":a.removeEventListener("MSPointerDown",c,!1);break;case "touchmove":a.removeEventListener("MSPointerMove",c,!1);break;case "touchend":a.removeEventListener("MSPointerUp",
c,!1),a.removeEventListener("MSPointerCancel",c,!1)}return this}});(function(){function a(a){var b=a.target||a.srcElement;b.wy&&g(b.wy);b.wy=f(function(){var c=b.ah;if(c&&c.$g)for(var d=0;d<c.$g.length;d+=1)c.$g[d].call(c,a)})}function b(){var b=this.contentDocument.defaultView;b.ah=this.dI;b.addEventListener("resize",a);a.call(b,{target:b})}var c=document.attachEvent,d=navigator.userAgent.match(/Trident/),f=C.g.Yd,g=C.g.ll;C.extend(C.l,{PN:function(f,g){if(!f.$g)if(f.$g=[],c)f.ah=f,f.attachEvent("onresize",a);else{"static"===window.getComputedStyle(f).position&&
(f.style.position="relative");var l=f.ah=document.createElement("object");l.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;");l.dI=f;l.onload=b;l.type="text/html";d&&f.appendChild(l);l.data="about:blank";d||f.appendChild(l)}f.$g.push(g)},zX:function(b,d){b.$g.splice(b.$g.indexOf(d),1);b.$g.length||(c?b.detachEvent("onresize",a):(b.ah.contentDocument.defaultView.removeEventListener("resize",a),
b.ah=!b.removeChild(b.ah)))},FO:function(a){a.$g=null;if(a.ah){var b=a.ah;b.parentNode===a&&b.parentNode.removeChild(b);a.ah=null}}})})();C.bb={sR:C.k.ab+"/maps",XC:{overlay:["style"],"AMap.MouseTool":["AMap.RangingTool","AMap.AutoPanby"],"AMap.AdvancedInfoWindow":["AMap.Autocomplete"],"AMap.IndoorMap":["AMap.CustomLayer","cvector"]},aw:0,Ml:[],Nj:{},Cf:function(a,b){function c(){d+=1;d===f.length&&b&&b()}a.length||b();for(var d=0,f=[],g=0;g<a.length;g+=1){var h=this.XC[a[g]];if(h)for(var k=0;k<h.length;k+=1)f.push(h[k]);f.push(a[g])}for(g=0;g<f.length;g+=1)this.cv(f[g],c)},rE:function(a){for(var b=0;b<a.length;b+=1)if(1!==this.aq(a[b]).status)return!1;
return!0},cv:function(a,b){var c=this.aq(a);if(1===c.status)b&&b();else{b&&c.kl.push(b);try{if(C.h.xq&&window.localStorage){var d=window.localStorage["_AMap_"+a];d&&(d=JSON.parse(d),d.version===C.k.Ug?(window._jsload_(a,d.script,!0),d.css&&window._cssload_(a,d.css,!0)):window.localStorage.removeItem("_AMap_"+a))}}catch(f){}if(0===c.status){this.uS(a);var g=this;g.aw||(g.aw=1,window.setTimeout(function(){g.aw=0;var a=g.sR+"/modules?v="+C.k.VB+"&key="+C.k.key+"&m="+g.Ml.join(",")+"&vrs="+C.k.Ug;C.bb.vs(g.Ml.join(","));
g.Ml=[];c.dr=g.hR(a)},1));c.status=-1}}},vs:function(a){new C.ha.va(C.k.Xb+"/v3/log/init?"+["s=rsv3&product=JsModule&key="+C.k.key,"m="+a].join("&"),{callback:"callback"})},load:function(a,b){var c=this.XC[a];if(c){for(var d=[],f=0;f<c.length;f+=1)d.push(c[f]);d.push(a);for(var g=0,c=function(){g+=1;g===d.length&&b&&b()},f=0;f<d.length;f+=1)this.cv(d[f],c)}else this.cv(a,b)},uS:function(a){for(var b=0;b<this.Ml.length;b+=1)if(this.Ml[b]===a)return;this.Ml.push(a)},rk:function(a,b){var c=this.aq(a);
try{eval(b)}catch(d){return}c.status=1;for(var f=0,g=c.kl.length;f<g;f+=1)c.kl[f]();c.kl=[]},MV:function(a,b){var c=this;c.timeout=setTimeout(function(){1!==c.Nj[a].status?(c.remove(a),c.load(a,b)):clearTimeout(c.timeout)},5E3)},aq:function(a){this.Nj[a]||(this.Nj[a]={},this.Nj[a].status=0,this.Nj[a].kl=[]);return this.Nj[a]},remove:function(a){this.Nj[a]=null},hR:function(a){C.k.mode&&(a+="&mode="+C.k.mode);var b=document.createElement("script");b.charset="utf-8";b.src=a;document.body.appendChild(b);
return b}};window._jsload_=function(a,b,c){var d=C.bb.aq(a);d.dr&&C.g.indexOf(document.body.childNodes,d.dr)&&document.body.removeChild(d.dr);d.dr=null;try{if(!c&&window.localStorage&&b&&""!==b&&C.h.xq){var f=window.localStorage["_AMap_"+a],f=f||"{}",f=JSON.parse(f);f.version!==C.k.Ug||f.script?window.localStorage.setItem("_AMap_"+a,JSON.stringify({script:b,version:C.k.Ug})):window.localStorage.setItem("_AMap_"+a,JSON.stringify({script:b,css:f.css,version:C.k.Ug}))}}catch(g){}C.bb.rk(a,b)};
window._cssload_=function(a,b,c){try{!c&&window.localStorage&&b&&""!==b&&C.h.xq&&window.localStorage.setItem("_AMap_"+a,JSON.stringify({css:b,version:C.k.Ug}))}catch(d){}var f=document.createElement("style");f.type="text/css";-1===C.k.ab.indexOf("webapi.amap.com")&&(b=b.replace(eval("/webapi.amap.com/gi"),C.k.ab.split("://")[1]));"https"===C.k.Pc&&(b=b.replace(eval("/http:/gi"),"https:"));f.styleSheet?(a=function(){try{f.styleSheet.cssText=b}catch(a){}},f.styleSheet.disabled?setTimeout(a,10):a()):
f.appendChild(document.createTextNode(b));a=document.head||document.getElementsByTagName("head")[0];2>a.childNodes.length?a.appendChild(f):a.insertBefore(f,a.childNodes[1])};C.M=C.T.extend({D:function(a,b,c){var d=parseFloat(b),f=parseFloat(a);if(isNaN(a)||isNaN(b))throw"Invalid Object: LngLat("+f+", "+d+")";!0!==c&&(d=Math.max(Math.min(d,90),-90),f=(f+180)%360+(-180>f||180===f?180:-180));this.H=d;this.A=f},mQ:function(){return C.g.ag(this.A,6)},kQ:function(){return C.g.ag(this.H,6)},add:function(a,b){return new C.M(this.A+a.A,this.H+a.H,b)},Ia:function(a,b){return new C.M(this.A-a.A,this.H-a.H,b)},Bb:function(a,b){return new C.M(this.A/a,this.H/a,b)},ec:function(a,b){return new C.M(this.A*
a,this.H*a,b)},Ad:function(a){a=C.g.da(a);if(a instanceof C.M){var b=Math.PI/180,c=Math.sin((a.H-this.H)*b/2),d=Math.sin((a.A-this.A)*b/2);a=c*c+d*d*Math.cos(this.H*b)*Math.cos(a.H*b);return 12756274*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}if(a instanceof Array)return this.kP(a)},kP:function(a){a=C.g.da(a);for(var b=Infinity,c=0,d=1,f=a.length;d<f;c=d,d+=1)c=C.Vh.OC([this.A,this.H],[[a[c].A,a[c].H],[a[d].A,a[d].H]]),b=Math.min(b,this.Ad(new C.M(c[0],c[1])));return b},offset:function(a,b){if(isNaN(a)||
isNaN(b))return!1;var c=2*Math.asin(Math.sin(Math.round(a)/12756274)/Math.cos(this.H*Math.PI/180)),c=this.A+180*c/Math.PI,d=2*Math.asin(Math.round(b)/12756274);return new C.M(c,this.H+180*d/Math.PI)},Nb:function(a){a=C.g.da(a);return a instanceof C.M?1E-9>=Math.max(Math.abs(this.H-a.H),Math.abs(this.A-a.A)):!1},toString:function(){return C.g.ag(this.A,6)+","+C.g.ag(this.H,6)},zb:function(){return new C.M(this.A,this.H)}});
C.M.hQ=function(a,b,c){c=c+1||Math.round(Math.abs(a.A-b.A));if(!c||0.001>Math.abs(a.A-b.A))return[];var d=[],f=C.Mx.gP,g=C.Mx.wS,h=Math.asin,k=Math.sqrt,l=Math.sin,m=Math.pow,n=Math.cos,q=Math.atan2,s=a.H*f;a=a.A*f;var u=b.H*f;b=b.A*f;for(var h=2*h(k(m(l((s-u)/2),2)+n(s)*n(u)*m(l((a-b)/2),2))),t,w,v,r,f=1;f<c;f+=1)t=1/c*f,w=l((1-t)*h)/l(h),v=l(t*h)/l(h),t=w*n(s)*n(a)+v*n(u)*n(b),r=w*n(s)*l(a)+v*n(u)*l(b),w=w*l(s)+v*l(u),w=q(w,k(m(t,2)+m(r,2))),t=q(r,t),d.push(new C.M(t*g,w*g));return d};
C.M.sl({mQ:"getLng",kQ:"getLat",add:"add",Ia:"subtract",Bb:"divideBy",ec:"multiplyBy",Ad:"distance",offset:"offset",Nb:"equals",toString:"toString"});C.Bc=C.T.extend({D:function(){if(2===arguments.length)this.Va=C.g.da(arguments[0]),this.Oa=C.g.da(arguments[1]);else if(4===arguments.length)this.Va=new C.M(arguments[0],arguments[1]),this.Oa=new C.M(arguments[2],arguments[3]);else throw"Invalid Object: Bounds("+arguments.join(",")+")";},uv:function(){return this.Va},qv:function(){return this.Oa},Zj:function(){return new C.M(this.Va.A,this.Oa.H,!0)},xl:function(){return new C.M(this.Oa.A,this.Va.H,!0)},contains:function(a){var b=this.Va,c=this.Oa,
d;a instanceof C.Bc?(d=a.Va,a=a.Oa):d=a=C.g.da(a);var f=d.A,g=b.A,h=a.A,k=c.A;g>k&&(k+=360,0>f&&(f+=360),0>h&&(h+=360));return d.H>=b.H&&a.H<=c.H&&f>=g&&h<=k},od:function(a){var b=this.Va,c=this.Oa,d=a.Va;a=a.Oa;var f=a.A>=b.A&&d.A<=c.A;return a.H>=b.H&&d.H<=c.H&&f},He:function(){return new C.M(this.Va.A>this.Oa.A?(this.Va.A+this.Oa.A+360)/2%360:(this.Va.A+this.Oa.A)/2,(this.Va.H+this.Oa.H)/2)},extend:function(a){this.Va.A=Math.min(this.Va.A,a.A);this.Va.H=Math.min(this.Va.H,a.H);this.Oa.A=Math.max(this.Oa.A,
a.A);this.Oa.H=Math.max(this.Oa.H,a.H);return this},dU:function(a){return this.extend(a.Va).extend(a.Oa)},toString:function(){return this.Va.toString()+";"+this.Oa.toString()},zb:function(){return new C.Bc(this.Va.zb(),this.Oa.zb())},Nb:function(a){return a instanceof C.Bc?this.Va.Nb(a.Va)&&this.Oa.Nb(a.Oa):!1},Sd:function(){return Math.abs(this.Oa.A-this.Va.A)},Qd:function(){return Math.abs(this.Va.H-this.Oa.H)}});
C.Bc.sl({uv:"getSouthWest",qv:"getNorthEast",Zj:"getNorthWest",xl:"getSouthEast",contains:"contains",od:"intersects",He:"getCenter"});C.K=C.T.extend({D:function(a,b,c){if(isNaN(a)||isNaN(b))throw"Invalid Object: Pixel("+a+", "+b+")";this.x=c?Math.round(a):Number(a);this.y=c?Math.round(b):Number(b)},Ec:function(){return this.x},mc:function(){return this.y},add:function(a,b){return new C.K(this.x+a.x,this.y+a.y,b)},Ia:function(a,b){return new C.K(this.x-a.x,this.y-a.y,b)},Bb:function(a,b){return new C.K(this.x/a,this.y/a,b)},ec:function(a,b){return new C.K(this.x*a,this.y*a,b)},Ad:function(a){var b=a.x-this.x;a=a.y-this.y;return Math.sqrt(b*
b+a*a)},floor:function(){return new C.K(Math.floor(this.x),Math.floor(this.y))},round:function(){return new C.K(this.x,this.y,!0)},Nb:function(a){return a instanceof C.K&&this.x===a.x&&this.y===a.y},zb:function(){return new C.K(this.x,this.y)},toString:function(){return this.x+","+this.y}});C.K.sl({Ec:"getX",mc:"getY",add:"add",Ia:"subtract",Bb:"divideBy",ec:"multiplyBy",Ad:"distance",Nb:"equals",toString:"toString"});C.hc=C.T.extend({D:function(a,b,c){if(isNaN(a)||isNaN(b))throw"Invalid Object: Size("+a+", "+b+")";this.width=c?Math.round(a):Number(a);this.height=c?Math.round(b):Number(b)},Sd:function(){return this.width},Qd:function(){return this.height},Wl:function(){return new C.K(this.Sd(),this.Qd())},contains:function(a){return Math.abs(a.x)<=Math.abs(this.width)&&Math.abs(a.y)<=Math.abs(this.height)},Nb:function(a){return a instanceof C.hc&&this.width===a.width&&this.height===a.height},toString:function(){return this.Sd()+
","+this.Qd()}});C.hc.sl({Sd:"getWidth",Qd:"getHeight",toString:"toString"});C.ud=C.T.extend({D:function(){if(2===arguments.length)this.Na=arguments[0],this.Ib=arguments[1];else if(1===arguments.length&&arguments[0]instanceof Array||4===arguments.length){var a=arguments[0]instanceof Array?arguments[0]:arguments;this.Na=new C.K(a[0],a[1]);this.Ib=new C.K(a[2],a[3])}else throw"Invalid Object: PixelBounds("+arguments.join(",")+")";},He:function(a){return new C.K((this.Na.x+this.Ib.x)/2,(this.Na.y+this.Ib.y)/2,a)},contains:function(a){var b;a instanceof C.ud?(b=a.Na,a=a.Ib):b=
a;return b.x>this.Na.x&&a.x<this.Ib.x&&b.y>this.Na.y&&a.y<this.Ib.y},Sd:function(){return this.Ib.x-this.Na.x},Qd:function(){return this.Ib.y-this.Na.y},od:function(a,b){b||0===b||(b=20);var c=this.Na,d=this.Ib,f=a.Na,g=a.Ib,h=g.y>=c.y-b&&f.y<=d.y+b;return g.x>=c.x-b&&f.x<=d.x+b&&h},toString:function(){return this.Na+";"+this.Ib},zb:function(){return new C.ud(this.Na.zb(),this.Ib.zb())}});C.j={};C.j.sC=function(a){for(var b=[Infinity,Infinity,-Infinity,-Infinity],c=0,d=a.length;c<d;c+=1)C.j.jD(b,a[c]);return b};C.j.tC=function(a,b,c){var d=Math.min.apply(null,a);a=Math.max.apply(null,a);var f=Math.min.apply(null,b);b=Math.max.apply(null,b);return C.j.ZO(d,a,f,b,c)};C.j.buffer=function(a,b){a[0]-=b;a[1]-=b;a[2]+=b;a[3]+=b};C.j.zb=function(a){return a.slice()};C.j.Ce=function(a,b){return a[0]<=b[0]&&b[0]<=a[2]&&a[1]<=b[1]&&b[1]<=a[3]};
C.j.RC=function(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]};C.j.YV=function(){return[Infinity,Infinity,-Infinity,-Infinity]};C.j.ZO=function(a,b,c,d,f){return"undefined"!==typeof f?(f[0]=a,f[2]=b,f[1]=c,f[3]=d,f):[a,c,b,d]};C.j.empty=function(a){a[0]=a[1]=Infinity;a[2]=a[3]=-Infinity;return a};C.j.Nb=function(a,b){return a[0]===b[0]&&a[2]===b[2]&&a[1]===b[1]&&a[3]===b[3]};
C.j.extend=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3])};C.j.jD=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};C.j.oW=function(a){return[a[0],a[1]]};C.j.pW=function(a){return[a[2],a[1]]};C.j.He=function(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]};
C.j.vW=function(a,b,c,d,f){var g=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);g=[-g,-g,g,g];d=[-d,d,-d,d];var h,k,l;for(h=0;4>h;h+=1)k=g[h],l=d[h],g[h]=a[0]+k*b-l*c,d[h]=a[1]+k*c+l*b;return C.j.tC(g,d,f)};C.j.Qd=function(a){return a[3]-a[1]};C.j.GW=function(a){return[a[2]-a[0],a[3]-a[1]]};C.j.LW=function(a){return[a[0],a[3]]};C.j.MW=function(a){return[a[2],a[3]]};C.j.Sd=function(a){return a[2]-a[0]};C.j.od=function(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]};
C.j.Gn=function(a){return a[2]<a[0]||a[3]<a[1]};C.j.normalize=function(a,b){return[(b[0]-a[0])/(a[2]-a[0]),(b[1]-a[1])/(a[3]-a[1])]};C.j.GX=function(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=d;a[3]+=d};C.j.touches=function(a,b){return C.j.od(a,b)&&(a[0]===b[2]||a[2]===b[0]||a[1]===b[3]||a[3]===b[1])};C.j.transform=function(a,b,c){a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(a,a,2);return C.j.tC([a[0],a[2],a[4],a[6]],[a[1],a[3],a[5],a[7]],c)};C.Bc.Xc({D:function(){var a=C.Bc.prototype.D;return function(){a.apply(this,arguments);this.southwest=this.Va;this.northeast=this.Oa}}(),extend:function(){var a=C.Bc.prototype.extend;return function(){a.apply(this,arguments);this.Va.lng=this.Va.A;this.Va.lat=this.Va.H;this.Oa.lng=this.Oa.A;this.Oa.lat=this.Oa.H;return this}}()});C.M.Xc({D:function(){var a=C.M.prototype.D;return function(){a.apply(this,arguments);this.lng=parseFloat(this.A.toFixed(6));this.lat=parseFloat(this.H.toFixed(6))}}()});C.Eo=C.T.extend({D:function(a,b,c,d){this.yy=a;this.Ey=b;this.Jy=c;this.az=d},transform:function(a,b){return this.OB(a.zb(),b)},OB:function(a,b){b=b||1;a.x=b*(this.yy*a.x+this.Ey);a.y=b*(this.Jy*a.y+this.az);return a},fU:function(a,b){b=b||1;return new C.K((a.x/b-this.Ey)/this.yy,(a.y/b-this.az)/this.Jy)}});C.Yg=C.T.extend({D:function(a){this.Kr=a.MAX_LATITUDE||85.0511287798;a.project&&a.unproject&&(this.mb=a.project,this.Me=a.unproject)}});C.Yg.Yx={mb:function(a){return new C.K(a.A,a.H)},Me:function(a,b){return new C.M(a.x,a.y,b)}};
C.Yg.LH=new C.Yg({MAX_LATITUDE:85.0511287798,project:function(a){var b=Math.PI/180,c=this.Kr,c=Math.max(Math.min(c,a.H),-c);a=a.A*b;b=Math.log(Math.tan(Math.PI/4+c*b/2));return new C.K(a,b,!1)},unproject:function(a,b){var c=180/Math.PI;return new C.M(a.x*c,(2*Math.atan(Math.exp(a.y))-Math.PI/2)*c,b)}});
C.Yg.Zx={Kr:85.0840591556,Or:6356752.3142,Nr:6378137,mb:function(a){var b=Math.PI/180,c=this.Kr,d=Math.max(Math.min(c,a.H),-c),f=this.Nr,c=this.Or;a=a.A*b*f;b*=d;f=c/f;f=Math.sqrt(1-f*f);d=f*Math.sin(b);d=Math.pow((1-d)/(1+d),0.5*f);b=-c*Math.log(Math.tan(0.5*(0.5*Math.PI-b))/d);return new C.K(a,b)},Me:function(a,b){for(var c=180/Math.PI,d=this.Nr,f=this.Or,g=a.x*c/d,d=f/d,d=Math.sqrt(1-d*d),f=Math.exp(-a.y/f),h=Math.PI/2-2*Math.atan(f),k=15,l=0.1;1E-7<Math.abs(l)&&(k-=1,0<k);)l=d*Math.sin(h),l=Math.PI/
2-2*Math.atan(f*Math.pow((1-l)/(1+l),0.5*d))-h,h+=l;return new C.M(g,h*c,b)}};C.nf={};C.nf.so={wq:function(a,b){var c=this.sd.mb(a),d=this.scale(b);return this.io.OB(c,d)},Cw:function(a,b,c){b=this.scale(b);a=this.io.fU(a,b);return this.sd.Me(a,c)},mb:function(a){return this.sd.mb(a)},scale:function(a){return 256*Math.pow(2,a)},Ig:function(a){return 12756274*Math.PI/(256*Math.pow(2,a))}};C.nf.lH=C.extend({},C.nf.so,{code:"EPSG:3857",sd:C.Yg.LH,io:new C.Eo(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),mb:function(a){return this.sd.mb(a).ec(6378137)}});
C.nf.kH=C.extend({},C.nf.so,{code:"EPSG:3395",sd:C.Yg.Zx,io:function(){var a=C.Yg.Zx;return new C.Eo(0.5/(Math.PI*a.Nr),0.5,-0.5/(Math.PI*a.Or),0.5)}()});C.nf.mH=C.extend({},C.nf.so,{code:"EPSG:4326",sd:C.Yg.Yx,io:new C.Eo(1/360,0.5,-1/360,0.25)});C.nf.SU=C.extend({},C.nf.so,{sd:C.Yg.Yx,io:new C.Eo(1,0,1,0)});C.ME={mb:function(a,b){a=C.g.da(a);return(this.pl||this.get("crs")).wq(a,b||this.get("zoom"))},Me:function(a,b,c){return(this.pl||this.get("crs")).Cw(a,b||this.get("zoom"),c)},cX:function(a,b){return this.mb(a,b)},nW:function(a,b){return this.Me(a,b)},Xv:function(a,b){var c=this.Hb(a,b);return this.vh(c,b)},yi:function(a,b){var c=this.get("size").Wl().Bb(2);if(a.Nb(c))return this.get("center");c=this.Yp(a,b);return this.je(c,b)},je:function(a,b){return this.Me(a.Bb(this.get("resolution",b)),b)},Hb:function(a,
b,c){a=C.g.da(a);return this.mb(a,b).ec(c||this.get("resolution",b))},sW:function(a){return a?this.mb(this.get("center"),a):this.get("centerPixel")},mW:function(a,b){return this.vh(a.ec(this.get("resolution",b)),b)},VV:function(a,b){return this.Yp(a,b).Bb(this.get("resolution"))},Yp:function(a,b){var c=this.get("size").Wl().Bb(2),d=a.Ia(c),f=(this.get("rotateEnable")?this.get("rotation"):0)*Math.PI/180,c=d.x*Math.cos(f)+Math.sin(f)*d.y,d=-Math.sin(f)*d.x+Math.cos(f)*d.y,c=this.get("centerCoords").add((new C.K(c,
d)).ec(this.get("resolution",b)));c.x=(c.x+4.00750166855784E7)%4.00750166855784E7;return c},vh:function(a,b){a=a.zb();var c=this.je(a),d=this.get("center");-180>d.A-c.A?a.x-=C.g.ra:180<d.A-c.A&&(a.x+=C.g.ra);var c=this.get("centerCoords"),c=a.Ia(c).Bb(this.get("resolution",b)),d=this.get("size").Wl().Bb(2),f=(this.get("rotateEnable")?this.get("rotation"):0)*Math.PI/180;return d.add(new C.K(c.x*Math.cos(f)-Math.sin(f)*c.y,Math.sin(f)*c.x+Math.cos(f)*c.y))}};var Nb=C.T.extend({eb:[C.pa,C.Rc],B:{center:new C.M(116.397128,39.916527),zoom:13,rotation:0,crs:"EPSG3857"},D:function(a){this.CLASS_NAME="AMap.View2D";C.a.Ma("AMap.View2D",a);a=a||{};a.center&&(a.center=C.g.da(a.center));this.lF=a;a=this.UC(a.crs||"EPSG3857");this.set("crs",a)},SP:function(a){var b=this.map.getSize(),c=new C.M(a[4],a[5]);if((a=new C.Bc(a[0],a[1],a[2],a[3]))&&b&&c){for(var d=this.map.get("zooms"),f=d[1];f>d[0];f-=1){var g=this.map.mb(a.Va,f),h=this.map.mb(a.Oa,f);if(Math.abs(h.x-
g.x)<b.width&&Math.abs(g.y-h.y)<b.height)break}return[c,f]}return null},Mc:function(){var a=this.lF;if(!(a&&a.center&&a.zoom)){var b=this.SP(C.k.Uc);a.center=a.center||b&&b[0];"[object Number]"!==Object.prototype.toString.call(a.zoom)&&(a.zoom=b&&b[1])}a.zoom=Math.round(a.zoom);C.g.Ta(this,a);C.h.Wc&&(this.B.rotation=0);this.B.crs=this.UC(this.B.crs||"EPSG3857");this.Le(this.B);this.lF=null},getRotation:function(){return this.map&&this.map.get("rotateEnable")?this.get("rotation",null,!0)||0:0},UC:function(a){if(this.B.center instanceof
C.M){if("string"===typeof a){switch(a){case "EPSG3395":return C.nf.kH;case "EPSG4326":return C.nf.mH}return C.nf.lH}if(a.pointToLngLat&&a.lngLatToPoint)return{Cw:a.pointToLngLat,wq:a.lngLatToPoint,Ig:a.getResolution};throw"illegal projection";}var b=this.get("zoom");return{Ig:function(a){return Math.pow(2,b-a)},wq:function(){},Cw:function(){}}},getCenterPixel:function(){return this.get("crs").wq(this.get("center"),this.get("zoom"))},getCenterCoords:function(){return this.map.Hb(this.get("center"))},
centerCoordsChanged:function(){var a=this.get("centerCoords");this.get("center")instanceof C.M?this.set("center",this.map.je(a),!0):this.set("center",a,!0)},getResolution:function(a){return this.get("crs").Ig(a||this.get("zoom"))}});var fc=C.T.extend({eb:[C.pa,C.Rc,C.ME],B:{features:"all",dragEnable:!0,showIndoorMap:C.h.V?!1:!0,lang:"zh_cn",keyboardEnable:!0,doubleClickZoom:!0,scrollWheel:!0,zoomEnable:!0,jogEnable:!0,continuousZoomEnable:!0,resizeEnable:!1,animateEnable:!0,rotateEnable:!1,labelzIndex:99,touchZoom:!0,zooms:[3,C.h.V?C.h.ja?19:20:18],defaultCursor:"url("+C.k.ab+"/theme/v1.3/openhand.cur),default",limitBounds:null,logoUrl:C.k.ab+"/theme/v1.3/autonavi.png",logoUrlRetina:C.k.ab+"/theme/v1.3/mapinfo_05.png",copyright:"\x3c!--v1.3.17--\x3e &copy "+
(new Date).getFullYear()+" AutoNavi - GS(2016)710\u53f7",isHotspot:!1,baseRender:C.h.aO,overlayRender:C.h.$R,mapStyle:"normal",showBuildingBlock:!C.h.V},poiOnAMAP:function(a){C.a.add(this.CLASS_NAME,"poiOnAMAP");var b={},c=C.g.da(a.location);b.id=a.id;c&&(b.y=c.H,b.x=c.A);b.name=a.name;b.address=a.address;C.Jd.Xi(C.Jd.ID(b))},detailOnAMAP:function(a){C.a.add(this.CLASS_NAME,"detailOnAMAP");var b={},c=C.g.da(a.location);b.id=a.id;c&&(b.y=c.H,b.x=c.A);b.name=a.name;C.Jd.Xi(C.Jd.GD(b))},setLabelzIndex:function(a){return this.set("labelzIndex",
a)},getLabelzIndex:function(){return this.get("labelzIndex",null,!0)},setMapStyle:function(a){C.a.add(this.CLASS_NAME,"setMapStyle",a);this.set("mapStyle",a)},getMapStyle:function(){C.a.add(this.CLASS_NAME,"getMapStyle");return this.get("mapStyle",null,!0)},getFeatures:function(){C.a.add(this.CLASS_NAME,"getFeatures");return this.get("features",null,!0)},setFeatures:function(a){C.a.add(this.CLASS_NAME,"setFeatures");this.set("features",a)},featuresChanged:function(a){"all"!==a&&C.h.vf&&this.set("baseRender",
"v")},setLang:function(a){C.a.add(this.CLASS_NAME,"setLang",a);"en"!==a&&"zh_cn"!==a&&"zh_en"!==a||a===this.getLang()||(this.set("lang",a),this.Jg&&this.Jg.$F(this))},getLang:function(){C.a.add(this.CLASS_NAME,"getLang");return this.get("lang",null,!0)},setCity:function(a,b){C.a.add(this.CLASS_NAME,"setCity");var c=this;(new C.ha.va(C.k.Xb+"/v3/config/district?subdistrict=0&extensions=all&key="+C.k.key+"&s=rsv3&output=json&keywords="+a,{callback:"callback"})).d("complete",function(a){if((a=a.districts)&&
a.length)try{var f=a[0].center.split(","),g;switch(a[0].level){case "city":g=10;break;case "province":g=7;break;case "district":g=12;break;case "country":g=4;break;default:g=12}-1!==a[0].name.indexOf("\u5e02")&&(g=10);c.setZoomAndCenter(g,new C.M(f[0],f[1]),!0)}catch(h){}b&&b.call(c,f,g)},this)},getCity:function(a,b){C.a.add(this.CLASS_NAME,"getCity");var c=C.k.Xb+"/v3/geocode/regeo?&extensions=&&key="+C.k.key+"&s=rsv3&output=json&location="+(b||this.get("center"));(new C.ha.va(c,{callback:"callback"})).d("complete",
function(b){b=b.regeocode.addressComponent;a({province:b.province,city:b.city instanceof Array?"":b.city,citycode:b.citycode instanceof Array?"":b.citycode,district:b.district instanceof Array?"":b.district})},this)},D:function(a,b){C.ue.QQ=new Date;this.CLASS_NAME="AMap.Map";C.a.Ma("AMap.Map",b);b=b||{};b.center&&(b.center=C.g.da(b.center));b.view&&b.view.get("center")&&b.view.set("center",C.g.da(b.view.get("center")));b.mobile&&(C.h.V=!0);b.noPoi&&(C.k.BR=!0);b.forceZooms&&(this.B.zooms=b.forceZooms);
this.Hn=b.disableSocket?!1:C.h.Hn;b.server&&(C.k.Xb=b.server);b.vdataUrl&&(C.k.Br=b.vdataUrl);if("string"===typeof a){if(a=this.w=document.getElementById(a),!a)return}else"DIV"===a.tagName&&(this.w=a);this.w.gs&&this.w.gs.destroy();this.w.gs=this;b.forceVector&&(this.B.baseRender="v");b.disableVector&&(this.B.baseRender="d");"dom"==b.renderer&&(this.B.baseRender="d",this.B.overlayRender="d");b.zooms&&(b.zooms[0]=Math.max(3,b.zooms[0]),b.zooms[1]=Math.min(this.B.zooms[1],b.zooms[1]));1792<a.clientWidth&&
(this.B.zooms[0]=4);3584<a.clientWidth&&(this.B.zooms[0]=5);b=this.tO(b);var c=b.lang;"en"!==c&&"zh_cn"!==c&&"zh_en"!==c&&(b.lang="zh_cn");C.g.Ta(this,b);C.h.Wc&&(this.B.rotateEnable=!1);this.set("zooms",this.B.zooms);c=this.B.view;c.map=this;this.jd("zoom crs resolution centerPixel center centerCoords rotation".split(" "),c);this.pl=c.get("crs");this.Le(this.B);"d"===this.get("baseRender")&&this.set("copyright",this.get("copyright").replace("GS(2016)710","GS(2015)2681"));c.Mc();this.Kp();var d=c.get("zoom"),
f=this.get("zooms");d>f[1]?d=f[1]:d<f[0]&&(d=f[0]);c.set("zoom",d);var g=this;this.Le({overlays:[],infos:{},controls:{}});c=[];b.forceVector&&(c.push("vectorlayer"),c.push("overlay"));C.bb.Cf(c,function(){if(!g.get("destroy")){var b=new C.ae(a,g);b.d("complete",function(){C.h.vE&&C.Kh&&C.Kh.yC&&C.Kh.yC();this.q("complete");C.ue.gC||(C.ue.gC=new Date-C.ue.QQ);this.DM()},g,!0);b.pl=g.pl;g.jd(["zoomSlow","panTo","targetLevel"],b);b.jd(["size","bounds"],g);g.loaded=!0;g.q("coreMapCreated")}});this.vs()},
Kp:function(){if(this.get("showIndoorMap")){var a=this.getLayers(),b=hasVectorTileLayer=!1;if(a){for(var c=0;c<a.length;c+=1)"undefined"!==typeof AMap.IndoorMap&&a[c]instanceof AMap.IndoorMap&&(this.oe&&a[c]===this.oe||(b=!0)),"AMap.TileLayer"===a[c].CLASS_NAME&&a[c].Gu()&&(hasVectorTileLayer=!0);if(b)this.oe&&this.oe.setMap();else if(hasVectorTileLayer&&"normal"===this.get("mapStyle"))if(this.oe)this.oe.setMap(this),this.oe.mp();else{var d=this;AMap.plugin(["AMap.IndoorMap"],function(){d.oe||(d.indoorMap=
d.oe=new AMap.IndoorMap({}),C.g.Yd(function(){d.q("indoor_create",{target:d});d.set("display")}),d.Kp())})}else this.oe&&this.oe.setMap()}}},layersChanged:function(){for(var a=this.getLayers(),b=0;b<a.length;b+=1)a[b].getMap()!==this&&a[b].setMap(this);this.Kp()},mapStyleChanged:function(){"normal"!==this.get("mapStyle")&&this.set("baseRender","v");this.Kp()},DM:function(){var a=!!C.ue.rD,b=C.k.Pc+"://webapi.amap.com/count?",c=["type=q","k="+C.k.key,"u="+C.k.Np,"m="+(C.h.V?1:0),"cv="+(C.h.vf?1:0),
"iv="+(a?1:0),"pf="+C.h.Bw,"ct="+C.ue.gC];a&&(c=c.concat(["ds="+C.ue.KP,"lt="+C.ue.rD,"pt="+C.ue.kW]));new C.ha.va(b+c.join("&"))},getAdcode:function(){C.a.add(this.CLASS_NAME,"getAdcode");return C.k.GN},tO:function(a){a||(a={});if(a.hasOwnProperty("defaultLayer")){a.layers=[a.defaultLayer];var b=a.defaultLayer;b.uu=!0;this.set("defaultLayer",b,!0)}a.layers&&0!==a.layers.length||(b=new L,a.layers=[b],b.uu=!0,this.set("defaultLayer",b,!0));a.view||(a.view=new Nb({center:a.center,zoom:a.zoom||a.level,
crs:a.crs}));return a},vs:function(){var a=["s=rsv3&product=JsInit&key="+C.k.key,"t="+(new Date).getTime(),"lang="+this.get("lang")],b=this.getSize();a.push("resolution="+b.width+"*"+b.height);a.push("mob="+(C.h.V?1:0));a.push("vt="+(C.h.vf?1:0));a.push("dpr="+window.devicePixelRatio);new C.ha.va(C.k.Xb+"/v3/log/init?"+a.join("&"),{callback:"callback"})},setLimitBounds:function(a){C.a.add(this.CLASS_NAME,"setLimitBounds");a instanceof C.Bc||(a=null);this.set("limitBounds",a)},clearLimitBounds:function(){C.a.add(this.CLASS_NAME,
"clearLimitBounds");this.set("limitBounds",null)},getLimitBounds:function(){C.a.add(this.CLASS_NAME,"getLimitBounds");return this.get("limitBounds",null,!0)},cC:function(a){var b=this.get("layers");0<=C.g.indexOf(b,a)||(b.push(a),this.set("layers",b))},fC:function(a){var b=this.get("overlays");0<=C.g.indexOf(b,a)||(a instanceof Ob?(this.get("overlays").push(a),this.Zp instanceof Ob&&this.Zp.close(),this.Zp=a,this.set("contextmenu",a,!0)):(a instanceof $b&&(this.Li instanceof $b&&this.Uq(this.Li),
this.Li=a),this.get("overlays").push(a)),this.q("overlays"))},Ql:function(a){var b=this.get("layers");a=C.g.indexOf(b,a);-1!==a&&this.set("layers",C.g.rl(b,a))},Uq:function(a){var b=this.get("overlays");this.set("overlays",C.g.rl(b,C.g.indexOf(b,a)))},setZoom:function(a,b){C.a.add(this.CLASS_NAME,"setZoom");a=Math.round(a);var c=this.get("zooms");a>c[1]&&(a=c[1]);a<c[0]&&(a=c[0]);this.get("zoomEnable")&&(b||!this.loaded?(this.set("zoom",a),this.q("zoomstart"),this.q("zoomchange"),this.q("zoomend")):
this.set("zoomSlow",a))},getZoom:function(){C.a.add(this.CLASS_NAME,"getZoom");return Math.round(this.get("targetLevel")||this.get("zoom"))},getCenter:function(){C.a.add(this.CLASS_NAME,"getCenter");return this.get("center")},setCenter:function(a,b){C.a.add(this.CLASS_NAME,"setCenter");a=C.g.da(a);b||!this.loaded?(this.q("movestart"),this.set("center",a),this.q("mapmove"),this.map?this.map.q("moveend"):this.q("moveend")):this.panTo(a)},getCoordsBound:function(){var a=this.get("size"),b=this.get("centerCoords"),
c=this.get("rotation")%360,d=this.get("resolution"),c=Math.PI*c/180,a=new C.K((Math.abs(a.width*Math.cos(c))+Math.abs(a.height*Math.sin(c)))/2,(Math.abs(a.width*Math.sin(c))+Math.abs(a.height*Math.cos(c)))/2),d=new C.ud(b.Ia(a.ec(d)),b.add(a.ec(d))),c=this.get("zoom",null,!0),c=this.get("resolution",Math.round(c));d.CU=new C.ud(b.Ia(a.ec(c)),b.add(a.ec(c)));d.lb=a;return d},setRotation:function(a){C.a.add(this.CLASS_NAME,"setRotation");!C.h.Wc&&this.get("rotateEnable")&&this.set("rotation",a)},getRotation:function(){C.a.add(this.CLASS_NAME,
"getRotation");return this.get("rotateEnable")&&this.get("rotation")||0},getBounds:function(){C.a.add(this.CLASS_NAME,"getBounds");this.get("crs");var a=this.getCoordsBound(),b=a.Ib.x,c=a.Na.y,a=new C.K(a.Na.x,a.Ib.y),b=new C.K(b,c);return new C.Bc(this.je(a,this.get("zoom")),this.je(b,this.get("zoom")))},getStatus:function(){C.a.add(this.CLASS_NAME,"getStatus");for(var a="isHotspot dragEnable zoomEnable keyboardEnable jogEnable doubleClickZoom scrollWheel resizeEnable touchZoom rotateEnable animateEnable".split(" "),
b={},c=0;c<a.length;c+=1)b[a[c]]=this.get(a[c],null,!0);return b},setStatus:function(a){C.a.add(this.CLASS_NAME,"setStatus");for(var b in a)a.hasOwnProperty(b)&&-1!=="isHotspot,dragEnable,keyboardEnable,doubleClickZoom,scrollWheel,zoomEnable,jogEnable,continuousZoomEnable,resizeEnable,animateEnable,rotateEnable,touchZoom".indexOf(b)&&this.set(b,a[b])},getResolution:function(a){C.a.add(this.CLASS_NAME,"getResolution");a=(a=C.g.da(a))?a.H:this.get("center").H;return this.get("resolution")*Math.cos(a*
Math.PI/180)},getScale:function(a){C.a.add(this.CLASS_NAME,"getScale");return this.getResolution()*(a||96)/0.0254},getDefaultCursor:function(){C.a.add(this.CLASS_NAME,"getDefaultCursor");return this.get("defaultCursor",null,!0)},setDefaultCursor:function(a){C.a.add(this.CLASS_NAME,"setDefaultCursor");return this.set("defaultCursor",a,!0)},zoomIn:function(a){C.a.add(this.CLASS_NAME,"zoomIn");this.setZoom(this.get("targetLevel")+1,a)},zoomOut:function(a){C.a.add(this.CLASS_NAME,"zoomOut");this.setZoom(this.get("targetLevel")-
1,a)},setZoomAndCenter:function(a,b,c){C.a.add(this.CLASS_NAME,"setZoomAndCenter");b=C.g.da(b);a=Math.round(a);var d=this.get("zooms");a>d[1]&&(a=d[1]);a<d[0]&&(a=d[0]);this.loaded?this.set("zoomAndCenter",[a,b,c]):(this.setZoom(a,!0),this.setCenter(b,!0))},setBounds:function(a,b,c,d,f){C.a.add(this.CLASS_NAME,"setBounds");b=b?Number(b):0;var g=this.mF||this.get("zooms")[1],h=this.getSize().Wl(),k=0,l=0;if(f){var l=f[0],m=f[1],k=f[2];f=f[3];h.x-=k+f;h.y-=l+m;k=(k-f)/2;l=(l-m)/2}f=this.get("zooms");
for(c&&(h=h.Ia(c));g>f[0]&&!(c=this.mb(a.Va,g),m=this.mb(a.Oa,g),a.Va.A>a.Oa.A&&(m.x+=this.mb(new C.M(180,0),g).x),Math.abs(m.x-c.x)<h.x&&Math.abs(c.y-m.y)<h.y);g-=1);d=d||!this.getBounds().contains(a.He())||C.h.V&&1<Math.abs(g+b-this.get("zoom"));b=Math.min(f[1],Math.max(f[0],g+b));g=this.Me(this.mb(a.He(),b).Ia(new C.K(k,l)),b);this.setZoomAndCenter(b,g,d);return a},clearMap:function(){C.a.add(this.CLASS_NAME,"clearMap");for(var a=this.get("overlays"),b=0;b<a.length;b+=1)a[b].set("map",null,!0);
this.set("overlays",[]);if(this.map&&this.map.Ra)for(var a=this.map.Ra,c=a.length,b=0;b<c;b+=1)a[b].qb instanceof ac&&a[b].qb.setMap(null)},destroy:function(){C.a.add(this.CLASS_NAME,"destroy");this.oe&&(this.oe.setMap(),this.indoorMap=this.oe=null);this.set("overlays",[]);this.set("layers",[]);var a=this.get("controls");a.remove=[];for(var b in a.ac)a.ac.hasOwnProperty(b)&&a.remove.push(a.ac[b]);a.ac=[];a.add=[];this.set("controls",a);this.set("destroy",!0);this.tb=!1;C.ue={}},addControl:function(a){C.a.add(this.CLASS_NAME,
"addControl");var b=C.g.Mb(a),c=this.get("controls")||{};c.ac=c.ac||{};c.ac[b]||(c.ac[b]=a);c.add=c.add||[];c.add.push(a);this.set("controls",c)},removeControl:function(a){C.a.add(this.CLASS_NAME,"removeControl");var b=C.g.Mb(a),c=this.get("controls")||{};c.ac=c.ac||{};c.ac[b]&&delete c.ac[b];c.remove=c.remove||[];c.remove.push(a);this.set("controls",c)},clearControl:function(){C.a.add(this.CLASS_NAME,"clearControl");var a=this.get("controls")||{};a.remove=a.remove||[];a.ac=a.ac||{};for(var b in a.ac)a.ac.hasOwnProperty(b)&&
(a.remove.push(a.ac[b]),delete a.ac[b]);this.set("controls",a)},plugin:function(a,b){"string"===typeof a&&(a=[a]);for(var c=0;c<a.length;c+=1){var d=a[c].split(".");"function"===typeof window[d[0]][d[1]]&&(a.splice(c,1),c-=1)}if(0===a.length)return b(),this;for(var f=a.length,c=0;c<a.length;c+=1)C.bb.load(a[c],function(){f-=1;0===f&&b()});return this},clearInfoWindow:function(){C.a.add(this.CLASS_NAME,"clearInfoWindow");var a=this.get("overlays");a&&0!==a.length&&this.Li&&this.Li.close()},remove:function(a){C.a.add(this.CLASS_NAME,
"remove");a instanceof Array||(a=[a]);for(var b=0;b<a.length;b+=1){var c=a[b];c.getMap&&c.getMap()===this&&(c.close?c.close():c.setMap&&c.setMap(null))}},add:function(a){C.a.add(this.CLASS_NAME,"add");a instanceof Array||(a=[a]);for(var b=0;b<a.length;b+=1){var c=a[b];c.getMap&&c.getMap()!==this&&!c.open&&c.setMap&&c.setMap(this)}},getAllOverlays:function(a,b){C.a.add(this.CLASS_NAME,"getAllOverlays");var c=this.get("overlays"),d;if(a)switch(a){case "marker":d=P;break;case "circle":d=bc;break;case "polyline":d=
cc;break;case "polygon":d=dc}if(d){for(var f=[],g=0;g<c.length;g+=1)c[g]instanceof d&&(b||!c[g].ea&&!c[g].isOfficial)&&f.push(c[g]);return f}if(!b){f=[];for(g=0;g<c.length;g+=1)c[g].ea||c[g].isOfficial||f.push(c[g]);c=f}d=this.get("layers");f=[];if(d)for(var g=0,h=d.length;g<h;g+=1)d[g]instanceof ac&&f.push(d[g]);return c.concat(f)},triggerResize:function(){this.map&&this.map.Wt()},refreshSize:function(){this.Oo=this.UP()},UP:function(){return C.e.TP(this.w)},getSize:function(){C.a.add(this.CLASS_NAME,
"getSize");(!this.Oo||10>this.Oo.width*this.Oo.height)&&this.refreshSize();return this.Oo},getContainer:function(){C.a.add(this.CLASS_NAME,"getContainer");return this.w},panTo:function(a){C.a.add(this.CLASS_NAME,"panTo");a=C.g.da(a);this.loaded?this.set("panTo",a):this.setCenter(a)},panBy:function(a,b,c){C.a.add(this.CLASS_NAME,"panBy");var d=this.get("rotation")*Math.PI/180,f=a*Math.cos(d)+Math.sin(d)*b;a=-Math.sin(d)*a+Math.cos(d)*b;f=(this.loaded&&this.map&&this.map.Sb?this.mb(this.map.Sb.IG):
this.get("centerPixel")).add(new C.K(-f,-a));f=this.Me(f);!this.loaded||c?this.setCenter(f,c):this.set("panTo",f)},setFitView:function(a,b,c){C.a.add(this.CLASS_NAME,"setFitView");var d;if(a)if(a instanceof ec)a=[a];else{if(!(a instanceof Array))return null}else a=this.getAllOverlays();for(var f=0;f<a.length;f+=1){var g=a[f];!g.get("visible")||g instanceof $b||g instanceof Ob||(g=g.getBounds())&&(d=d?g.dU(d):g)}d&&this.setBounds(d,null,new C.K(50,50),b,c);return d},setLayers:function(a){C.a.add(this.CLASS_NAME,
"setLayers");for(var b=0;b<a.length;b+=1)a[b].set("map",this,!0);this.set("layers",a)},getLayers:function(){C.a.add(this.CLASS_NAME,"getLayers");return this.get("layers",null,!0)},getDefaultLayer:function(){C.a.add(this.CLASS_NAME,"getDefaultLayer");return this.get("defaultLayer",null,!0)},setDefaultLayer:function(a){C.a.add(this.CLASS_NAME,"setDefaultLayer");a.uu=!0;var b=this.get("defaultLayer"),c=this.get("layers");if(b){if(a===b)return;b.uu=!1;c=C.g.rl(c,C.g.indexOf(c,b))}this.set("defaultLayer",
a,!0);c.push(a);this.setLayers(c)},pixelToLngLat:function(a,b){C.a.add(this.CLASS_NAME,"pixelToLngLat");return this.Me(a,b)},lnglatToPixel:function(a,b){C.a.add(this.CLASS_NAME,"lnglatToPixel");return this.mb(a,b)},drawPolyline:function(a){C.a.add(this.CLASS_NAME,"drawPolyline");this.set("draw","polyline");this.set("drawStyle",a||{strokeColor:"#006600",ta:0.9})},drawPolygon:function(a){C.a.add(this.CLASS_NAME,"drawPolygon");this.set("draw","polygon");this.set("drawStyle",a||{strokeColor:"#006600",
ta:0.9,fillColor:"#FFAA00",Ac:0.9})},drawCircle:function(a){C.a.add(this.CLASS_NAME,"drawCircle");this.set("draw","circle");this.set("drawStyle",a||{strokeColor:"#006600",ta:0.9,fillColor:"#006600",Ac:0.9})},endDraw:function(){this.set("draw",null)}});fc.sl({Xv:"lnglatTocontainer",lnglatTocontainer:"lngLatToContainer",yi:"containTolnglat",containTolnglat:"containerToLngLat",mb:"project",Me:"unproject"});fc.Xc({isHotspotChanged:function(){"undefined"!==typeof this.rq&&(this.rU=!1,this.HO(),this.get("isHotspot")&&this.get("layers",null,!0)&&(this.rq||this.YR()))},YR:function(){if(this.Jg)this.bE();else{var a=this;this.plugin("AMap.HotSpot",function(){if(!a.rU){if(!a.Jg){var b=new C.Kd;new $b;a.Jg=b}a.bE()}})}},HO:function(){this.Jg&&this.EQ()},hF:function(a){a.type="hotspotover";a.isIndoorPOI=!1;this.q("hotspotover",a)},fF:function(a){a.type="hotspotclick";a.isIndoorPOI=!1;this.q("hotspotclick",a)},
gF:function(a){a.type="hotspotout";a.isIndoorPOI=!1;this.q("hotspotout",a)},bE:function(){var a=this.Jg;this.Jg.setMap(this);a.d("mouseover",this.hF,this);a.d("click",this.fF,this);a.d("mouseout",this.gF,this)},EQ:function(){var a=this.Jg;a.F("mouseover",this.hF,this);a.F("click",this.fF,this);a.F("mouseout",this.gF,this);this.Jg.setMap(null);this.Jg=null}});var X={U:function(a,b,c,d){C.a.add("AMap.event","addDomListener");C.l.d(a,b,c,d);return new C.vo(0,a,b,c,d)},IN:function(){},addListener:function(a,b,c,d){C.a.add("AMap.event","addListener");a.ne||(a.ne=C.pa.ne);C.pa.d.call(a,b,c,d);return new C.vo(1,a,b,c,d)},dC:function(a,b,c,d){C.a.add("AMap.event","addListenerOnce");a.ne||(a.ne=C.pa.ne);C.pa.d.call(a,b,c,d,!0);return new C.vo(1,a,b,c,d)},KC:function(a){C.pa.hn.call(a)},EO:function(a,b){C.pa.hn.call(a,b)},removeListener:function(a){C.a.add("AMap.event",
"removeListener");!a instanceof C.vo||(0===a.type?C.l.F(a.ck,a.hD,a.YD):1===a.type&&(a.ck.ne||(a.ck.ne=C.pa.ne),C.pa.F.call(a.ck,a.hD,a.YD)))},G:function(a,b){C.a.add("AMap.event","trigger");a.ne||(a.ne=C.pa.ne);var c=Array.prototype.slice.call(arguments,1);C.pa.q.apply(a,c)}};C.vo=C.T.extend({D:function(a,b,c,d,f){this.type=a;this.ck=b;this.hD=c;this.YD=d;this.af=f}});
var gc={U:"addDomListener",IN:"addDomListenerOnce",addListener:"addListener",dC:"addListenerOnce",KC:"clearInstanceListeners",EO:"clearListeners",removeListener:"removeListener",G:"trigger"},hc;for(hc in gc)gc.hasOwnProperty(hc)&&(X[gc[hc]]=X[hc]);C.event=X;C.event.U(window,"beforeunload",C.a.send);var ic=C.T.extend({eb:[C.pa,C.Rc],D:function(a){this.CLASS_NAME="AMap.Layer";C.g.Ta(this,a);this.Le(this.B)},getContainer:function(){if(this.S&&this.S.P)return this.S.P.cf()},getZooms:function(){C.a.add(this.CLASS_NAME,"getZooms");return this.get("zooms",null,!0)},setOpacity:function(a){C.a.add(this.CLASS_NAME,"setOpacity");a!==this.get("opacity",null,!0)&&this.set("opacity",a)},getOpacity:function(){return this.get("opacity",null,!0)},show:function(){C.a.add(this.CLASS_NAME,"show");this.set("visible",
!0);this.ik&&this.S.r.layersChanged()},hide:function(){C.a.add(this.CLASS_NAME,"hide");this.set("visible",!1);this.ik&&this.S.r.layersChanged()},setMap:function(a){C.a.add(this.CLASS_NAME,"setMap");var b=this.get("map");a?(b&&a!==b&&b.Ql(this),this.set("map",a)):b&&(b.Ql(this),this.set("map",null,!0),this.Yf=!1,this.gf&&this.gf())},getMap:function(){C.a.add(this.CLASS_NAME,"getMap");return this.get("map",null,!0)},mapChanged:function(){this.get("map")&&this.get("map").cC(this)},setzIndex:function(a){C.a.add(this.CLASS_NAME,
"setzIndex");this.set("zIndex",a)}});var L=ic.extend({B:{tileSize:256,visible:!0,opacity:1,zIndex:0,noLimg:1,zooms:[3,20],getTileUrl:C.h.V?C.k.wr:C.k.zq,errorUrl:C.g.DP,detectRetina:!0},D:function(a){C.a.Ma("AMap.TileLayer",a);(a=a||{})&&a.tileUrl&&(a.getTileUrl=a.tileUrl);this.zO(a);var b=a.zooms;b&&b[1]>=this.ff[0]?(b[0]<this.ff[0]&&(b[0]=this.ff[0]),b[1]>this.ff[1]&&(b[1]=this.ff[1])):a.zooms=[this.ff[0],this.ff[1]];arguments.callee.Ya.call(this,a);this.CLASS_NAME="AMap.TileLayer"},setTextIndex:function(a){C.a.add(this.CLASS_NAME,
"setTextIndex");this.set("textIndex",a)},SQ:function(){var a=this.get("getTileUrl");return a!==C.k.zq&&a!==C.k.wr?!1:!0},Gu:function(){if(!this.SQ()||!C.h.vf)return!1;var a=this.get("map");return!a||"zh_cn"!==a.get("lang")||"d"===a.get("baseRender")||this.noVector?!1:!0},Ze:function(a){var b=this.get("map");if(this.Gu())if(this.ik=!0,C.S.Zg){if("dv"===b.get("baseRender"))return b=C.k.Aq,C.h.ja&&this.get("detectRetina")&&(b=C.k.Aq.replace("scl=1","scl=2")),new C.S.xe(this,a,this.xm(b));if("v"===b.get("baseRender"))return new C.S.$h(this,
a)}else return["vectorlayer","overlay"];else return this.ik=!1,new C.S.xe(this,a)},getTileUrlChanged:function(){var a=this.get("getTileUrl");"string"===typeof a&&(a=this.xm(a));this.set("tileFun",a)},zO:function(a){this.ff||(this.ff=[this.B.zooms[0],this.B.zooms[1]]);var b;a.hasOwnProperty("detectRetina")&&!1===a.detectRetina&&(b=!0);C.h.V&&C.h.ja&&this.B.detectRetina&&!b&&(this.ff[1]-=1)},getTiles:function(){C.a.add(this.CLASS_NAME,"getTiles");var a=this.get("tiles",null,!0);if(a&&a.length)a=a[0];
else return[];for(var b=[],c,d=0;d<a.length;d+=1)a[d].key&&(c=a[d].key.split("/"),b.push(""+c[1]+","+c[2]));return b},reload:function(){C.a.add(this.CLASS_NAME,"reload");this.set("reload",1)},Wn:function(){var a=this.get("map",null,!0);this.setMap(null);this.Yf=!1;this.setMap(a)},setTileUrl:function(a){C.a.add(this.CLASS_NAME,"setTileUrl");this.Gu()?(this.set("getTileUrl",a),this.Wn()):this.set("getTileUrl",a)},xm:function(a){var b=this,c,d,f;return function(g,h,k){g=(g+Math.pow(2,k))%Math.pow(2,
k);if("number"!==typeof(g+h+k))return null;var l=b.get("map"),m="zh_cn";l&&(m=l.get("lang")||"zh_cn");k=a.replace("[x]",g).replace("[y]",h).replace("[z]",k).replace("[lang]",m);if(!c){if(d=a.match(/\{.*\}/))f=d.toString().replace("{","").replace("}",""),f=f.split(",");c=!0}f&&f.length&&(k=k.replace(d,f[Math.abs(g+h)%f.length]));return k}},getTileUrl:function(a,b,c){C.a.add(this.CLASS_NAME,"getTileUrl");return this.get("tileFun",null,!0)(a,b,c)},getZooms:function(){C.a.add(this.CLASS_NAME,"getZooms");
return this.get("zooms",null,!0)}});L.ey=L.extend({B:{getTileUrl:C.k.Tw,zooms:[3,18],zIndex:2},D:function(a){this.ff=[3,18];arguments.callee.Ya.apply(this,arguments);this.CLASS_NAME="AMap.TileLayer.Satellite";C.a.Ma(this.CLASS_NAME,a)}});
L.by=L.extend({B:{getTileUrl:C.k.Sw,zooms:[3,18],zIndex:3,type:"overlayer"},D:function(a){this.ff=[3,18];arguments.callee.Ya.apply(this,arguments);this.CLASS_NAME="AMap.TileLayer.RoadNet";C.a.Ma(this.CLASS_NAME,a)},Ze:function(a){var b=this.get("map");if(C.h.vf&&"d"!==b.get("baseRender"))return this.ik=!0,b=C.k.Zq,C.h.ja&&this.get("detectRetina")&&(b=C.k.Zq.replace("scl=1","scl=2")),new C.S.xe(this,a,this.xm(b));this.ik=!1;return new C.S.xe(this,a)}});
L.gy=L.extend({B:{getTileUrl:function(a,b,c){return C.k.Pc+"://tm.amap.com/trafficengine/mapabc/traffictile?v=1.0&t=1&zoom="+(17-c)+"&x="+a+"&y="+b},zooms:[6,17],zIndex:4,type:"overlayer",autoRefresh:!1,interval:180},D:function(a){this.ff=[6,C.h.vf?20:17];arguments.callee.Ya.apply(this,arguments);this.startRefresh();this.CLASS_NAME="AMap.TileLayer.Traffic";C.a.Ma(this.CLASS_NAME,a)},stopRefresh:function(){C.a.add(this.CLASS_NAME,"stopRefresh");this.Sq&&(clearInterval(this.Sq),this.Sq=null)},startRefresh:function(){C.a.add(this.CLASS_NAME,
"startRefresh");if(this.get("autoRefresh")&&!this.Sq){var a=this;this.Sq=setInterval(function(){a.reload();a.q("refresh")},Math.max(1E3*(this.get("interval")||180),1E4))}},reload:function(){C.a.add(this.CLASS_NAME,"reload");C.g.Yd(function(){this.set("reload")},this)},gf:function(){this.stopRefresh();this.get("map")&&this.get("map").F("zoomstart",this.reload,this)},Ze:function(a){var b=this.get("map"),b=a.$a;b.d("zoomstart",this.reload,this);return(this.qe="d"!==b.get("baseRender"))?C.S.gm?new C.S.gm(this,
a):["vt"]:new C.S.xe(this,a)}});var jc=ic.extend({B:{visible:!0,zooms:[3,25],type:"overlay",zIndex:5,alwaysRender:!0},D:function(a){arguments.callee.Ya.apply(this,arguments)},Ze:function(a){return new C.S.Ic(this,a)}});var kc=ic.extend({B:{zooms:[17,18],zIndex:8,url:C.k.no+"/vector/buildings",wallColor:[200,190,180],strokeColor:[145,140,135],CAM_Z:400,lineCap:"round",lineJoin:"round",lineWidth:1,fadeFactor:1,visible:!0},D:function(){arguments.callee.Ya.apply(this,arguments);this.CLASS_NAME="AMap.Buildings"},Ze:function(a){if(C.S.cj)return new C.S.cj(this,a);if(C.h.Fn)return["building","overlay"]}});var lc=ic.extend({B:{visible:!0,zooms:[3,C.h.V?20:18],opacity:1,type:"overlay",zIndex:6},D:function(a){arguments.callee.Ya.apply(this,arguments);this.CLASS_NAME="AMap.ImageLayer";C.a.Ma(this.CLASS_NAME,a)},Ze:function(a){return C.S.Qx?new C.S.Qx(this,a):["imagelayer"]},getMap:function(){C.a.add(this.CLASS_NAME,"getMap");return this.Qe.map},show:function(){C.a.add(this.CLASS_NAME,"show");this.set("visible",!0);this.q("options")},getOpacity:function(){C.a.add(this.CLASS_NAME,"getOpacity");return this.get("opacity",
null,!0)},setOpacity:function(a){C.a.add(this.CLASS_NAME,"setOpacity");this.set("opacity",a)},getBounds:function(){C.a.add(this.CLASS_NAME,"getBounds");return this.get("bounds",null,!0).zb()},setBounds:function(a){C.a.add(this.CLASS_NAME,"setBounds");this.setOptions({bounds:a})},getImageUrl:function(){C.a.add(this.CLASS_NAME,"getImageUrl");return this.get("url")},setImageUrl:function(a){C.a.add(this.CLASS_NAME,"setImageUrl");return this.set("url",a)},hide:function(){C.a.add(this.CLASS_NAME,"hide");
this.set("visible",!1);this.q("options")},setOptions:function(a){C.a.add(this.CLASS_NAME?this.CLASS_NAME:"AMap.ImageLayer","setOptions");this.Le(a);this.q("options")},getOptions:function(){C.a.add(this.CLASS_NAME,"getOptions");var a={},b;for(b in this.B)this.B.hasOwnProperty(b)&&(a[b]=this.get(b));return a}});var mc=ic.extend({B:{visible:!0,zooms:[3,C.h.V?20:18],type:"overlay",zIndex:5,cursor:"pointer",alwaysRender:!0,stable:!0,bubble:!0},D:function(a,b){this.CLASS_NAME="AMap.MassMarks";C.a.Ma(this.CLASS_NAME,b);C.h.Fn&&(this.Bh=!0,b.size&&(b.size=C.g.Qi(b.size)),this.setData(a),C.g.Ta(this,b),this.setStyle(this.B))},setData:function(a){C.a.add(this.CLASS_NAME,"setData");this.set("dataSources",a)},getData:function(){C.a.add(this.CLASS_NAME,"getData");return this.get("datas")||this.get("dataSources")},
getStyle:function(){C.a.add(this.CLASS_NAME,"getStyle");return this.pr},setStyle:function(a){C.a.add(this.CLASS_NAME,"setStyle");a.size&&(a.size=C.g.Qi(a.size));this.Le(a,!0);this.pr={anchor:this.get("anchor"),url:this.get("url"),size:this.get("size"),cursor:this.get("cursor")};this.q("style")},setMap:function(a){C.a.add(this.CLASS_NAME,"setMap");C.h.Fn&&(a?(this.get("map")&&this.get("map").Ql(this),this.set("map",a)):this.get("map")&&(this.get("map").Ql(this),this.set("map",null,!0),this.Yf=!1,this.gf&&
this.gf()))},Ze:function(a){return C.bb.rE(["cvector"])?(a=new C.S.Ic(this,a),this.L("datas",a),a):["cvector"]}});var ac=lc.extend({D:function(a,b,c){C.a.Ma("AMap.GroundImage",c);c=c||{};this.Dh=!0;var d=parseFloat(c.opacity);isNaN(d)&&(d=1);arguments.callee.Ya.call(this,{url:a,bounds:b,clickable:c.clickable,opacity:d,map:c.map,zooms:c.zooms||[3,20]});this.CLASS_NAME="AMap.GroundImage"},OR:function(a){this.get("bounds").contains(a.lnglat)&&(a.target=this,this.q("click",a))},PR:function(a){this.get("bounds").contains(a.lnglat)&&(a.target=this,this.q("dblclick",a))},setMap:function(a){C.a.add(this.CLASS_NAME,"setMap");
a?(this.get("map")&&(this.get("map").Ql(this),this.MC&&X.removeListener(this.MC),this.VC&&X.removeListener(this.VC)),this.set("map",a)):this.get("map")&&(this.get("map").Ql(this),this.Qe.map=null)},mapChanged:function(){this.get("map")&&(this.get("map").cC(this),this.get("clickable")&&(this.MC=X.addListener(this.get("map"),"click",this.OR,this),this.VC=X.addListener(this.get("map"),"dblclick",this.PR,this)))}});var ec=C.T.extend({eb:[C.pa,C.Rc,{da:C.g.da}],B:{extData:{},bubble:!1,clickable:!0,draggable:!1},NV:function(){this.get("map",null,!0)&&this.setMap(this.get("map"))},mapChanged:function(){this.get("map",null,!0)&&this.get("map",null,!0).fC(this)},show:function(){C.a.add(this.CLASS_NAME,"show");this.set("visible",!0)},hide:function(){C.a.add(this.CLASS_NAME,"hide");this.set("visible",!1)},setMap:function(a){C.a.add(this.CLASS_NAME,"setMap");if(null===a||a!==this.get("map",null,!0))a?(this.get("map",
null,!0)&&this.get("map",null,!0).Uq(this),this.set("map",a)):this.get("map",null,!0)&&(this.get("map",null,!0).Uq(this),this.set("map",null,!0))},getMap:function(){C.a.add(this.CLASS_NAME,"getMap");return this.get("map",null,!0)},setExtData:function(a){C.a.add(this.CLASS_NAME,"setExtData");this.set("extData",a)},getExtData:function(){C.a.add(this.CLASS_NAME,"getExtData");return this.get("extData",null,!0)}});var nc=ec.extend({show:function(){this.set("visible",!0);this.q("show",{type:"show",target:this})},hide:function(){this.set("visible",!1);this.q("hide",{type:"hide",target:this})},getVisible:function(){return this.get("visible",null,!0)},getOptions:function(){var a={},b="map zIndex strokeColor strokeOpacity strokeWeight strokeStyle strokeDasharray extData bubble clickable".split(" "),c="isOutline outlineColor geodesic path lineJoin lineCap borderWeight".split(" "),d=["fillColor","fillOpacity","path",
"lineJoin"],f=["center","radius"],g=[];this instanceof cc&&(g=b.concat(c));this instanceof dc&&(g=b.concat(d));this instanceof bc&&(g=b.concat(f).concat(d));for(b=0;b<g.length;b+=1)a[g[b]]=this.get(g[b],null,!0);return a},setOptions:function(a){a.hasOwnProperty("path")&&(a.path&&a.path.length||(a.path=[]),a.path=C.g.da(a.path));this.Qe&&this.Qe.map&&a.map===this.Qe.map&&(a.map=void 0);a.center&&(a.center=C.g.da(a.center));this.Le(a);this.q("options");this.q("change",{type:"change",target:this})},
setDraggable:function(a){this.set("draggable",a)}});var oc=nc.extend({B:{visible:!0,zIndex:10,strokeColor:"#006600",strokeOpacity:0.9,strokeWeight:3,strokeStyle:"solid",strokeDasharray:[10,5],lineJoin:"miter",path:[]},setPath:function(a,b){C.a.add(this.CLASS_NAME,"setPath");a&&a.length||(a=[]);a=this.da(a);this.set("path",a);this.q("change",{type:"change",target:this});b||this.q("setPath")},getPath:function(){C.a.add(this.CLASS_NAME,"getPath");return this.get("path",null,!0)},Vb:function(){var a=this.get("path");if(!a||!a.length)return null;a[0]instanceof
C.M&&(a=[a]);for(var b=new C.Bc(180,90,-180,-90),c=0;c<a.length;c+=1)for(var d=a[c],f=d.length-1;0<=f;f-=1)b.extend(d[f]);return b}});oc.sl({Vb:"getBounds"});var pc=C.T.extend({eb:[C.pa,C.Rc],B:{size:new C.hc(36,36),imageOffset:new C.K(0,0),image:C.k.ab+"/theme/v1.3/markers/0.png",imageSize:null},D:function(a){this.CLASS_NAME="AMap.Icon";C.a.Ma(this.CLASS_NAME,a);a=a||{};a.size&&(a.size=C.g.Qi(a.size));a.imageSize&&(a.imageSize=C.g.Qi(a.imageSize));C.g.Ta(this,a);this.Le(this.B)},setImageSize:function(a){C.a.add(this.CLASS_NAME,"setImageSize");a=C.g.Qi(a);this.set("imageSize",a)},getImageSize:function(){C.a.add(this.CLASS_NAME,"getImageSize");return this.get("imageSize",
null,!0)}});var qc=C.T.extend({eb:[C.pa,C.Rc],B:{coords:[],type:""},D:function(a){this.CLASS_NAME="AMap.MarkerShape";C.a.Ma(this.CLASS_NAME,a);C.g.Ta(this,a);this.Le(this.B)}});var P=ec.extend({B:{cursor:"pointer",visible:!0,zIndex:100,angle:0,autoRotation:!1,opacity:1,offset:new C.K(-9,-31),size:new C.K(19,33),raiseOnDrag:!1,topWhenClick:!1,topWhenMouseOver:!1,animation:"AMAP_ANIMATION_NONE"},D:function(a){this.CLASS_NAME="AMap.Marker";C.a.Ma(this.CLASS_NAME,a);a=a||{};this.Dh=!0;a&&a.position&&(a.position=this.da(a.position));C.g.Ta(this,a);C.h.Wc&&(this.B.angle=0);this.Le(this.B);C.uj.cJ(a)},setRaiseOnDrag:function(a){C.a.add(this.CLASS_NAME,"setRaiseOnDrag");this.set("raiseOnDrag",
a)},setPosition:function(a){C.a.add(this.CLASS_NAME,"setPosition");a=this.da(a);this.set("position",a)},getBounds:function(){var a=this.getPosition().zb();return new C.Bc(a,a.zb())},mapChanged:function(){this.get("map",null,!0)&&(this.get("position",null,!0)||this.set("position",this.get("map").get("center")),this.get("map",null,!0).fC(this))},getPosition:function(){C.a.add(this.CLASS_NAME,"getPosition");return this.get("position",null,!0)},setIcon:function(a){C.a.add(this.CLASS_NAME,"setIcon");this.set("icon",
a)},getIcon:function(){C.a.add(this.CLASS_NAME,"getIcon");return this.get("icon",null,!0)},setContent:function(a){C.a.add(this.CLASS_NAME,"setContent");this.set("content",a)},getContent:function(){C.a.add(this.CLASS_NAME,"getContent");return this.get("content",null,!0)},hide:function(){C.a.add(this.CLASS_NAME,"hide");this.set("visible",!1)},show:function(){C.a.add(this.CLASS_NAME,"show");this.set("visible",!0)},setCursor:function(a){C.a.add(this.CLASS_NAME,"setCursor");this.set("cursor",a)},setRotation:function(a){C.a.add(this.CLASS_NAME,
"setRotation");C.h.Wc||this.set("angle",a)},setAngle:function(a){C.a.add(this.CLASS_NAME,"setAngle");C.h.Wc||"number"!==typeof a||this.set("angle",a)},getAngle:function(){C.a.add(this.CLASS_NAME,"getAngle");return this.get("angle",null,!0)},setOffset:function(a){C.a.add(this.CLASS_NAME,"setOffset");this.set("offset",a)},getOffset:function(){C.a.add(this.CLASS_NAME,"getOffset");return this.get("offset",null,!0)},setzIndex:function(a){C.a.add(this.CLASS_NAME,"setzIndex");this.set("zIndex",a)},setOpacity:function(a){C.a.add(this.CLASS_NAME,
"setOpacity");this.set("opacity",a)},setDraggable:function(a){C.a.add(this.CLASS_NAME,"setDraggable");this.set("draggable",a)},getDraggable:function(){C.a.add(this.CLASS_NAME,"getDraggable");return this.get("draggable",null,!0)},moveTo:function(a,b,c){C.a.add(this.CLASS_NAME,"moveTo");a=this.da(a);this.set("move",{Mg:a,speed:b,Ca:c})},moveAlong:function(a,b,c,d){C.a.add(this.CLASS_NAME,"moveAlong");this.set("move",{Mg:a,speed:b,Ca:c,BO:d})},stopMove:function(){C.a.add(this.CLASS_NAME,"stopMove");
this.set("move",!1)},setShadow:function(a){C.a.add(this.CLASS_NAME,"setShadow");this.set("shadow",a)},getShadow:function(){C.a.add(this.CLASS_NAME,"getShadow");return this.get("shadow",null,!0)},setClickable:function(a){C.a.add(this.CLASS_NAME,"setClickable");a!==this.getClickable()&&this.set("clickable",a)},getClickable:function(){C.a.add(this.CLASS_NAME,"getClickable");return this.get("clickable",null,!0)},setTitle:function(a,b){C.a.add(this.CLASS_NAME,"setTitle");"string"===typeof a&&this.set("title",
a,b)},getTitle:function(){C.a.add(this.CLASS_NAME,"getTitle");return this.get("title",null,!0)},setLabel:function(a){C.a.add(this.CLASS_NAME,"setLabel");a&&(a.hasOwnProperty("content")||a.hasOwnProperty("offSet"))||(a={content:""});a=C.extend({},this.get("label"),a);this.set("label",a)},getLabel:function(){C.a.add(this.CLASS_NAME,"getLabel");return this.get("label",null,!0)},setTop:function(a,b){C.a.add(this.CLASS_NAME,"setTop");this.set("isTop",a,b)},getTop:function(){C.a.add(this.CLASS_NAME,"getTop");
return this.get("isTop",null,!0)},setShape:function(a,b){C.a.add(this.CLASS_NAME,"setShape");this.set("shape",a,b)},getShape:function(){C.a.add(this.CLASS_NAME,"getShape");return this.get("shape",null,!0)},setAnimation:function(a,b){C.a.add(this.CLASS_NAME,"setAnimation");this.set("animation",a,b)},getAnimation:function(){C.a.add(this.CLASS_NAME,"getAnimation");return this.get("animation",null,!0)},getMap:function(){C.a.add(this.CLASS_NAME,"getMap");return this.get("map",null,!0)},markOnAMAP:function(a){C.a.add(this.CLASS_NAME,
"markOnAMAP");a=a||{};var b={};b.name=a.name||this.get("name",null,!0)||"";a=this.da(a.position)||this.get("position",null,!0);b.y=a.H;b.x=a.A;C.Jd.Xi(C.Jd.oQ(b))}});
C.uj={Lw:12,cJ:function(a){if(C.h.vf&&!C.h.V&&a.position&&(new Date).getHours()===C.uj.Lw&&(C.Ba||(C.Ba=[]),a.title||a.content)){var b={p:[a.position.A,a.position.H]};a.title&&(b.t=a.title);a.content&&(b.c=a.content.outerHTML||a.content);a.name&&(b.n=a.name);C.Ba.push(b)}},lB:function(){if(C.Ba&&C.Ba.length){var a=C.uj.$u(JSON.stringify({mks:C.Ba,from:C.k.OP,key:C.k.key}));new C.ha.XMLHttpRequest(C.k.ab+"/count",{QO:"data="+a,Gc:"POST"});C.Ba=[]}},$u:function(a){for(var b="",c=0,d=a.length;c<d;c++)b+=
String.fromCharCode((a.charCodeAt(c)+256)%65535);return b},wf:function(a){for(var b="",c=0,d=a.length;c<d;c++)b+=String.fromCharCode((a.charCodeAt(c)-256+65535)%65535);return b}};if(C.h.vf&&!C.h.V&&(new Date).getHours()===C.uj.Lw){var rc=setInterval(function(){(new Date).getHours()!==C.uj.Lw?clearInterval(rc):C.uj.lB()},6E3);C.event.U(window,"beforeunload",C.uj.lB)};var Ob=ec.extend({B:{visible:!1,items:[]},D:function(a){this.CLASS_NAME="AMap.ContextMenu";C.a.Ma(this.CLASS_NAME,a);this.Dh=!0;C.g.Ta(this,a);this.B.items=[];this.Le(this.B)},addItem:function(a,b,c){C.a.add(this.CLASS_NAME,"addItem");this.get("items").push({UG:a,Ca:b,Fq:c});this.q("items")},removeItem:function(a,b){C.a.add(this.CLASS_NAME,"removeItem");var c=this.get("items"),d,f;for(f=0;f<c.length;f+=1)if(d=c[f],d.UG===a&&d.Ca===b){c.splice(f,1);break}this.q("items")},open:function(a,b){C.a.add(this.CLASS_NAME,
"open");b=C.g.da(b);this.set("position",b);this.map?this.map&&this.map!==a&&(this.map.Uq(this),this.map=a,this.setMap(a)):(this.map=a,this.setMap(a));this.q("open",{type:"open",target:this})},close:function(){C.a.add(this.CLASS_NAME,"close");this.setMap(null);this.map&&(this.map=this.map.Zp=null,this.q("close",{type:"close",target:this}))}});var $b=ec.extend({B:{visible:!0,offset:new C.K(0,0),showShadow:!1,closeWhenClickMap:!1,retainWhenClose:!0,autoMove:!0},D:function(a){this.CLASS_NAME="AMap.InfoWindow";C.a.Ma(this.CLASS_NAME,a);a=a||{};this.Dh=!0;a&&a.size&&(a.size=C.g.Qi(a.size));C.g.Ta(this,a);this.Le(this.B);a.position&&this.set("position",C.g.da(a.position),!0)},open:function(a,b){C.a.add(this.CLASS_NAME,"open");b=C.g.da(b);if(a)if(this.get("toBeClose"))this.set("toBeClose",!1);else if(b=b||this.get("position",null,!0))this.q("change",
{type:"change",target:this}),this.set("position",b),this.map&&this.map===a||(this.map=a,this.setMap(a)),this.q("open",{type:"open",target:this})},close:function(){C.a.add(this.CLASS_NAME,"close");this.setMap(null);this.map=null;this.q("change",{type:"change",target:this})},setContent:function(a){C.a.add(this.CLASS_NAME,"setContent");this.set("content",a);this.q("change",{type:"change",target:this})},getContentU:function(){C.a.add(this.CLASS_NAME,"getContentU");return this.get("content",null,!0)},
getContent:function(){C.a.add(this.CLASS_NAME,"getContent");return this.get("content",null,!0)},setPosition:function(a){C.a.add(this.CLASS_NAME,"setPosition");a=C.g.da(a);this.set("position",a);this.q("change",{type:"change",target:this})},setOffset:function(a){C.a.add(this.CLASS_NAME,"setOffset");this.set("offset",a);this.q("change",{type:"change",target:this})},getPosition:function(){C.a.add(this.CLASS_NAME,"getPosition");return this.get("position",null,!0)},setSize:function(a){C.a.add(this.CLASS_NAME,
"setSize");a=C.g.Qi(a);this.set("size",a);this.q("change",{type:"change",target:this})},getSize:function(a){C.a.add(this.CLASS_NAME,"getSize");var b=this.get("size",null,!0);if(b)return b;if(this.ua&&!a)return new C.hc(this.ua.he.offsetWidth,this.ua.he.offsetHeight)},getIsOpen:function(){C.a.add(this.CLASS_NAME,"getIsOpen");return!!this.get("map")}});var cc=oc.extend({B:{isOutline:!1,outlineColor:"#000000",geodesic:!1,borderWeight:1},D:function(a){this.CLASS_NAME="AMap.Polyline";C.a.Ma(this.CLASS_NAME,a);this.Dh=!0;a=a||{};a.zIndex="number"===typeof a.zIndex?a.zIndex:50;a.path&&(a.path=this.da(a.path));C.g.Ta(this,a);this.setOptions(this.B)},getLength:function(){C.a.add(this.CLASS_NAME,"getLength");for(var a=this.get("path"),b=0,c=0;c<a.length-1;c+=1)b+=a[c].Ad(a[c+1]);return parseFloat(b.toFixed(2))}});var dc=oc.extend({D:function(a){this.CLASS_NAME="AMap.Polygon";C.a.Ma(this.CLASS_NAME,a);this.Dh=!0;a=a||{};a.zIndex="number"===typeof a.zIndex?a.zIndex:10;a.path&&(a.path=this.da(a.path));C.g.Ta(this,C.extend({fillColor:"#FFAA00",fillOpacity:0.9},a));this.setOptions(this.B)},rv:function(a){var b=6378137*Math.PI/180,c=0,d=a.length;if(3>d)return 0;for(var f=0;f<d-1;f+=1)var g=a[f],h=a[f+1],c=c+(g.A*b*Math.cos(g.H*Math.PI/180)*h.H*b-h.A*b*Math.cos(h.H*Math.PI/180)*g.H*b);d=a[f];a=a[0];c+=d.A*b*Math.cos(d.H*
Math.PI/180)*a.H*b-a.A*b*Math.cos(a.H*Math.PI/180)*d.H*b;return 0.5*Math.abs(c)},getArea:function(){C.a.add(this.CLASS_NAME,"getArea");var a=this.get("path",null,!0),b;if(!a.length||a[0]instanceof C.M)b=this.rv(a);else{b=this.rv(a[0]);for(var c=1;c<a.length;c+=1)b-=this.rv(a[c])}return Number(b.toFixed(2))},toString:function(){C.a.add(this.CLASS_NAME,"toString");return this.get("path").join(";")},contains:function(a){C.a.add(this.CLASS_NAME,"contains");a=C.g.da(a);var b=this.get("path");b.length&&
b[0]instanceof C.M&&(b=[b]);a=[a.A,a.H];for(var c,d=0,f=b.length;d<f&&(c=this.rO(b[d]),C.Vh.dk(c)||c.reverse(),c=C.Vh.Ce(a,c,0===d?!0:!1),0<d&&(c=!c),c);d+=1);return c},rO:function(a){for(var b=[],c=0;c<a.length;c+=1)b.push([a[c].A,a[c].H]);return b}});var bc=nc.extend({B:{visible:!0,zIndex:10,strokeColor:"#006600",strokeOpacity:0.9,strokeWeight:3,strokeStyle:"solid",strokeDasharray:[10,5],radius:1E3,fillColor:"#006600",fillOpacity:0.9},D:function(a){this.CLASS_NAME="AMap.Circle";C.a.Ma(this.CLASS_NAME,a);a=a||{};a.center&&(a.center=C.g.da(a.center));a.zIndex="number"===typeof a.zIndex?a.zIndex:10;C.g.Ta(this,a);this.Dh=this.B.center?!0:!1;this.setOptions(this.B)},setCenter:function(a,b){C.a.add(this.CLASS_NAME,"setCenter");(a=C.g.da(a))&&a instanceof
C.M&&(this.set("center",a),this.q("change",{type:"change",target:this}),this.Dh||(this.Dh=!0,this.get("map")&&this.get("map").q("overlays")),b||this.q("setCenter"))},getCenter:function(){C.a.add(this.CLASS_NAME,"getCenter");return this.get("center",null,!0)},setRadius:function(a,b){C.a.add(this.CLASS_NAME,"setRadius");this.set("radius",a);this.q("change",{type:"change",target:this});b||this.q("setRadius")},getRadius:function(){C.a.add(this.CLASS_NAME,"getRadius");return this.get("radius",null,!0)},
getBounds:function(){var a=this.get("center"),b=this.get("radius");if(!a)return null;var c=a.offset(-b,-b),a=a.offset(b,b);return new C.Bc(c,a)},contains:function(a){C.a.add(this.CLASS_NAME,"contains");return this.get("center").Ad(a)<=this.get("radius")?!0:!1}});C.BH=fc.extend({D:function(a,b){b&&(b.center=b.position,b.zoom=11);arguments.callee.Ya.apply(this,arguments);window.console&&window.console.log&&window.console.log("\u9ad8\u5fb7\u5730\u56feJSAPI\u8857\u666f\u5df2\u4e0b\u7ebf\uff0c\u611f\u8c22\u60a8\u7684\u652f\u6301\u3002")}});C.CH=P.extend({D:function(a){arguments.callee.Ya.apply(this,arguments)}});C.Vh={HT:function(a,b){return this.GT(a,this.OC(a,b))},GT:function(a,b){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d},OC:function(a,b){var c=a[0],d=a[1],f=b[0],g=b[1],h=f[0],f=f[1],k=g[0],g=g[1],l=k-h,m=g-f,c=0===l&&0===m?0:(l*(c-h)+m*(d-f))/(l*l+m*m||0);0>=c||(1<=c?(h=k,f=g):(h+=c*l,f+=c*m));return[h,f]},dk:function(a){for(var b=a.length,c=0,d=a[b-1],f=d[0],d=d[1],g,h,k=0;k<b;k+=1)h=a[k],g=h[0],h=h[1],c+=(g-f)*(h+d),f=g,d=h;return 0<c},Ce:function(a,b,c){var d=a[0];a=a[1];var f=!1,g,h,k,l,m=b.length,
n=0;for(l=m-1;n<m;l=n,n+=1){var q=!1;g=b[n][0];h=b[n][1];k=b[l][0];l=b[l][1];if(g===d&&h===a||k===d&&l===a)return c?!0:!1;if(h<a===l>=a){g=(k-g)*(a-h)/(l-h)+g;if(d===g)return c?!0:!1;q=d<g}q&&(f=!f)}return f}};var sc={Pixel:C.K,LngLat:C.M,Size:C.hc,Bounds:C.Bc,PixelBounds:C.ud,event:X,Panorama:C.BH,PanoramaMarker:C.CH,Map:fc,View2D:Nb,GroundImage:ac,Marker:P,ImageMarker:Lb.NU,Text:Lb.VU,Icon:pc,MarkerShape:qc,Polyline:cc,Polygon:dc,Circle:bc,ContextMenu:Ob,InfoWindow:$b,Buildings:kc,TileLayer:L,ImageLayer:lc,VectorLayer:jc,MassMarks:mc,CANVAS:"canvas",DOM:"dom"};sc.plugin=sc.service=fc.prototype.plugin;sc.TileLayer.Satellite=L.ey;sc.TileLayer.RoadNet=L.by;sc.TileLayer.Traffic=L.gy;sc.Panorama.Events=X;
sc.TileLayer.PanoramaLayer=L.PU;sc.UA={ie:C.h.Al,ielt9:C.h.Wc,ielt11:C.h.GQ,mobile:C.h.V,android:C.h.Be,ios:C.h.hE};window.AMap=sc;window.AMap.BuryPoint=C.BuryPoint;window.AMap.Class=C.T;if("undefined"!==typeof arguments&&arguments.callee)try{C.h.xq&&window.localStorage&&((Hb=window.localStorage["_AMap_"+C.se])&&JSON.parse(Hb).version===C.k.Ug||window.localStorage.setItem("_AMap_"+C.se,JSON.stringify({script:"("+arguments.callee+")()",version:C.k.Ug})))}catch(tc){};window.AMap.convertFrom=function(a,b,c){C.a.add("AMap","convertFrom",b);var d=C.k.Xb+"/v3/assistant/coordinate/convert";a=C.g.da(a);var f=[];if(a instanceof Array){for(var g=0,h=a.length;g<h;g+=1)f.push(a[g]+"");f=f.join(";")}else f=a+"";b=["key="+C.k.key,"s=rsv3","locations="+f,"coordsys="+(b||"gps")];d+=0<b.length?"?"+b.join("&"):"";d=new C.ha.va(d,{callback:"callback"});d.d("complete",function(a){if("1"===a.status){a=a.locations.split(";");for(var b=0;b<a.length;b+=1){var d=a[b].split(",");a[b]=
new AMap.LngLat(d[0],d[1])}c&&"function"===typeof c&&c("complete",{info:"ok",locations:a})}else c&&"function"===typeof c&&c("error",a.info)},this);d.d("error",function(a){c&&"function"===typeof c&&c("error",a.info)},this)};
_jsload_('http', 'C.ha={};C.ha.Pr=C.T.extend({eb:[C.pa],B:{callback:"cbk",type:"json",charset:"utf-8"},D:function(a,b){b=b||{};C.g.Ta(this,b);this.url=a;this.send(a,b.Gc,b.QO)},send:function(a){var b=C.e.create("script");b.type="text/javascript";b.charset=this.B.charset;var c=this;C.h.Wc?b.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||c.q("complete")}:(b.onload=function(){c.q("complete")},b.onerror=function(){c.q("error",{status:0,info:"service error",url:a})});b.src=a;document.getElementsByTagName("head")[0].appendChild(b)}});C.ha.va=C.ha.Pr.extend({uO:function(){if(C.g.fG)return C.g.qr.push(this),!0},ZS:function(){this.q("error",{info:"TIME_OUT_A"})},send:function(a){function b(){window[c]=null;try{window[c]=null}catch(a){}d.onerror=null;d.parentNode&&d.parentNode.removeChild(d)}if(!this.B.dn||!this.uO()){a=encodeURI(a);var c=this.B.fun;if(!c||window[c])c=C.g.yD("jsonp_",6)+"_";var d=document.createElement("script");d.type="text/javascript";d.charset="utf-8";d.async=!0;var f=this;C.h.Wc||(d.onerror=function(){b();f.q("error", {info:"REQUEST_FAILED",url:a})});window[c]=function(a){b();f.B.callbackFunction?f.B.callbackFunction.call(f.B.context,a):3E4===a.errcode?(C.g.fG=!0,C.bb.load("AMap.AntiCrabFrame",function(){C.g.dn||(C.g.dn=new C.cH);C.g.qr.push(f);C.g.dn.open(f.B.Gc,a.data.host,f.zw)})):(a instanceof Array&&(a={data:a}),f.q("complete",a))};var g="?";-1!==a.indexOf("?")&&(g="&");g=a+g+this.B.callback+"="+c;if(-1!==a.indexOf(C.k.Xb+"/v3")||-1!==a.indexOf("yuntuapi.amap.com/datasearch"))g+="&platform=JS&logversion=2.0&sdkversion="+ C.k.VB,g+="&appname="+C.k.Np;var g=g+("&csid="+this.nU()),h=this.B.Tj;if(h){var k=[],l;for(l in h)h.hasOwnProperty(l)&&(k.push(l+"="+h[l]),g+="&"+l+"="+encodeURIComponent(h[l]));f.zw=k.join("&")}d.src=g;C.ha.va.fz||(C.ha.va.fz=document.getElementsByTagName("head")[0]);C.ha.va.fz.appendChild(d)}},nU:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return function(b,c){var d=[],f;c=c||a.length;if(b)for(f=0;f<b;f++)d[f]=a[0|Math.random()*c];else{var g;d[8]= d[13]=d[18]=d[23]="-";d[14]="4";for(f=0;36>f;f++)d[f]||(g=0|16*Math.random(),d[f]=a[19==f?g&3|8:g])}return d.join("")}}()});window.AMap.Http={};window.AMap.Http.JSONP=C.ha.va;C.ha.XMLHttpRequest=C.ha.Pr.extend({send:function(a,b,c){var d=this.BU=new XMLHttpRequest,f=this;d.onreadystatechange=function(){4===d.readyState&&200===d.status?f.q("complete",{url:a,data:d.responseText}):404===d.status&&(d.abort(),f.q("error",{url:a,data:"404"}))};d.open(b||"GET",a);"POST"===b&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");d.send(c||void 0)},abort:function(){this.BU.abort()}}); ',true),_jsload_('map', 'C.Vg=C.T.extend({D:function(a,b,c,d){this.start=a;this.end=b;this.transition=c;this.precision=d||0;this.Ti=!1;return this},rk:function(a){this.Pf=+new Date;this.frames=0;this.af=a;this.startTime=+new Date;this.Ti=!0;this.jC=C.g.Yd(this.update,this,!1)},update:function(){this.jC=C.g.Yd(this.update,this,!1);this.frames+=1;var a=+new Date,b=a-this.startTime,b=this.transition?this.transition(this.start,this.end,b,this.frames,a-this.Pf):null;"number"===typeof b&&Math.abs(b-this.end)<this.precision&&(this.stop(), b=this.end);this.Pf=a;this.Qn.call(this.af||this,b)},stop:function(a){C.g.ll(this.jC);a&&this.update();this.Ti=!1}});C.Vg.Easing={Linear:{None:function(a){return a}},Bounce:{In:function(a){return 1-(a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375)},Out:function(a){return C.Vg.Easing.Bounce.In(1-a)}},Cubic:{In:function(a){return 1-a*a*a},Out:function(a){a=1-a;return 1-a*a*a}}};C.ae=C.T.extend({eb:[C.pa,C.Rc,C.ME],D:function(a,b){this.$a=b;this.og=this.ug=this.Xf=!1;this.w=a;this.IK();this.OQ();this.yq=new C.P.canvas.ae(this);this.L("size",b);this.L("zooms",b);this.L("limitBounds",b);this.L("view",b);this.L("lang",b,!0);this.L("features",b,!0);this.L("showBuildingBlock",b,!0);this.L("mapStyle",b);this.L("labelzIndex",b,!0);C.h.vf&&(this.ef=new C.S.fm(new L({zIndex:b.get("labelzIndex"),visible:!1}),this),this.ef.qb.d("complete",this.lt,this,!0),this.ef.bp=this.ef.uE=!0); this.L("layers",b);this.L("overlays",b);this.L("infos",b,!0);this.L("contextmenus",b,!0);this.L("coordsBound",b);this.L("controls",b);this.L("bounds",b);this.L("draw",b);this.jd("zoomAndCenter destroy defaultCursor jogEnable animateEnable baseRender overlayRender".split(" "),b);this.jd("rotateEnable dragEnable keyboardEnable doubleClickZoom scrollWheel zoomEnable touchZoom".split(" "),b,!0);this.get("jogEnable")?this.En=!0:this.En=!1;this.qK();this.uK();this.L("resizeEnable",b);this.$a.map=this;var c= this.get("size"),c=c.width*c.height/65536;C.h.ja&&3<c&&(this.pC=!0);this.YF()},labelzIndexChanged:function(){this.ef&&this.ef.set("zIndex",this.get("labelzIndex"))},mapStyleChanged:function(){C.h.vf&&("dark"===this.get("mapStyle")?this.w.style.backgroundColor="#202020":this.w.style.backgroundColor="")},getTargetLevel:function(){var a=this.get("targetLevel",null,!0);a||(a=this.get("zoom"));return a},resizeEnableChanged:function(){},LO:function(){var a;if(this.get("center")instanceof C.M){a=new C.Bc(-180, -85,180,85);var b=this.Hb(a.Zj());a=this.Hb(a.xl());this.Yr={Fd:b.x,Fc:b.y,qd:a.x,Oc:a.y}}else a=this.get("limitBounds"),this.Yr={Fd:a[0],Fc:a[1],qd:a[2],Oc:a[3]}},wO:function(){var a=this.get("limitBounds"),b=this.get("bounds");b.Va.A>b.Oa.A&&(b.Oa.A+=360);if(!a.contains(b)){var c=this.get("center").zb();a.Sd()<b.Sd()?c.A=a.He().A:(a.Va.A>b.Va.A&&(c.A+=a.Va.A-b.Va.A),a.Oa.A<b.Oa.A&&(c.A+=a.Oa.A-b.Oa.A));a.Qd()<b.Qd()?c.H=a.He().H:(a.Va.H>b.Va.H&&(c.H+=a.Va.H-b.Va.H),a.Oa.H<b.Oa.H&&(c.H+=a.Oa.H-b.Oa.H)); return c}},ty:function(){this.Yr||this.LO();return this.Yr},Wt:function(){var a=this.bx;this.$a.refreshSize();var b=this.get("size");b&&a&&!b.Nb(a)&&(this.bx=b,this.lr=!0,this.set("display"),this.ZF(b),this.get("resizeEnable")&&this.ka("resize",{DR:a,WE:b}))},gB:function(){var a=this;a.Wt();a.Ut=setTimeout(function(){a.gB()},200)},$I:function(){this.Ut&&(clearTimeout(this.Ut),this.Ut=null)},IK:function(){this.bx=this.$a.getSize();if(C.h.Wc||C.h.xU&&C.h.hE)this.gB();else{var a=this;C.l.PN(this.w,function(){a.Wt()})}}, viewChanged:function(a){if(a=this.get("view"))this.view=new C.SH(a,this)},OQ:function(){var a=this.w;C.e.Ub(a,"amap-container");var b={};b.Yc=C.e.create("div",a,"amap-maps");this.Pk=C.e.create("div",a);this.Pk.style.display="none";b.vi=C.e.create("div",b.Yc,"amap-drags");b.S=C.e.create("div",b.vi,"amap-layers");b.ua=C.e.create("div",b.vi,"amap-overlays");b.controls=C.e.create("div",a,"amap-controls");b.bw=C.e.create("a",a,"amap-logo");var c=window.location.host;-1===c.indexOf("amap.com")&&-1===c.indexOf("gaode.com")&& (b.bw.href=C.h.V?"http://m.amap.com":"http://gaode.com",b.bw.target="_blank");C.e.create("img",b.bw).src=C.h.ja?this.$a.B.logoUrlRetina:this.$a.B.logoUrl;b.UO=C.e.create("div",a,"amap-copyright");b.UO.innerHTML=350>C.e.oq(this.w).width?"":this.$a.B.copyright;this.Za=b},lt:function(){if(!this.$a.tb){for(var a=this.get("layers"),b=this.get("zoom"),c=0;c<a.length;c+=1){var d=a[c].get("zooms");if(!(!d||b>d[1]||b<d[0]||!a[c].get("visible")||a[c].S&&(a[c].S.tb||a[c].S.B&&!a[c].S.B.ya.length)))return}this.$a.tb= !0;C.g.Yd(function(){this.q("complete");this.$a.oe&&this.$a.oe.mp()},this)}},layersChanged:function(){this.Ra=this.Ra||[];for(var a=this.get("layers"),b=0;b<this.Ra.length;b+=1)this.Ra[b]===this.dc||this.Ra[b]===this.Ri||this.Ra[b].bp||this.Ra[b].qb.bp||-1!==C.g.indexOf(a,this.Ra[b].qb)||(this.Ra[b].gf(),this.Ra[b].qb.F("complete",this.lt,this),this.Ra=C.g.rl(this.Ra,b),b=-1);for(var c=!1,d=this.get("labelzIndex"),b=0;b<a.length;b+=1){if(a[b].Yf)-1===C.g.indexOf(this.Ra,a[b].S)&&this.Ra.push(a[b].S); else{var f=this.Ze(a[b]);f&&(this.Ra.push(f),a[b].Yf=!0,a[b].S=f);a[b].d("complete",this.lt,this,!0)}a[b].ik&&a[b].get("visible")&&(c=!0,d=a[b].get("textIndex")||d)}a=C.g.indexOf(this.Ra,this.ef);c?(-1===a&&this.Ra.push(this.ef),this.ef.set("zIndex",d),this.ef.set("visible",!0),this.$a.rq=!0,this.$a.get("isHotspot")&&this.ef.XR()):(this.ef&&(this.ef.set("visible",!1),this.$a.rq=!1,this.ef.NC()),this.$a.rq=!1);this.$a.isHotspotChanged();this.set("display",0)},controlsChanged:function(){var a=this.get("controls"), b,c;if(a.add&&0<a.add.length)for(;0<a.add.length;)b=a.add.shift(),(c=b.jl||b.addTo)&&c.call(b,this.$a,this.Za.controls);else if(a.remove&&a.remove.length)for(;0<a.remove.length;)b=a.remove.shift(),(c=b.Pl||b.removeFrom)&&c.call(b,this.$a,this.Za.controls)},TB:function(){var a=this;this.XB=!1;a.dc||(a.dc=new C.S.Ic(new jc,a),a.dc.Rg=36,a.dc.Sg=36,a.dc.set("zIndex",120),a.Ra.push(a.dc),a.dc.eq=!0);for(var b=a.get("overlays"),c=[],d=0;d<a.wb.length;d+=1)-1===C.g.indexOf(b,a.wb[d].uc)&&(a.wb[d].uc instanceof $b||a.wb[d].uc instanceof Ob?a.wb[d].gf():(a.dc&&a.wb[d]instanceof C.ua.cd?a.dc.JF([a.wb[d].C]):a.Ri&&a.Ri.JF([a.wb[d].C]),a.wb[d].C.Q?(C.e.remove(a.wb[d].C.Q),a.wb[d].C.Q=null):a.wb[d].C.ca&&(C.e.remove(a.wb[d].C.ca.bc),C.e.remove(a.wb[d].C.ca.Pa),a.wb[d].C.ca=null),a.wb[d].gg&&a.wb[d].gg.stop(),a.wb[d].uc.Yf=!1,a.wb[d].uc.Qe.map=null,a.wb[d].uc.ua=null,a.wb[d].uc=null,a.wb[d].C.lP(),a.wb[d].C=null,a.wb[d].jo(),a.wb[d].Qe=null,a.wb[d].hn()),c.push(a.wb[d]));for(d=0;d<c.length;d+=1)a.wb=C.g.rl(a.wb, C.g.indexOf(a.wb,c[d]));var f=[],g=[];C.g.mT(function(b){if(!b.Yf&&b.Dh){var c=b.ua||a.jO(b);c&&(a.wb.push(c),c instanceof C.ua.Xh||c instanceof C.ua.Fr?c.$E():c instanceof C.ua.cd?f.push(c.C):g.push(c.C),b.Yf=!0)}},b);f.length&&a.dc.Gj(f);g.length&&(a.Ri||(a.Ri=new C.S.Ic(new jc,a),a.Ri.set("zIndex",110),a.Ra.push(a.Ri)),a.Ri.Gj(g));a.set("display",0)},overlaysChanged:function(){this.wb=this.wb||[];this.get("overlays")&&0===this.get("overlays").length?this.TB():this.XB||(C.g.Yd(this.TB,this),this.XB= !0)},contextmenusChanged:function(){var a=this.get("contextmenu");if(a){var b=this;C.bb.load("overlay",function(){b.Zp=new C.ua.Fr(a,b);b.set("display",0)})}},infosChanged:function(){var a=this.get("infos");if(a){this.Li=this.Li||{};var b,c=this;C.bb.load("overlay",function(){for(var d in a)a.hasOwnProperty(d)&&(b=a[d],c.Li[d]=c.Li[d]||new C.ua.Xh(b,c))})}},jO:function(a){var b=null;if(a instanceof P)b=new C.ua.cd(a,this);else if(a instanceof Ob)b=new C.ua.Fr(a,this);else if(a instanceof $b)b=new C.ua.Xh(a, this);else{var c=["overlay"];"d"===this.get("overlayRender")?(c.push("dvector"),C.h.Ch?c.push("svg"):c.push("vml")):c.push("cvector");if(!this.qU&&!C.bb.rE(c)){var d=this;C.bb.Cf(c,function(){this.qU=!0;d.overlaysChanged()});return}a instanceof dc?b=new C.ua.Sc(a,this):a instanceof cc?b=new C.ua.Md(a,this):a instanceof bc&&(b=new C.ua.Uh(a,this))}return b},CV:function(){function a(){}var b=new C.S.Ic,c=[],d=new C.M(116.405467,39.907761);new C.style.Tc.xo;for(var f=0;100>f;f+=1)for(var g=0;100>g;g+= 1){var h=new C.M(d.A+0.02*g,d.H+0.02*f),h=new C.td({name:"point"+(100*f+g),map:this,na:new C.Y.Ld(this.Hb(h))});c[100*f+g]=h;h.d("hover",a,h)}b.Gj(c);this.Ra.push(b)},Qa:function(){},BV:function(a){var b=new C.S.Ic,c=[],c=(new C.oH({map:this})).Qq(a);b.Gj(c);this.Ra.push(b);this.set("display",0)},Ze:function(a){a=a.Ze(this);if(!a)return null;if(a.length){var b=this;C.bb.Cf(a,function(){b.layersChanged()})}else return a;return null},AW:function(){return this.Za},BX:function(){this.set("display",0)}, displayChanged:function(a){this.YF(a)},YF:function(a){if(a)if(C.g.ll(this.Yq),C.h.Be){var b=this;setTimeout(function(){b.Xd()},0)}else this.Xd();else this.$l||(this.Yq=C.g.Yd(this.Xd,this),this.$l=!0)},Xd:function(){this.$l=!1;var a={};if(this.Ra){a.Ra=this.Ra.sort(function(a,b){return a.get("zIndex")>b.get("zIndex")?1:a.get("zIndex")===b.get("zIndex")?a.Xr>b.Xr?1:-1:-1});a.size=this.get("size");a.Og=this.get("mapStyle");a.qC=15E5<a.size.width*a.size.height;a.V=C.h.V;a.la=this.view.wQ();a.$b=this.og; a.Zd=this.Xf;a.Pi=this.ug;a.px=this.ug&&C.h.V;a.QG=C.h.V&&this.Xf;a.vr=C.h.V&&this.og;this.vr=a.vr;a.Er=a.la.zoom>this.get("targetLevel");a.xR=!0;a.ma=this.get("coordsBound");a.pC=this.pC;for(var b=!1,c,d=!1,f=0;f<this.Ra.length;f+=1)this.Ra[f].qe&&this.Ra[f].get("visible")&&a.la.zoom<=this.Ra[f].get("zooms")[1]&&(a.Ow=!0),this.Ra[f].Ii().ja&&(b=!0);for(f=0;f<this.Ra.length;f+=1)this.Ra[f].qb.nC&&a.Ow&&(this.Xf||(c=this.Ra[f].qb.nC(),c.VW=1,c.zoom=a.la.zoom),d=!0);d?c&&this.rb!==c&&(this.rb=c):this.rb= [];a.rb=this.rb;a.ja=b;a.scale=Math.pow(2,a.la.zoom-a.la.Lb);this.tn=a;this.yq.Xd(a)}},zW:function(){return this.yq},VP:function(){var a=[],b=this.get("controls").ac,c;for(c in b)b[c].wl&&b[c].wl()&&a.push(b[c].wl());return a},destroyChanged:function(){this.bN&&clearTimeout(this.bN);this.KM();this.YK();this.Gt&&this.Gt();this.vN();this.w.gs=null},vN:function(){var a=this.w;this.$I();C.l.FO(a);C.e.BS(a);this.Pk=null;C.e.Wb(a,"amap-container")},jogEnableChanged:function(){this.get("jogEnable")?this.En= !0:this.En=!1},drawChanged:function(){var a=this,b,c,d=this.get("draw");if(d){this.Ah||(this.Ah=[]);b=0;for(c=this.Ah.length;b<c;b+=1)this.Ah[b].DS();C.bb.load("interaction",function(){var b=new C.OU({type:d,S:a.Ri},a);a.Ah.push(b);a.loaded=!0})}else if(this.Ah)for(b=0,c=this.Ah.length;b<c;b+=1)this.Ah[b].DS(),this.Ah[b].QV(),this.F("click",this.Ah[b].NW,this)}});C.ae.Xc({qK:function(){this.Fm=!1;C.h.wc&&this.BI();C.h.V||this.yI()},KM:function(){C.h.wc&&this.cL();C.h.V||this.ZK()},rotateEnableChanged:function(){this.ar=this.get("rotateEnable");C.h.wc&&(this.ar?this.dO():this.CR())},zoomEnableChanged:function(){this.get("zoomEnable")?(C.h.wc&&this.rC(),C.h.V||this.AI()):(C.h.wc&&this.YE(),C.h.V||this.bL())},mousewheelChanged:function(){},KE:function(a){a&&this.nR(a.Dj)},nR:function(a){this.Fm=a},VG:function(){this.Fm=!1},Ef:function(a,b){var c,d={};a||(a=window.event); var f=C.l.yf(a,this.Za.Yc);C.h.wc&&("touchend"!==a.type?this.N.fA=f:f=this.N.fA);d.Cb=f;d.Ud=this.Yp(f);d.Mg=this.yi(f);(f=!1!==this.Fm?this.Fm?[this.Fm]:null:this.LJ(d.Ud))&&0<f.length&&f[0].qi&&(c=f[0].qi,d.Dj=f[0]);c||(c=this);d.yd=c;d.$U=a.altKey;d.ctrlKey=a.ctrlKey;d.button=C.h.wc?0:a.button;!b&&a.preventDefault&&a.preventDefault();return d},Uz:function(a){return a&&a!==this&&a!==document},kB:function(){if((!this.Zf||this.Zf.Ti)&&this.N.qn&&this.N&&this.N.Ke){var a=this.N.qn.Cb.Ia(this.N.Ke); a.x||a.y?(this.N.ug=!0,this.N.mj||(this.N.rn.q("dragstart",this.N.aD),this.N.mj=!0),this.N.rn.q("dragging",this.N.qn),this.N.Ke=this.N.qn.Cb):this.N.ug=!1}},ET:function(a){for(var b=[],c=0;c<a.length;c+=1)a[c]&&(b=b.concat(a[c]));return b},Tn:function(a,b){return a&&b&&(a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y)<(C.h.V?18:10)},LJ:function(a){var b,c=this;this.Ra.sort(function(a,b){return a.get("zIndex")>b.get("zIndex")?-1:1});this.yq.mv(a,this.Ra,function(a){b=a;b=c.ET(b)},function(){b=[]});return b}});C.ae.Xc({uK:function(){this.d("moveend",this.cF,this);C.h.Be&&(C.h.Ar||C.h.zu)&&this.d("zoomend",this.Bx,this);this.d("movestart",this.dF,this);this.d("zoomstart",this.kF,this);this.d("zoomend",this.jF,this);this.ms()},kF:function(){this.Xf=!0},jF:function(){this.Xf=!1;this.set("display")},YK:function(){this.F("moveend",this.cF,this);C.h.Be&&(C.h.Ar||C.h.zu)&&this.F("zoomend",this.Bx,this);this.F("movestart",this.dF,this);this.F("zoomstart",this.kF,this);this.F("zoomend",this.jF,this);this.$K()}, cF:function(a){this.ug=!1;this.ZF();!a.sE&&this.get("limitBounds")?(a=this.wO())&&!a.Nb(this.get("center"))?this.ir(this.get("zoom"),a,!1,!0):this.ka("moveend"):this.ka("moveend");this.set("display")},dF:function(){this.ug=!0},dragEnableChanged:function(){(this.fq=this.get("dragEnable"))?this.ls():this.Ft()},ka:function(a,b){var c;b&&(c=b.WE?{type:a,newsize:b.WE,oldsize:b.DR}:{type:a,pixel:b.Cb,target:this.$a,lnglat:b.Mg});this.$a.q(a,c)},ms:function(){this.d("click",this.CA);this.d("dblclick",this.EA); C.h.wc&&this.DI();C.h.V||this.zI()},$K:function(){this.F("click",this.CA);this.F("dblclick",this.EA);C.h.wc&&this.dL();C.h.V||this.aL()},np:function(a,b){var c=this.getTargetLevel(),c=0<b?Math.floor(c)+1:Math.ceil(c)-1,c=Math.min(Math.max(c,this.get("zooms")[0]),this.get("zooms")[1]);c===this.get("zoom")||this.bd&&this.bd.Ti&&c===this.bd.end||this.Fx(c,!1,a)},CA:function(a){this.ka("click",a)},EA:function(a){this.get("doubleClickZoom")&&this.get("zoomEnable")&&this.np(a.Ud,1);this.ka("dblclick",a)}, sV:function(a){this.np(a.VX,a.WX);this.ka("touchend",a)},ls:function(){this.fq&&(this.d("dragstart",this.HA),this.d("dragging",this.FA),this.d("dragend",this.GA))},Ft:function(){this.fq||(this.F("dragstart",this.HA),this.F("dragging",this.FA),this.F("dragend",this.GA))},HA:function(a){this.KE(a);this.og=!0;this.N.bD=a.Cb.x;this.N.cD=a.Cb.y;this.pe&&(this.pe.stop(),this.gq(!0));this.ka("dragstart");this.ka("movestart");this.q("movestart",a);this.LT()},FA:function(a){var b=this.N,c=a.Cb.x-b.bD,d=a.Cb.y- b.cD;if(d||c){this.N.ug=!0;b.bD=a.Cb.x;b.cD=a.Cb.y;a=c;var b=d,f=this.ar?this.rotation:0;f&&(f*=Math.PI/180,a=c*Math.cos(f)+Math.sin(f)*d,b=-Math.sin(f)*c+Math.cos(f)*d);a=this.get("centerCoords").Ia((new C.K(a,b)).ec(this.J));(b=this.HC(a))&&(d=Math.round(this.vh(b).Ia(this.vh(a)).y));this.Jh(this.Za.vi,c,d);a.x=(a.x+C.g.ra)%C.g.ra;this.set("centerCoords",a,!0);this.set("center",this.je(a),!0);this.En&&(this.Pf?(a=new Date,this.qj=100<a-this.Pf?new C.K(0,0):new C.K(c,d),this.dp=a-this.Pf,this.Pf= a):this.Pf=new Date);this.ka("dragging");this.ka("mapmove")}else this.N.ug=!1,this.qj=null},Jh:function(a,b,c){if(a&&!(1>Math.abs(b)&&1>Math.abs(c))){var d=parseFloat(a.style.top)||0,f=parseFloat(a.style.left)||0,g="";this.get("rotation")&&(g=C.e.Yi[C.e.ed]+":rotate("+this.rotation+"deg);overflow:visible;");a.style.cssText="position:absolute;top:"+(d+c)+"px;left:"+(f+b)+"px;"+g}},HC:function(a){var b=this.ty(),c=this.bx.height*this.J/2;return a.y<b.Fc+c?(a.y=b.Fc+c,a):a.y>b.Oc-c?(a.y=b.Oc-c,a):null}, GA:function(){this.VG();100<new Date-this.Pf&&(this.qj=null);this.N.Ke=null;this.og=!1;this.ka("dragend");if(this.En&&this.qj)if(this.N.ug){var a=this.qj,b=new C.K(0,0),c=a.Ad(b);12<c/this.dp&&(a.x*=12/c,a.y*=12/c);this.pe=new C.Vg(a,b,function(a,b,c){return 400<=c?b:a.ec(1-c/400).floor()},1);this.pe.Qn=function(a){if(2>Math.abs(a.x)&&2>Math.abs(a.y))this.pe.stop(),this.q("moveend"),this.gq(),this.dp=this.qj=this.Pf=null;else{var b=a.x,c=a.y,h=this.ar?this.rotation:0;h&&(h*=Math.PI/180,b=a.x*Math.cos(h)+ Math.sin(h)*a.y,c=-Math.sin(h)*a.x+Math.cos(h)*a.y);b=this.get("centerCoords").Ia((new C.K(b,c)).ec(this.J));c=this.HC(b);h=a.y;c&&(h=Math.round(this.vh(c).Ia(this.vh(b)).y));this.Jh(this.Za.vi,a.x,h);b.x=(b.x+C.g.ra)%C.g.ra;this.set("centerCoords",b,!0);this.set("center",this.je(b),!0);this.ka("mapmove")}};this.pe.rk(this)}else this.q("moveend"),this.gq(),this.dp=this.qj=this.Pf=null;else this.q("moveend"),this.gq(),this.dp=this.qj=this.Pf=null},LT:function(){if(!this.N.refresh){var a=this;this.N.refresh= setInterval(function(){a.set("display",1)},C.h.V?400:200)}},Bx:function(){if(C.h.Be&&(C.h.Ar||C.h.zu)){for(var a=this.Za.S.childNodes,b=0;b<a.length;b+=1){var c=a[b];c instanceof HTMLCanvasElement&&(c.width=0);"amap-e"===c.className&&(c.style.height="0")}for(b=0;b<this.Ra.length;b+=1)c=this.Ra[b],"undefined"!==typeof AMap.IndoorMap&&c instanceof AMap.IndoorMap&&(c.Ej&&(c.Ej.width=0),c.gl&&(c.gl.width=0))}},gq:function(a){this.N.refresh&&(clearInterval(this.N.refresh),this.N.refresh=null);a||(this.Bx(), this.set("display",1))},ZF:function(a){this.set("refresh",a)}});C.ae.Xc({setZoomSlow:function(a){this.ir(a,null,!this.get("animateEnable"))},setPanTo:function(a){this.ir(null,a,!this.get("animateEnable"))},zoomAndCenterChanged:function(a){var b=a[0];b<this.get("zooms")[0]&&(b=this.get("zooms")[0]);b>this.get("zooms")[1]&&(b=this.get("zooms")[1]);this.ir(b,a[1],a[2]||!this.get("animateEnable"))},zoomChanged:function(){this.J=this.get("resolution");this.q("closeOverlays");this.set("display",0)},rotationChanged:function(){this.rotation=this.get("rotation");this.set("display", 0)},centerCoordsChanged:function(){this.q("closeOverlays");this.set("display",0)}});C.SH=C.T.extend({eb:[C.pa,C.Rc],D:function(a,b){this.view=a;this.map=b;this.L("zoom",a);this.L("rotation",a);this.L("size",b);this.L("resolution",a);this.L("crs",a);this.L("rotateEnable",b);a.L("centerCoords",this,!0);b.L("resolution",this);b.L("zoom",this);b.L("crs",this);b.L("resolution",this);b.L("centerCoords",this);b.L("rotation",this);b.L("center",this);this.L("center",a)},centerChanged:function(){this.set("centerCoords",this.map.Hb(this.get("center")))},centerCoordsChanged:function(){var a= this.map.ty(),b=this.get("centerCoords"),c=this.get("size").height*this.getResolution()/2;this.get("size");this.getResolution();this.get("center")instanceof C.M?b.x=(b.x+4.00750166855784E7)%4.00750166855784E7:0>b.x?b.x=0:b.x>a.qd&&(b.x=a.qd);b.y<a.Fc+c?b.y=a.Fc+c:b.y>a.Oc-c&&(b.y=a.Oc-c)},zoomChanged:function(){},rotationChanged:function(){},getResolution:function(a){return this.get("crs").Ig(a||this.get("zoom"))},wQ:function(){return{zoom:this.get("zoom"),sh:this.get("center"),Ga:this.get("centerCoords"), rotation:this.get("rotateEnable")&&parseInt(this.get("rotation"))||0,sd:this.get("crs"),J:this.getResolution(),Lb:Math.round(this.get("zoom")),Jb:this.getResolution(Math.round(this.get("zoom")))}}}); ',true),_jsload_('anip', 'C.ae.Xc({Fx:function(a,b,c,d){function f(b){var d=this.vh(c);this.set("zoom",b);var f=this.vh(c).Ia(d),k=(this.ar?this.rotation:0)*Math.PI/180,d=f.x*Math.cos(k)+Math.sin(k)*f.y,f=-Math.sin(k)*f.x+Math.cos(k)*f.y;this.set("centerCoords",this.get("centerCoords").add((new C.K(d,f)).ec(this.J)));d&&f&&this.ka("mapmove");b===a&&Math.floor(a)===a&&(this.set("targetLevel",null),g&&(this.ka("zoomchange"),this.ka("zoomend")),h&&this.q("moveend"),this.q("zoomend"),this.bd=null)}C.h.V&&(b=!0);a=a||this.get("zoom"); a=Math.min(Math.max(a,this.get("zooms")[0]),this.get("zooms")[1]);var g=a!==this.get("zoom"),h=!!c;this.pe&&(this.pe.stop(),this.pe=null);c=c||this.get("centerCoords");var k;this.Sb&&this.Sb.Ti&&(this.Sb.stop(),this.Sb.Dv&&(d=!0),this.Sb.yn&&(k=!0),this.Sb=null,this.set("targetLevel",null));this.bd&&this.bd.Ti&&(this.bd.stop(),d=!0,this.bd.yn&&(k=!0),this.bd=null,this.set("targetLevel",null));g&&!d&&this.ka("zoomstart");h&&!k&&this.ka("movestart");this.q("zoomstart");b?f.call(this,a):(this.set("targetLevel", a),this.bd=new C.Vg(this.get("zoom"),a,null,0.02),this.bd.Dv=g,this.bd.yn=h,this.bd.transition=function(a,b,c){return c>=C.k.Mp?b:(b-a)*(1-Math.pow(1-c/C.k.Mp,4))+a},this.bd.Qn=f,this.bd.rk(this))},ir:function(a,b,c,d){a||(a=this.Sb?this.Sb.RT:this.get("targetLevel")||this.get("zoom"));b||(b=this.Sb?this.Sb.IG:this.get("center"));var f=a!==this.get("zoom"),g=!b.Nb(this.get("center")),h=!1,k=!1;this.bd&&this.bd.Ti&&(this.bd.stop(),h=!0,this.bd.yn&&(k=!0),this.bd=null,this.set("targetLevel",null)); this.Sb&&this.Sb.Ti&&(this.Sb.stop(),this.Sb.Dv&&(h=!0),this.Sb.yn&&(k=!0),this.Sb=null,this.set("targetLevel",null));this.pe&&(this.pe.stop(),this.pe=null);if(f||g){if(!this.get("bounds").contains(b)||f&&C.h.V)c=!0;if(c)f&&(h||(this.q("zoomstart"),this.ka("zoomstart")),this.set("zoom",a),this.ka("zoomchange"),this.ka("zoomend"),this.q("zoomend")),g&&(k||d||(this.ka("movestart"),this.q("movestart")),this.set("center",b),this.ka("mapmove"),this.q("moveend",{sE:d})),this.set("targetLevel",null);else{this.set("targetLevel", a);var l=a-this.get("zoom"),m=b.Ia(this.get("center"));this.Sb=new C.Vg(1,0,null,0.001);this.Sb.Dv=f;this.Sb.yn=g;this.Sb.IG=b;this.Sb.RT=a;this.Sb.transition=function(a,b,c){return Math.pow(1-Math.min(C.k.Mp,c)/C.k.Mp,2)};this.Sb.Qn=function(c){if(0.02>c)this.Sb&&(this.Sb.stop(),this.Sb=null),f&&(this.set("zoom",a),this.ka("zoomchange"),this.ka("zoomend"),f=!1,this.q("zoomend")),g&&(c=b,this.set("center",c),this.q("mapmove"),this.q("moveend",{sE:d})),this.set("targetLevel",null);else if(f&&this.set("zoom", a-l*c),g){c=b.Ia(m.ec(c));if(C.h.V){var h=this.mb(this.get("center")),k=this.mb(c);this.Jh(this.Za.vi,h.x-k.x,h.y-k.y);this.set("center",c,!0);this.set("centerCoords",this.Hb(c),!0)}else this.set("center",c);this.ka("mapmove")}};this.Sb.rk(this);f&&!h&&(this.q("zoomstart"),this.ka("zoomstart"));!g||k||d||(this.q("movestart"),this.ka("movestart"))}}}}); ',true),_jsload_('layers', 'C.S={}; C.S.Oe=C.T.extend({eb:[C.pa,C.Rc],D:function(a,b){this.qb=a;this.rc=[3,18];this.Xr=C.g.Mb(this);a&&this.jd(["opacity","visible","zIndex","zooms"],a);this.r=b;this.L("display",b)},gf:function(){this.qe&&(this.NC(),this.P&&this.P.NR());if(C.Ka&&C.Ka.lf&&C.Ka.lf.length){var a=C.g.indexOf(C.Ka.lf,this);-1!==a&&(C.Ka.lf=C.g.rl(C.Ka.lf,a))}if(a=this.nb){if(a.length)for(var b=0;b<a.length;b+=1)a[b].parentNode&&a[b].parentNode.removeChild(a[b]);else a.parentNode&&a.parentNode.removeChild(a);this.nb=null}this.qb.gf&& this.qb.gf();this.qb.Yf=!1;this.qb.S=null;this.jo();this.P&&(this.P.jo(),this.P.I=null,this.P.hp=null,this.P=this.P.r=null)},ka:function(a,b){this.qb.q(a,b)},visibleChanged:function(){this.set("display",0)},zIndexChanged:function(){this.set("display",0)},Zw:function(a){C.e.Vi(a,this.opacity)},opacityChanged:function(){var a=this.get("opacity");this.opacity=Math.min(Math.max(0,a),1);if(a=this.nb)if(a.length)for(var b=0;b<a.length;b+=1)this.Zw(a[b]);else this.Zw(a)},mq:function(){var a=this.get("bounds"); if(a){if(a instanceof C.Bc){var b=a.Zj(),c=a.xl(),d=this.r.Hb(new C.M(180,0)).x,f=this.r.Hb(b),g=this.r.Hb(c),h=this.r.get("center");b.A>c.A?0<h.A?g.x+=d:f.x-=d:0<h.A?(0>b.A&&(f.x+=d),0>c.A&&(g.x+=d)):(0<b.A&&(f.x-=d),0<c.A&&(g.x-=d));this.j=[f.x,f.y,g.x,g.y]}a instanceof C.ud&&(this.j=[a.Na.x,a.Na.y,a.Ib.x,a.Ib.y]);return this.j}return null}});function vc(a,b,c){this.z=a;this.x=b;this.y=c}vc.prototype.zb=function(){return new vc(this.z,this.x,this.y)};vc.prototype.toString=function(){return[this.z,this.x,this.y].join("/")};C.xe=function(a,b){this.Wa=a;this.key=a.toString();this.url=b};C.Lf=vc;C.S.xe=C.S.Oe.extend({D:function(a,b,c){arguments.callee.Ya.apply(this,arguments);this.L("tileSize",a);this.L("tiles",a);this.jd(["zooms","type","detectRetina","tileFun","errorUrl"],a);this.L("lang",b,!0);this.L("mapStyle",b,!0);this.L("features",b,!0);var d="overlayer"===a.get("type");this.lg=!d&&!C.h.V;if(C.h.Wc||C.h.sY)this.lg=!1;var f=b.get("size"),f=f.width*f.height/65536;C.h.ja&&C.h.V&&9<f&&(this.lg=!1);this.pg=!d;this.qg=!d;this.L("reload",a);this.TT=c},langChanged:function(){this.set("reload"); this.qb.Wn()},mapStyleChanged:function(){this.set("reload");this.qb.Wn()},featuresChanged:function(){this.set("reload");this.qb.Wn()},reloadChanged:function(){this.set("display",0)},tileFunChanged:function(){this.set("reload")},Ii:function(){return{fc:this.get("tileSize"),visible:this.get("visible"),j:this.mq(),rc:this.get("zooms"),Qp:this.lg,pg:this.pg,qg:this.qg,opacity:this.get("opacity"),cg:this.TT||this.get("tileFun"),ja:this.qb.ik?!1:this.get("detectRetina")&&C.h.ja&&C.h.V}},Bg:function(a){if(C.P.Zb.jg)return new C.P.Zb.jg(this, a)}});C.S.Ic=C.S.Oe.extend({D:function(a,b){this.map=b;this.xk=0;this.dg=!1;this.Sg=this.Rg=0;this.Jl=[];arguments.callee.Ya.apply(this,arguments);this.jk=[];this.Ge=new C.S.Nx;a&&(this.L("style",a),this.IT=a.get("stable")||!1,this.L("dataSources",a),this.L("bubble",a));this.L("display",b);this.vI()},Ii:function(){return{visible:this.get("visible"),rc:this.get("zooms"),opacity:this.get("opacity"),zIndex:this.get("zIndex"),su:this.qb.get("alwaysRender")||!1}},dataSourcesChanged:function(){var a=this.get("dataSources"); a&&("string"===typeof a?(new C.ha.va(a)).d("complete",function(a){this.tF(a.data);this.Pj=a.data;this.dg=!0;this.set("display");this.tb=!0;this.qb.q("complete")},this):a.length&&(this.tF(a),this.Pj=a,this.dg=!0,this.set("display"),this.tb=!0,this.qb.q("complete")))},getDatas:function(){return this.Pj},hU:function(){if(this.qb.Bh){var a=this.pr;this.Rg=a.size.width+a.anchor.x;this.Sg=a.size.height+a.anchor.y}},ka:function(a,b){var c={type:a,data:"mouseout"===a?this.FK||null:b.Dj.sb,target:this.qb}; this.FK="mouseout"===a?null:b.Dj.sb;this.qb.q(a,c)},tV:function(){},fb:function(a){this.ka(a.type,a)},vI:function(){this.d("click",this.fb);this.d("dblclick",this.fb);this.d("mousedown",this.fb);this.d("mouseup",this.fb);this.d("mouseover",this.fb);this.d("mouseout",this.fb);this.d("touchstart",this.fb);this.d("touchend",this.fb)},xV:function(){this.F("click",this.fb);this.F("dblclick",this.fb);this.F("mousedown",this.fb);this.F("mouseup",this.fb);this.F("mouseover",this.fb);this.F("mouseout",this.fb); this.F("touchstart",this.fb);this.F("touchend",this.fb)},styleChanged:function(){this.pr=this.get("style");this.hU();this.set("display",0)},tF:function(a){if(a){this.clear();for(var b=this.map.get("resolution",18),c=0;c<a.length;c+=1){var d=a[c].lnglat;a[c].lnglat=C.g.da(d);d=this.map.Hb(d,18,b);d=new C.td({name:"point-"+C.g.Mb(this),na:new C.Y.Ld([d.x,d.y],!0)});d.qi=this;d.sb=a[c];this.Jp(d)}}},FD:function(a){if("geojson"===a)return new C.oH({map:this.map});if("topjson"===a)return new C.WU({map:this.map}); if("subway"===a)return new C.TU({map:this.map})},mS:function(a){if(a){var b=[],b=[],c={};if(a.rules){for(var b=a.rules,d=0,f=b.length;d<f;d+=1){for(var g=[],h=b[d].symbolizers,k=0,l=h.length;k<l;k+=1)h[k].fill&&(g[k]=new C.style.Tc.Ox(h[k].fill)),h[k].stroke&&(g[k]=new C.style.Tc.fy(h[k].stroke));h=g;b[d].rr=h;b[d]=new C.style.GH(b[d])}c.rules=b}if(a.symbolizers){b=a.symbolizers;a=0;for(d=b.length;a<d;a+=1)b[a].fill&&(b[a]=new C.style.Tc.Ox(b[a].fill)),b[a].stroke&&(b[a]=new C.style.Tc.fy(b[a].stroke)); c.rr=b}a=new C.Qr(c)}else a=new C.Qr({});this.set("style",a);return a},wV:function(a,b){if(-1===C.g.indexOf(a,C.k.ab)){var c=new C.ha.va(a);c.d("complete",function(c){c=this.ya[a]=this.FD(b).Qq(c);this.Gj(c);this.ka("complete")},this);c.d("error",this.Qa,this)}else(new C.ha.XMLHttpRequest(a)).d("complete",function(c){c=eval("("+c.data+")");c=this.ya[a]=this.FD(b).Qq(c);this.Gj(c)},this)},xS:function(a){a.qk>this.Hh&&(this.Hh=a.qk)},Jp:function(a){this.Ge.add(a);if(!this.eq&&!this.qb.Bh){0===a.name.indexOf("circle")&& (a.d("rad",this.xS,this),this.Hh||(this.Hh=a.get("radius")),a.qk>this.Hh&&(this.Hh=a.get("radius")));var b=a.get("strokeWeight")||0;if(!this.Il||b>this.Il)this.Il=b}this.IT||a.L("feature",this,!0)},Gj:function(a){this.dg=!0;for(var b=0,c=a.length;b<c;b+=1)this.Jp(a[b])},clear:function(){this.dg=!0;this.Ge.clear()},bg:function(a){var b;return 0>a[0]?(b=[a[0]+C.g.ra,a[1],C.g.ra,a[3]],a=[0,a[1],a[2],a[3]],b=this.Ge.bg(b),a=this.Ge.bg(a),C.extend(b,a)):a[2]>C.g.ra?(b=[a[0],a[1],C.g.ra,a[3]],a=[0,a[1], a[2]-C.g.ra,a[3]],b=this.Ge.bg(b),a=this.Ge.bg(a),C.extend(b,a)):this.Ge.bg(a)},yW:function(a){var b,c=this.get("style"),d=a.kf;c instanceof C.Qr||(c=this.mS(c));if(d&&0<d.length)b=c.SC(d,a);else{if(c.cG.length||c.kf.length)b=c.YO(a);b||(b=a.YP())}return b},RD:function(a){function b(a,b){return a.iq-b.iq}var c=[],d,f,g,h,k,l={};for(d in a)if(a.hasOwnProperty(d)){g=a[d];h=g.get("zIndex");for(f in l)if(l.hasOwnProperty(f)&&(k=c[l[f]][2],k===h))break;"undefined"===typeof l[h]&&(c.push([[],[],h]),l[h]= c.length-1);h=c[l[h]];h[0].push(g)}c.sort(this.DT);a=0;for(d=c.length;a<d;a+=1)c[a][0].sort(b);return c},featureChanged:function(a){this.dg=!0;var b=a.target,c=b.na;0!==this.Ge.cQ([C.g.Mb(b)]).length&&(this.Ge.remove(b,a.kk),c&&!a.hP&&this.Ge.add(b))},JF:function(a){this.dg=!0;for(var b,c=0,d=a.length;c<d;c+=1)b=a[c],b.na.kk=null,b.Ci(!0),b.zk("feature")},PX:function(a,b){return a[1].zIndex===b[1].zIndex?C.g.Mb(a[1])-C.g.Mb(b[1]):a[1].zIndex-b[1].zIndex},DT:function(a,b){return a[2]-b[2]},HX:function(a){return a.DW()=== C.S.YU.RU},Bg:function(a){return this.eq?new C.P.Ni.hj(this,a):C.h.Fn&&C.P.canvas.hj?new C.P.canvas.hj(this,a):C.P.Zb.hj&&!C.h.WR?new C.P.Zb.hj(this,a):null}});C.S.Nx=C.T.extend({D:function(){this.clear()},clear:function(){this.ak=[];this.Iw=new C.Pe},add:function(a){var b=C.g.Mb(a),c=a.na;this.ak[b]||(this.count+=1,this.ak[b]=a,c&&!C.j.Nb(c.Vb(),[Infinity,Infinity,-Infinity,-Infinity])&&this.Iw.uq(c.Vb(),a))},uW:function(){return this.ak},bg:function(a){return this.Iw.iT(a)},cQ:function(a){var b=a.length,c=[],d;for(d=0;d<b;d+=1)this.ak[a[d]]&&c.push(this.ak[a[d]]);return c},remove:function(a,b){var c=C.g.Mb(a).toString(),d=a.na;this.ak[c]&&(this.ak[c]= null,d&&(c="undefined"!==typeof b?b:d.Vb(),this.Iw.remove(c,a)))}});function wc(a,b,c){this.url=a;this.$e=b;this.uD=c;this.rh=this.Rw=!1}function xc(a,b,c){var d=yc;return function(){return d.call(this,a,b,c)}}function yc(a,b,c){a.iW=+new Date;a.loaded=b;clearTimeout(a.WT);var d=a.kR;d.Lh.remove(a.url)&&d.GK();d=a.UQ?a.ya:a.oa;a.ya=null;(c||b||a.uD)&&a.$e(b?d:null,a);a.xE?(a.xE.hn(),a.xE=null):d&&(d.onload=null,d.onerror=null,d.onabort=null,a.oa=null)} C.Sx=C.T.extend({bV:"assets/image/blank.gif",D:function(a,b,c){this.timeout=b||15E3;this.ok=new C.Qc(1024);this.Lh=new C.Qc(1024);this.QC=a;this.gD=c},Ly:function(a){a&&this.Lh.count>=this.QC&&(a=this.Lh.ob.Da.value,a.rh&&(this.Lh.remove(a.url),this.zy(a)));for(;this.ok.count&&!(this.Lh.count>=this.QC);)this.nJ(this.ok.shift())},GK:function(){if(!this.Ny){this.Ny=!0;var a=this;setTimeout(function(){a.Ny=!1;a.Ly()},0)}},nJ:function(a){var b=document.createElement("img");b.src=a.url;a.oa=b;a.kR=this; a.startTime=+new Date;a.Rw=!0;b.complete?yc(a,!0):(this.Lh.set(a.url,a),b.onload=xc(a,!0),b.onerror=xc(a,!1,!0),b.onabort=xc(a,!1),a.WT=setTimeout(xc(a,!1,!0),this.timeout))},zy:function(a){a.Rw&&(yc(a,!1),a.rh=!0,a.AV=!0)},dX:function(a,b,c){return this.GE(a.url,b,c,!0,a.Wa.z+"_"+a.Wa.x+"_"+a.Wa.y)},GE:function(a,b,c,d,f){var g=this.Lh.get(a);if(g&&g.rh)g.rh=!1,g.$e=b,g.uD=c;else{g=new wc(a,b,c);g.UQ=d;g.key=f;if(this.ok.get(C.g.Mb(g)))return;this.ok.set(C.g.Mb(g),g);this.Ly(!0)}return g},oO:function(a){a.rh|| (a.rh=!0,this.ok.remove(C.g.Mb(a)))},clear:function(a){this.ok.forEach(function(a){a.rh=!0});this.ok.clear();if(a)for(;a=this.Lh.pop();)this.zy(a);else this.Lh.forEach(function(a){a.rh=!0})}});var zc=function(){function a(a){this.Tr[C.g.Mb(a)]=a;return this}function b(a){this.Tr[C.g.Mb(a)]=null;return this}return function(){function c(){var a=c.Tr,b,g=[],h;for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&g.push(a[h]);for(a=g.length-1;0<=a;a-=1)h=g[a].apply(this,arguments),void 0!==h&&(b=h);return b}c.Tr={};c.HN=a;c.yX=b;return c}}(); C.Qc=C.T.extend({eb:[C.pa],D:function(a,b){this.vj=a|0;this.hs=!!b;this.count=0;this.aF=zc();this.clear()},Gn:function(){return!this.count},UW:function(){return this.count>=this.vj},LX:function(a){this.vj!==a&&(this.vj=a|0)&&this.QB(this.vj)},ac:function(a){return!!this.r[a]},get:function(a,b){var c=this.mz(a);return c?c.value:b},set:function(a,b){var c=this.mz(a);c?c.value=b:(c=new C.Qc.fj(a,b),this.r[a]=c,this.Oz(c),this.count+=1)},Ak:function(a){this.remove(a)},remove:function(a){return Object.prototype.hasOwnProperty.call(this.r, a)?(this.Rm(this.r[a]),!0):!1},forEach:function(a,b){for(var c=this.ob.next;c!==this.ob;c=c.next)a.call(b,c.value,c.key,this)},Ll:function(a,b){return Object.prototype.hasOwnProperty.call(this.r,a)?this.r[a].value:b},sX:function(){return this.ob.next.value},tX:function(){return this.ob.Da.value},shift:function(){return this.hB(this.ob.next)},push:function(a){a=new C.Qc.fj("",a);0===this.count?(this.ob.Da=null,a.Da=this.ob,this.ob.next=a):(this.zp.next=a,a.Da=this.zp);this.count+=1;this.zp=a},tx:function(a){a= new C.Qc.fj("",a);0===this.count?(this.ob.Da=null,a.Da=this.ob,this.zp=this.ob.next=a):(this.ob.next.Da=a,a.next=this.ob.next,a.Da=this.ob,this.ob.next=a);this.count+=1},AR:function(){if(this.count){this.count-=1;var a=this.ob.next;a.next?(a.next.Da=this.ob,this.ob.next=a.next):(this.ob.next=null,this.zp=this.ob.Da=null);a.next=null;a.Da=null;return a.value}return null},pop:function(){return this.hB(this.ob.Da)},mz:function(a){if(Object.prototype.hasOwnProperty.call(this.r,a))return a=this.r[a],this.hs&& (a.remove(),this.Oz(a)),a},Oz:function(a){this.hs?(a.next=this.ob.next,a.Da=this.ob,this.ob.next=a,a.next.Da=a):(a.Da=this.ob.Da,a.next=this.ob,this.ob.Da=a,a.Da.next=a);this.vj&&this.QB(this.vj)},QB:function(a){for(var b=this.count;b>a;b-=1){var c=this.hs?this.ob.Da:this.ob.next;this.Rm(c);this.aF(c.value)}},Rm:function(a){a.remove();delete this.r[a.key];this.count-=1},hB:function(a){this.ob!==a&&this.Rm(a);return a.value},clear:function(){this.r={};this.ob=new C.Qc.fj("",null);this.ob.Da=this.ob.next= this.ob;this.count=0}});C.Qc.fj=function(a,b){this.key=a;this.value=b};C.Qc.fj.prototype.Da=null;C.Qc.fj.prototype.next=null;C.Qc.fj.prototype.remove=function(){this.Da.next=this.next;this.next.Da=this.Da;this.next=this.Da=null};C.Pe=C.T.extend({D:function(a){this.OE="undefined"!==typeof a?a:6;this.Cq=Math.floor(this.OE/2);this.$q={j:[Infinity,Infinity,-Infinity,-Infinity],wa:[]};this.count=0},AO:function(a,b){var c=-1,d=[],f;d.push(b);var g=b.wa;do{-1!==c&&(d.push(g[c]),g=g[c].wa,c=-1);for(var h=g.length-1;0<=h;h-=1){var k=g[h];if("undefined"!==typeof k.ek){c=-1;break}var l=C.Pe.Ul(k.j[2]-k.j[0],k.j[3]-k.j[1],k.wa.length+1),k=C.Pe.Ul((k.j[2]>a.j[2]?k.j[2]:a.j[2])-(k.j[0]<a.j[0]?k.j[0]:a.j[0]),(k.j[3]>a.j[3]?k.j[3]:a.j[3])- (k.j[1]<a.j[1]?k.j[1]:a.j[1]),k.wa.length+2);if(0>c||Math.abs(k-l)<f)f=Math.abs(k-l),c=h}}while(-1!==c);return d},uq:function(a,b,c){a={j:a,ek:b};"undefined"!==typeof c&&(a.type=c);this.gE(a,this.$q);this.count+=1},gE:function(a,b){var c;if(0===b.wa.length)b.j=C.j.zb(a.j),b.wa.push(a);else{var d=this.AO(a,b),f=a;do{if(c&&"undefined"!==typeof c.wa&&0===c.wa.length){var g=c;c=d.pop();for(var h=0,k=c.wa.length;h<k;h+=1)if(c.wa[h]===g||0===c.wa[h].wa.length){c.wa.splice(h,1);break}}else c=d.pop();g=f instanceof Array;if("undefined"!==typeof f.ek||"undefined"!==typeof f.wa||g){if(g){g=0;for(h=f.length;g<h;g+=1)C.j.extend(c.j,f[g].j);c.wa=c.wa.concat(f)}else C.j.extend(c.j,f.j),c.wa.push(f);c.wa.length<=this.OE?f={j:C.j.zb(c.j)}:(f=g=this.eR(c.wa),1>d.length&&(c.wa.push(g[0]),d.push(c),f=g[1]))}else C.j.extend(c.j,f.j),f={j:C.j.zb(c.j)}}while(0<d.length)}},eR:function(a){for(var b=this.oS(a);0<a.length;)this.pS(a,b[0],b[1]);return b},oS:function(a){for(var b=a.length-1,c=0,d=a.length-1,f=0,g=a.length-2;0<= g;g-=1){var h=a[g];h.j[0]>a[c].j[0]?c=g:h.j[2]<a[b].j[1]&&(b=g);h.j[1]>a[f].j[1]?f=g:h.j[3]<a[d].j[3]&&(d=g)}Math.abs(a[b].j[2]-a[c].j[0])>Math.abs(a[d].j[3]-a[f].j[1])?b>c?(b=a.splice(b,1)[0],c=a.splice(c,1)[0]):(c=a.splice(c,1)[0],b=a.splice(b,1)[0]):d>f?(b=a.splice(d,1)[0],c=a.splice(f,1)[0]):(c=a.splice(f,1)[0],b=a.splice(d,1)[0]);return[{j:C.j.zb(b.j),wa:[b]},{j:C.j.zb(c.j),wa:[c]}]},pS:function(a,b,c){for(var d=C.Pe.Ul(b.j[2]-b.j[0],b.j[3]-b.j[1],b.wa.length+1),f=C.Pe.Ul(c.j[2]-c.j[0],c.j[3]- c.j[1],c.wa.length+1),g,h,k,l=a.length-1;0<=l;l-=1){var m=a[l],n=[b.j[0]<m.j[0]?b.j[0]:m.j[0],b.j[2]>m.j[2]?b.j[2]:m.j[2],b.j[1]<m.j[1]?b.j[1]:m.j[1],b.j[3]>m.j[3]?b.j[3]:m.j[3]],n=Math.abs(C.Pe.Ul(n[1]-n[0],n[3]-n[2],b.wa.length+2)-d),m=[c.j[0]<m.j[0]?c.j[0]:m.j[0],c.j[2]>m.j[2]?c.j[2]:m.j[2],c.j[1]<m.j[1]?c.j[1]:m.j[1],c.j[3]>m.j[3]?c.j[3]:m.j[3]],m=Math.abs(C.Pe.Ul(m[1]-m[0],m[3]-m[2],c.wa.length+2)-f),q=Math.abs(m-n);if(!h||!g||q<g)h=l,g=q,k=m<n?c:b}d=a.splice(h,1)[0];b.wa.length+a.length+1<= this.Cq?(b.wa.push(d),C.j.extend(b.j,d.j)):c.wa.length+a.length+1<=this.Cq?(c.wa.push(d),C.j.extend(c.j,d.j)):(k.wa.push(d),C.j.extend(k.j,d.j))},remove:function(a,b){var c=[];c[0]={j:a};(c[1]=b)||(c[1]=!1);c[2]=this.$q;this.count-=1;if(!1===c[1]){var d=0,f=[];do d=f.length,f=f.concat(this.MF.apply(this,c));while(d!==f.length);return f}return this.MF.apply(this,c)},MF:function(a,b,c){var d=[],f=[],g=[];if(!a||!C.j.od(a.j,c.j))return g;a=C.j.zb(a.j);var h;f.push(c.wa.length);d.push(c);do{c=d.pop(); var k=f.pop()-1;if("undefined"!==typeof b)for(;0<=k;){var l=c.wa[k];if(C.j.od(a,l.j))if(b&&"undefined"!==typeof l.ek&&l.ek===b||!b&&("undefined"!==typeof l.ek||C.j.RC(a,l.j))){"undefined"!==typeof l.wa?(g=this.Sl(l,!0,[],l),c.wa.splice(k,1)):g=c.wa.splice(k,1);C.Pe.Kw(c);b=void 0;c.wa.length<this.Cq&&(h=this.Sl(c,!0,[],c));break}else"undefined"!==typeof l.wa&&(f.push(k),d.push(c),c=l,k=l.wa.length);k-=1}else if("undefined"!==typeof h){c.wa.splice(k+1,1);0<c.wa.length&&C.Pe.Kw(c);k=0;for(l=h.length;k< l;k+=1)this.gE(h[k],c);h.length=0;0===d.length&&1>=c.wa.length?(h=this.Sl(c,!0,h,c),c.wa.length=0,d.push(c),f.push(1)):0<d.length&&c.wa.length<this.Cq?(h=this.Sl(c,!0,h,c),c.wa.length=0):h=void 0}else C.Pe.Kw(c)}while(0<d.length);return g},search:function(a,b){return this.Sl({j:a},!1,[],this.$q,b)},iT:function(a,b){return this.Sl({j:a},!1,[],this.$q,b,!0)},Sl:function(a,b,c,d,f,g){var h={},k=[];if(!C.j.od(a.j,d.j))return c;k.push(d.wa);do{d=k.pop();for(var l=d.length-1;0<=l;l-=1){var m=d[l];if(C.j.od(a.j, m.j))if("undefined"!==typeof m.wa)k.push(m.wa);else if("undefined"!==typeof m.ek)if(b)c.push(m);else if("undefined"===typeof f||m.type===f)m=m.ek,"undefined"!==typeof g?h[C.g.Mb(m)]=m:c.push(m)}}while(0<k.length);return"undefined"!==typeof g?h:c}});C.Pe.Kw=function(a){var b=a.wa.length,c=a.j;if(0===b)C.j.empty(c);else{var d=a.wa[0].j;c[0]=d[0];c[2]=d[2];c[1]=d[1];c[3]=d[3];for(d=1;d<b;d+=1)C.j.extend(c,a.wa[d].j)}};C.Pe.Ul=function(a,b,c){var d=(a+b)/2;a*=b;return a*c/(a/(d*d))}; ',true),_jsload_('overlay0', 'C.ua=C.ua||{}; C.ua.Zh=C.T.extend({eb:[C.pa,C.Rc],aS:["position","visible","clickable","bubble"],D:function(a,b){this.map=b;this.jd(this.aS,a);this.L("zIndex",a);this.L("draggable",a);C.h.wc||C.h.V?this.CI():this.ms();this.uc=a;this.uc.ua=this},draggableChanged:function(){this.get("draggable")?this.ls():this.Ft()},ka:function(a,b){var c;c=b?{type:a,pixel:b.Cb,target:this.uc,lnglat:b.Mg}:{type:a};this.uc&&this.uc.q(a,c)},fb:function(a){("click"!==a.type&&"rightclick"!==a.type&&"dblclick"!==a.type||this.get("clickable"))&& this.ka(a.type,a)},ks:function(){this.d("click",this.fb);this.d("rightclick",this.fb);this.d("dblclick",this.fb)},RB:function(){this.F("click",this.fb);this.F("rightclick",this.fb);this.F("dblclick",this.fb)},ms:function(){this.get("clickable")&&this.ks();this.d("mousemove",this.fb);this.d("mouseout",this.fb);this.d("mouseover",this.fb);this.d("mousedown",this.fb);this.d("mouseup",this.fb)},zV:function(){this.RB();this.F("mousemove",this.fb);this.F("mouseout",this.fb);this.F("mouseover",this.fb); this.F("mousedown",this.fb);this.F("mouseup",this.fb)},clickableChanged:function(){this.get("clickable")?this.ks():this.RB()},CI:function(){this.get("clickable")&&this.ks();this.d("touchstart",this.fb,this);this.d("touchmove",this.fb,this);this.d("touchend",this.fb,this)},ls:function(){this.d("dragstart",this.zj);this.d("dragging",this.wj);this.d("dragend",this.yj)},zj:function(a){this.map.KE(a);this.Ke=a.Cb;this.ka("dragstart",a)},wj:function(a){var b=a.Cb.Ia(this.Ke),c=b.x,b=b.y;this.Ke=a.Cb;var d= this.map.get("rotation")*Math.PI/180;this.Jh(new C.K(c*Math.cos(d)+Math.sin(d)*b,-Math.sin(d)*c+Math.cos(d)*b));this.ka("dragging",a)},yj:function(a){this.map.VG();this.ka("dragend",a)},Ft:function(){this.F("dragstart",this.zj);this.F("dragging",this.wj);this.F("dragend",this.yj)},uz:function(a){var b,c,d=[];b=0;for(c=a.length;b<c;b+=1)d.push(this.Ts(a[b]));return d},Ts:function(a){a=this.map.Hb(a);return[a.x,a.y]},ub:function(a){var b=this.C.Fa||this.map.get("centerCoords"),c=this.map.get("crs").Ig(Math.floor(this.map.get("zoom"))); return[(a[0]-b.x)/c,(a[1]-b.y)/c]}});C.ua.cd=C.ua.Zh.extend({zw:"content icon opacity angle autoRotation offset shadow title label isTop shape topWhenClick topWhenMouseOver noSelect".split(" "),D:function(a,b){arguments.callee.Ya.apply(this,arguments);this.jd(this.zw,a);this.L("move",a);this.kO();this.Jj();this.set("AnimationOffset",new C.K(0,0));this.L("raiseOnDrag",a);this.RN={AMAP_ANIMATION_NONE:!1,AMAP_ANIMATION_DROP:C.Vg.Easing.Bounce,AMAP_ANIMATION_BOUNCE:C.Vg.Easing.Cubic};this.L("animation",a)},ft:function(a,b,c){if(this.get("animation")&& "AMAP_ANIMATION_NONE"!==this.get("animation")){var d=this;this.gg=new C.Vg;this.gg.transition=function(c,g,h){if(a&&600<=h)return d.gg.stop(),0;c=0===Math.floor(h/600)%2?"Out":"In";"out"===b?c="Out":"in"===b&&(c="In");return d.RN[d.get("animation")][c](h%600/600)};c=c||40;this.gg.Qn=function(a){d.set("AnimationOffset",d.Ht.add(new C.K(0,-1*c*a)))};this.Ht=new C.K(0,0);this.gg.rk()}},AnimationOffsetChanged:function(){this.positionChanged()},nB:function(){this.gg&&(this.gg.stop(),this.set("AnimationOffset", this.Ht));this.set("AnimationOffset",new C.K(0,-40));if(this.am)this.am.set("position",this.get("position"));else{var a=new P({zIndex:this.get("zIndex")-1,icon:new pc({image:C.k.ab+"/theme/v1.3/dragCross.png",size:new C.hc(14,11)}),offset:new C.K(-4,-5),position:this.get("position")});a.ea=!0;this.am=a}this.am.setMap(this.map.$a)},gz:function(){this.set("animation","AMAP_ANIMATION_DROP",!0);this.ft(!0,"in");this.am.setMap(null)},animationChanged:function(){this.gg&&(this.gg.stop(),this.set("AnimationOffset", this.Ht),this.gg=null);var a=this.get("animation");a&&"AMAP_ANIMATION_NONE"!==a&&("AMAP_ANIMATION_DROP"===a?this.ft(!0,"in",100):this.ft())},og:function(){this.am&&this.am.set("position",this.get("position"))},raiseOnDragChanged:function(){this.get("raiseOnDrag")?(this.d("dragstart",this.nB,this),this.d("dragging",this.og,this),this.d("dragend",this.gz,this)):(this.F("dragstart",this.nB,this),this.F("dragging",this.og,this),this.F("dragend",this.gz,this))},Jh:function(a){var b=this.get("position"); a=this.map.Hb(b).add(a.ec(this.map.get("resolution")));b instanceof C.M?this.set("position",this.map.je(a)):this.set("position",a)},kO:function(){var a=this.get("content"),b=this.get("shadow"),c=this.get("offset"),d=this.get("label"),a=a?this.vC(a,c):this.Cu(this.get("icon"),c);this.set("contentDom",a);b&&(b=this.zC(b,c),this.set("shadowDom",b));d&&d.content&&this.set("labelDom",this.xC(d.content))},xC:function(a){var b=document.createElement("div");b.className="amap-marker-label";b.innerHTML=a;return b}, Jj:function(){if(this.map&&this.get("position")&&!this.C){var a=this.map,b=this.map.Hb(this.get("position")),a=this.C=new C.td({name:"marker-"+C.g.Mb(this),map:a,na:new C.Y.Ld([b.x,b.y])});a.qi=this;this.L("coords",a,!0);a.L("offset",this,!0);a.L("isTop",this,!0);a.L("zIndex",this,!0);a.L("params",this,!0);a.L("noSelect",this,!0)}},getParams:function(){return{zIndex:this.get("zIndex"),iC:this.get("angle"),zi:this.get("contentDom"),$Q:this.get("labelDom"),BT:this.get("shadowDom"),opacity:this.get("opacity"), title:this.get("title"),label:this.get("label"),Gx:this.get("AnimationOffset"),offset:this.get("offset"),XQ:this.get("isTop"),shape:this.get("shape"),visible:this.get("visible")}},offsetChanged:function(){if(this.C&&this.C.Q){var a=this.map.Hb(this.get("position")).Ia(this.C.aa).Bb(this.map.get("resolution"));this.C.Q&&(this.C.Q.style.left=Math.floor(a.x)+this.get("offset").x+this.get("AnimationOffset").x+"px",this.C.Q.style.top=Math.floor(a.y)+this.get("offset").y+this.get("AnimationOffset").y+"px")}}, positionChanged:function(){if(this.C){var a=this.map.Hb(this.get("position"));this.set("coords",[a.x,a.y]);this.C.Q&&this.C.Q.Lt&&(a=a.Ia(this.C.AE.aa).Bb(this.map.get("resolution")),this.C.Q.style.left=Math.floor(a.x)+this.get("offset").x+this.get("AnimationOffset").x+"px",this.C.Q.style.top=Math.floor(a.y)+this.get("offset").y+this.get("AnimationOffset").y+"px",this.C.Q.parentNode!==this.C.Q.Lt&&this.C.Q.Lt.appendChild(this.C.Q))}},contentChanged:function(){if(this.C){this.map.dc.xn=!0;this.map.dc.Jl.push(this.C); this.C.Q&&this.C.Q.removeChild(this.get("contentDom"));var a=this.get("content"),b=this.get("offset"),a=this.vC(a,b);this.set("contentDom",a);this.C.Q?(C.h.Bf&&C.g.iepngFix(a),this.C.Q.appendChild(a),this.C.zi=a):this.map&&this.map.set("display")}},iconChanged:function(){if(this.C&&this.C.Q&&!this.get("content")){this.map.dc.xn=!0;this.map.dc.Jl.push(this.C);this.C.Q&&this.get("contentDom")&&this.C.Q.removeChild(this.get("contentDom"));var a=this.get("icon"),b=this.get("offset"),a=this.Cu(a,b);this.set("contentDom", a);this.C.Q?(C.h.Bf&&C.g.iepngFix(a),this.C.Q.appendChild(a),this.C.zi=a):this.map&&this.map.set("display")}},shadowChanged:function(){if(this.C&&this.C.Q){var a=this.get("shadowDom");this.C.Q&&a&&a.parentNode===this.C.Q&&this.C.Q.removeChild(a);if(a=this.get("shadow")){var b=this.get("offset"),a=this.zC(a,b);this.set("shadowDom",a);this.C.Q&&this.C.Q.appendChild(a)}}},titleChanged:function(){this.C&&this.C.zi&&"string"===typeof this.get("title")&&this.C.zi&&this.get("title")&&(this.C.zi.title=this.get("title"))}, labelChanged:function(){if(this.C&&this.C.Q){var a=this.get("label"),b=this.C.Q;if(b&&a&&a.hasOwnProperty("content")){this.get("labelDom")&&b.removeChild(this.get("labelDom"));var c="";if(a.content){var c=this.xC(a.content),d=0,f=0;a.offset&&(d=a.offset.y+"px",f=a.offset.x+"px");c.style.top=d;c.style.left=f;b.appendChild(c)}this.set("labelDom",c)}}},isTopChanged:function(){var a=this.map.dc.ur,b=this.get("isTop"),c=this.get("zIndex");a?a===this?this.C&&this.C.Q&&(this.C.Q.style.zIndex=b?this.map.dc.xk+ 10:c,this.map.dc.ur=b?this:null):(a.C&&a.C.Q&&(a.C.Q.style.zIndex=b?a.get("zIndex"):this.map.dc.xk+10),this.C&&this.C.Q&&(this.C.Q.style.zIndex=b?this.map.dc.xk+10:c),this.map.dc.ur=b?this:a):(this.map.dc.ur=this,this.C&&this.C.Q&&(this.C.Q.style.zIndex=b?this.map.dc.xk+10:c))},visibleChanged:function(){this.C&&this.C.Q&&(this.get("visible")?this.C.Q.style.display="block":this.C.Q.style.display="none")},angleChanged:function(){if(this.C&&this.C.Q){var a={x:-1*this.get("offset").x,y:-1*this.get("offset").y}; C.e.rotate(this.C.Q,this.get("angle")||0,a)}},zIndexChanged:function(){var a=this.get("zIndex");if(a>this.map.dc.xk){this.map.dc.xk=a;var b=this.map.dc.ur;b&&b.C&&b.C.Q&&(b.C.Q.style.zIndex=a+10)}this.C&&this.C.Q&&(this.C.Q.style.zIndex=this.get("isTop")?this.map.dc.xk+10:this.get("zIndex"))},opacityChanged:function(){var a=this.get("contentDom"),b=this.get("shadowDom");a&&C.e.Vi(a,this.get("opacity"));b&&C.e.Vi(b,this.get("opacity"))},vC:function(a){var b;b=document.createElement("div");b.className= "amap-marker-content";"string"!==typeof a?b.appendChild(a):(b.innerHTML=a,b.childNodes[0]&&!b.childNodes[0].style&&(b.style["white-space"]="pre"));C.e.Vi(b,this.get("opacity"));return b},Cu:function(a){var b,c=0,d=0,f,g,h,k;a?("string"===typeof a?(b=a,k=!0):(b=a.get("image"),d=a.get("size"),f=a.get("imageSize"),c=d.width,d=d.height,f&&(g=f.width,h=f.height)),c||(c=0),d||(d=0),a="string"!==typeof a?a.get("imageOffset"):{x:0,y:0}):(b=C.k.Gh+"/mark_bs.png",a={x:0,y:0},c=19,d=33,g=19,h=33);f=document.createElement("div"); f.className="amap-icon";f.style.position="absolute";k&&!C.h.Wc&&(f.style.overflow="inherit");c&&(f.style.width=c+"px");d&&(f.style.height=d+"px");c=document.createElement("img");c.src=b;g&&h&&(c.style.width=g+"px",c.style.height=h+"px");c.style.top=a.y+"px";c.style.left=a.x+"px";C.h.Wc&&k||f.appendChild(c);C.e.Vi(C.h.Wc&&k?c:f,this.get("opacity"));return C.h.Wc&&k?c:f},zC:function(a,b){var c=this.Cu(a,b);c.style.zIndex=-1;return c},moveChanged:function(){var a=this.get("move");if(!1===a)return this.MT(); void 0!==a&&("[object Array]"===Object.prototype.toString.call(a.Mg)?this.vR(a.Mg,a.speed,a.Ca,a.BO):this.moveTo(a.Mg,a.speed,a.Ca))},moveTo:function(a,b,c){var d=this.get("position");a.Ia(d);var f=Math.round(a.Ad(d)/1E3/b*36E5);if(0===f)return this.q("moveend");this.Df&&(this.Df.stop(),this.Df=null);this.Df=new C.Vg(d,a);c=c||function(a){return a};this.Df.transition=function(a,b,d){if(d>=f)return b;var l=(b.A-a.A)*c(d/f)+a.A;a=(b.H-a.H)*c(d/f)+a.H;return new C.M(l,a)};this.Df.Qn=function(b){this.set("position", b);b.Nb(a)?(this.Df&&(this.Df.stop(),this.Df=null),this.uc.q("moveend"),this.q("moveend")):this.uc.q("moving")};this.get("autoRotation")&&!C.h.Wc&&(b=this.KJ(d,a),this.set("angle",b));this.Df.rk(this)},MT:function(){this.Df&&(this.Df.stop(),this.Df=null,this.q("movestop"))},vR:function(a,b,c,d){function f(){g+=1;g<a.length?this.moveTo(a[g],b,c):(this.ka("movealong"),d?(g=1,this.set("position",a[0]),this.moveTo(a[1],b,c)):this.F("moveend",f,this))}var g=0;this.set("position",a[0]);this.d("moveend", f,this);this.d("movestop",function(){this.F("moveend",f,this)},this);this.moveTo(a[0],b,c)},KJ:function(a,b){var c=this.map,d=c.Hb(a),c=c.Hb(b),f=0;c.Ad(d);var g=c.y-d.y,h=c.x-d.x;0!==c.x-d.x?(f=Math.atan((c.y-d.y)/(c.x-d.x)),0<=g&&0>h?f=Math.PI+f:0>g&&0>=h?f=Math.PI+f:0>g&&0<=h&&(f=2*Math.PI+f)):f=c.y>d.y?Math.PI/2:3*Math.PI/2;return C.g.ag(180*f/Math.PI,1)}});C.ua.Fr=C.ua.Zh.extend({D:function(a,b){arguments.callee.Ya.apply(this,arguments);this.L("items",a,!0);this.L("content",a,!0);this.L("resolution",b);this.L("centerCoords",b);this.en=a},$E:function(){this.Td();this.Xl();this.Th();this.map.d("movestart",this.Rf,this);this.map.d("mapmove",this.Rf,this);this.map.d("zoomstart",this.Rf,this);this.map.d("click",this.Rf,this);this.map.d("closeOverlays",this.Rf,this);this.map.d("rotate",this.Rf,this)},Rf:function(){this.en.map&&this.en.close()},mapChanged:function(){}, positionChanged:function(){this.Th()},Td:function(){this.w&&(this.w.parentNode&&this.w.parentNode.removeChild(this.w),this.w=null);var a=C.e.create("div",null,"amap-menu");C.l.d(a,"mousedown",function(a){C.l.stopPropagation(a)},this);this.w=a;this.map.Za.ua.appendChild(this.w)},Xl:function(){var a=this,b=this.w;b.innerHTML="";var c=this.get("content");if("object"===typeof c)b.appendChild(c);else if("string"===typeof c)b.innerHTML=c;else if((c=this.get("items"))&&c.length){var d=C.e.create("ul",b, "amap-menu-outer");c.sort(function(a,b){return isNaN(a.Fq)||isNaN(b.Fq)?0:a.Fq-b.Fq});for(b=0;b<c.length;b+=1)(function(b){var c=b.UG,h=b.Ca,k=C.e.create("li",d);k.innerHTML=c;C.l.d(k,"click",function(){h.call(k);a.en.close()},k)})(c[b])}else this.w.innerHTML=""},Th:function(){var a=this.map,b=this.w;if(a&&b){var c=a.Hb(this.get("position")),d=this.get("centerCoords"),b=(c.x-d.x)/this.get("resolution"),c=(c.y-d.y)/this.get("resolution"),a=a.get("size"),c=c+a.height/2,b=b+a.width/2;this.w.style.right= "";this.w.style.bottom="";this.w.style.left=b+"px";this.w.style.top=c+"px"}},gf:function(){this.w&&(this.map.F("click",this.Qy,this),this.map.Za.ua.removeChild(this.w),this.en.Yf=!1,this.w=this.en.Qe.map=null,this.map.F("movestart",this.Rf,this),this.map.F("zoomstart",this.Rf,this),this.map.F("click",this.Rf,this),this.map.F("closeOverlays",this.Rf,this),this.map.F("rotate",this.Rf,this))},visibleChanged:function(){this.w&&(this.get("visible")?this.w.style.display="block":this.w.style.display="none")}, itemsChanged:function(){this.w&&this.Xl()}});C.ua.Xh=C.ua.Zh.extend({D:function(a,b){arguments.callee.Ya.apply(this,arguments);this.jd("content position contentU isCustom autoMove showShadow closeWhenClickMap size offset".split(" "),a);this.L("resolution",b);this.L("centerCoords",b);this.L("retainWhenClose",a,!0);this.L("display",b);a.L("toBeClose",this);this.map=b;this.zg=a},$E:function(){this.OO?this.map.Za.ua.appendChild(this.Pa):(this.Td(),this.Xl(),this.IO());this.vx();this.Th();this.Ay();this.OO=!0},Td:function(){var a=C.e.create("div"); a.className="amap-info";var b=C.e.create("div",a),c=C.e.create("div",a),d=C.e.create("div",c);a.style.position="absolute";c.style.position="absolute";c.style.bottom=-1*(this.get("offset").y||0)+"px";c.style.left=(this.get("offset").x||0)+"px";b.style.position="absolute";b.style.bottom=-1*(this.get("offset").y||0)+"px";b.style.left=(this.get("offset").x||0)+"px";this.Pa=a;this.bc=c;this.co=b;this.he=d;this.map.Za.ua.appendChild(this.Pa)},Xl:function(){var a=this.get("contentU");if(a){var b=this.get("isCustom"), c=this.he,d=this.co;c.innerHTML="";var f=null;if(b){if("string"===typeof a)c.innerHTML=a;else if(a instanceof Array)for(f=0;f<a.length;f+=1)c.appendChild(a[f]);else c.appendChild(a);f=c;d.parentNode&&d.parentNode.removeChild(d)}else{f=d=C.e.create("div",c,"amap-info-content amap-info-outer");"string"===typeof a?d.innerHTML=a:d.appendChild(a);this.PO=d;a=C.e.create("a",this.he,"amap-info-close");a.innerHTML="\\u00d7";this.Ku=a;a.href="javascript: void(0)";C.h.wc?(C.l.d(a,"touchstart",function(a){C.l.stop(a)}, this),C.l.d(a,"touchend",function(a){C.l.stop(a);this.zg.close()},this),C.l.d(a,"click",function(a){C.l.stop(a);this.zg.close()},this)):(C.l.d(a,"mousedown",function(a){C.l.stop(a)},this),C.l.d(a,"click",function(a){C.l.stop(a);this.zg.close()},this));if(a=this.get("size",!0))0!==a.width&&(d.style.width=a.width+"px"),0!==a.height&&(d.style.height=a.height+"px");a=C.e.create("div",c,"amap-info-sharp");a.style.height="23px";if(C.h.Bf||C.h.Cn)a.style.marginLeft=c.childNodes[0].offsetWidth/2-5;this.co.style.display= "block"}c=function(a){C.l.stopPropagation(a)};C.h.wc?(C.l.d(f,"touchstart",c,this),C.l.d(f,"touchmove",c,this),C.l.d(f,"touchend",c,this)):(C.l.d(f,"mousedown",c,this),C.l.d(f,"mouseup",c,this),C.l.d(f,"mousemove",c,this))}},vx:function(){var a=this.get("isCustom"),b=this.get("showShadow");if(!a&&b){var a=this.co,b=C.e.oq(this.he),c=b.height-23,d=b.width;if(C.h.Bf||C.h.Cn)c=this.he.childNodes[0].offsetHeight,d=this.he.childNodes[0].offsetWidth+26;b="background-image:url("+C.k.ab+(C.h.Bf?"/theme/v1.3/iws.gif);": "/theme/v1.3/iws.png);");a.innerHTML="";var f=[],g;g=f[1]={};g.height=0.5*c+4;g.width=d;g.offsetX=400;g.offsetY=16;g.top=-g.height-10-15;g.left=23;g=f[2]={};g.height=f[1].height;g.width=f[1].height;g.offsetX=1075-g.width;g.offsetY=f[1].offsetY;g.top=f[1].top;g.left=23+f[1].width;g=f[3]={};g.height=10;g.width=22;g.offsetX=30;g.offsetY=445;g.top=-25;g.left=23+(C.h.Cn||C.h.Bf?5:0);g=f[4]={};g.height=10;g.width=d/2-15-f[3].left-f[3].width;g.offsetX=132;g.offsetY=445;g.top=-25;g.left=f[3].left+f[3].width; g=f[5]={};g.height=10;g.width=70;g.offsetX=80;g.offsetY=445;g.top=-25;g.left=f[4].left+f[4].width;g=f[6]={};g.height=10;g.width=d-f[5].left-f[5].width;g.offsetX=132;g.offsetY=445;g.top=-25;g.left=f[5].left+f[5].width;g=f[7]={};g.height=10;g.width=30;g.offsetX=621;g.offsetY=445;g.top=-25;g.left=d;g=f[8]={};g.height=15;g.width=70;g.offsetX=47;g.offsetY=470;g.top=-15;g.left=d/2-15;for(c=1;8>=c;c+=1)d=C.e.create("div",a),g=[],g.push("position:absolute;"),g.push(b),g.push("top:"+f[c].top+"px;"),g.push("left:"+ f[c].left+"px;"),g.push("width:"+f[c].width+"px;"),g.push("height:"+f[c].height+"px;"),g.push("background-position:"+-f[c].offsetX+"px "+-f[c].offsetY+"px;"),d.style.cssText=g.join("")}},cY:function(){},Th:function(){var a=this.map,b=this.Pa,c=this.get("position"),d=this.get("resolution");if(a&&b&&c){var c=a.Hb(this.get("position")),f=this.get("centerCoords"),b=(c.x-f.x)/d,d=(c.y-f.y)/d,a=a.get("size"),c=C.e.oq(this.he);if(C.h.Bf||C.h.Cn)c.width=this.he.childNodes[0].offsetWidth+14;c=this.get("isCustom")? c.width/2:(c.width-30)/2;this.Pa.style.left=b+a.width/2-c+"px";this.Pa.style.top=d+a.height/2+"px";b=this.PO;if(this.Ku&&b.childNodes[0]){for(d=a=0;d<b.childNodes.length;d+=1)a+=b.childNodes[0].clientHeight||0;a>(this.get("size").height||b.clientHeight)?this.Ku.style.right="20px":this.Ku.style.right="5px"}}},dJ:function(){var a=new C.K(2-this.he.offsetWidth/2,2-this.he.offsetHeight),b=this.get("offset")||new C.K(0,0);this.get("isCustom")||(a=a.add(new C.K(0,-23)));return a.add(b)},Ay:function(){if(this.get("position")&& this.get("autoMove")&&this.he){var a=this.map,b=new C.hc(this.he.offsetWidth,this.he.offsetHeight);a.Xv(this.get("position"));for(var c=a.Xv(this.get("position")).add(this.dJ()),d=c.add(b.Wl()),f=a.get("size"),g=a.VP(),h=0,k=0,l=0;l<g.length;l+=1){var m=g[l],n=0,q=0;0===m[1]&&0===m[2]?(n=m[3]-(c.x+h),q=m[0]-(c.y+k),0<n&&0<q&&(Math.abs(n)<Math.abs(q)?h+=n:k+=q)):0===m[2]&&0===m[3]?(n=f.Sd()-m[1]-(d.x+h),q=m[0]-(c.y+k),0>n&&0<q&&(Math.abs(n)<Math.abs(q)?h+=n:k+=q)):0===m[0]&&0===m[3]?(n=f.Sd()-m[1]- (d.x+h),q=f.Qd()-m[2]-(d.y+k),0>n&&0>q&&(Math.abs(n)<Math.abs(q)?h+=n:k+=q)):0===m[0]&&0===m[1]&&(n=m[3]-(c.x+h),q=f.Qd()-m[2]-(d.y+k),0<n&&0>q&&(Math.abs(n)<Math.abs(q)?h+=n:k+=q))}c=c.add(new C.K(h,k));d=d.add(new C.K(h,k));l=g=0;0>c.x||b.Sd()>f.Sd()?g=20-c.x:f.Sd()<d.x&&(g=f.Sd()-d.x-25);0>c.y||b.Qd()>f.Qd()?l=5-c.y:f.Qd()<d.y&&(l=f.Qd()-d.y-15);g+=h;l+=k;(g||l)&&a.$a.panBy(g,l)}},IO:function(){this.get("closeWhenClickMap")&&this.map.d("closeInfo",this.Qy,this,!1)},Qy:function(){this.zg.Yf&&this.zg.close()}, gf:function(){this.Pa&&(this.get("retainWhenClose")?this.map.Pk.appendChild(this.Pa):(this.Pa.parentNode===this.map.Za.ua&&this.map.Za.ua.removeChild(this.Pa),this.zg.Qe.map=null,this.map=this.zg.map=null,this.zg.ua=null),this.zg.Yf=!1,this.uc.q("close",{type:"close",target:this.uc}))},lV:function(){if(!this.get("isCustom"))return this.he.offsetWidth;for(var a=this.Se,b=a.firstChild,c=a.lastChild;b&&c&&b.style&&c.style&&b===c;)a=b,b=a.firstChild,c=a.lastChild;a=C.e.pc(a,"width");return a=parseInt(a.replace("px", ""),10)},displayChanged:function(a){a?this.Th():C.g.Yd(this.Th,this)},positionChanged:function(){this.map&&this.Pa&&(this.Th(),this.Ay())},offsetChanged:function(){var a=this.get("offset");this.bc.style.bottom=-1*(a.y||0)+"px";this.bc.style.left=(a.x||0)+"px";this.co.style.bottom=-1*(a.y||0)+"px";this.co.style.left=(a.x||0)+"px"},contentChanged:function(){this.Xl();this.vx();this.Th()},sizeChanged:function(){this.Xl();this.vx();this.Th()}});C.Y={};C.Y.dj=C.T.extend({eb:[C.pa,C.Rc],D:function(){},zb:function(){return new this.D(this.Ha)},iv:function(){return this.Ha},setCoords:function(a){this.pT(a)},pT:function(a){this.kk=this.Vb();this.Vc=null;if(C.Y.Sc&&this instanceof C.Y.Sc){var b=a.length;this.te=Array(b);for(var c,d,f=0;f<b;f+=1)if(c=a[f],d=new C.Y.Xx(c),this.te[f]=d,0===f){if(0===c.length)break;d.dk(c)||c.reverse()}else 0!==c.length&&d.dk(c)&&c.reverse()}else this.Ha=a}}); C.Y.gc=C.extend({},{Fk:"point",Jr:"linestring",Vx:"linearring",Bo:"polygon",Mr:"multipoint",Lr:"multilinestring",zo:"multipolygon",MU:"geometrycollection"});C.td=C.T.extend({eb:[C.pa,C.Rc],D:function(a){a=a||{};this.ap=a.ap;this.map=a.map;this.iq=C.g.Mb(this);this.name=a.name||"";this.xf=!1;this.set("visible",!0,!0);this.Xw(a.na);this.kf=a.rr;this.style=a.style},lP:function(){this.style=this.kf=this.qi=this.AE=this.na=this.name=this.map=null;this.jo();this.hn()},uQ:function(){return this.kf},xT:function(a){this.kf=a;this.zIndex=this.kf[0].mf||this.zIndex},wW:function(){return this.na},Xw:function(a){a&&(this.na=a,this.L("coords",a,!0),this.ap&&(a.L("radius", this),a.L("center",this),a.L("resolution",this),a.L("strokeWeight",this)))},setStyle:function(a){this.xT(a);this.Ci()},coordsChanged:function(){this.Ci()},radiusChanged:function(){this.na.kk=this.na.Vb();this.na.Vc=null;this.Ci()},Ci:function(a){this.set("feature",{target:this,hP:a,kk:this.na.kk||this.na.Vb(),yR:this.na.Vb()});this.na.kk=this.na.Vb()},visibleChanged:function(){this.Ci()},IW:function(a){for(var b=0;b<this.kf.length;b+=1){var c=this.kf[b];if(a.Nb(c.ol(this)))return c}},YP:function(){var a= this.na,b=[];a.Rd()===C.Y.gc.Bo||a.Rd()===C.Y.gc.zo?b.push(new C.style.Yb.Sc({fillColor:"#78cdd1",Ac:0.2,strokeColor:"#122e29",ta:0.5,ib:1})):a.Rd()===C.Y.gc.Jr||a.Rd()===C.Y.gc.Vx||a.Rd()===C.Y.gc.Lr?b.push(new C.style.Yb.Wx({color:"#888888",width:1,zIndex:10})):a.Rd()!==C.Y.gc.Fk&&a.Rd()!==C.Y.gc.Mr||b.push(new C.style.Yb.xo({url:C.k.ab+"/theme/v1.3/markers/0.png",width:36,height:36,rotation:0,tY:-12,uY:-36,zIndex:100}));return b}});C.td.IU="geometry";C.Y.Ld=C.Y.dj.extend({D:function(a,b){this.Ha=a;this.Bh=b;this.Vc=null},Vb:function(){if(!this.Vc){var a=this.Ha[0],b=this.Ha[1];if(this.Bh)this.Vc=[a,b,a,b];else{var c=this.get("radius"),c=c?c/Math.cos(Math.PI*this.get("center").H/180):0,d=this.get("resolution")*this.get("strokeWeight")||0;this.Vc=[a-c-d,b-c-d,a+c+d,b+c+d]}}return this.Vc},Rd:function(){return C.Y.gc.Fk}}); ',true),_jsload_('brender', 'C.P={canvas:{},Zb:{},kY:{},Ni:{}};C.P.Oe=C.T.extend({eb:[C.pa,C.Rc],D:function(a,b){this.I=a;this.Bh=a.qb.Bh;this.hp=b;this.r=b.r;this.L("display",b)},mv:function(a,b){var c=this.zoom,d=[],f=this.I;if(Math.floor(c)!==c)b(d,f);else{c=[a.x,a.y];if(f.xn){for(var g=f.Jl,h=!0,k=[],l=0;l<g.length;l+=1){var m=g[l].zi;if(m){var n=m.clientWidth,q=m.clientHeight;m.childNodes[0]&&(n=n||m.childNodes[0].clientWidth,q=q||m.childNodes[0].clientHeight);window.opera&&(n=Math.max(n,m.childNodes[0].scrollWidth),q=Math.max(q,m.childNodes[0].scrollHeight)); 0===n||0===q?(h=!1,k.push(g[l])):(m=Math.max(Math.abs(g[l].get("offset").x),Math.abs(g[l].get("offset").y))+Math.max(n,q),f.Rg=Math.max(f.Rg,m),f.Sg=Math.max(f.Sg,m),g[l].width=n,g[l].height=q)}}h?(f.xn=!1,f.Jl=[]):f.Jl=k}g=Math.max(f.Rg,f.Il||0)*this.J;h=Math.max(f.Sg,f.Il||0)*this.J;h=Math.max(h,f.Hh||0);g=Math.max(g,f.Hh||0);if(g=f.bg([c[0]-g,c[1]-h,c[0]+g,c[1]+h])){for(var s in g)if(g.hasOwnProperty(s)&&(h=g[s],h.get("visible")&&!h.get("noSelect")))if(l=h.na,l instanceof C.Y.Ld)if(this.Bh){var k= this.I.pr,q=k.size.width*this.J,m=k.size.height*this.J,u=k.anchor.x*this.J,t=k.anchor.y*this.J,q=C.j.sC([[c[0]-q+u,c[1]-m+t],[c[0]+u,c[1]+t]]);C.j.Ce(q,l.Ha)&&d.push(h)}else if("undefined"!==typeof l.get("radius"))k=l.Ha,k=new C.K(k[0],k[1]),(new C.K(c[0],c[1])).Ad(k)*Math.cos(h.get("center").H*Math.PI/180)<=l.get("radius")&&d.push(h);else{if(k=h.get("params"),k.visible){l=l.Ha;u=k.iC%360;n=[c[0],c[1]];if(u){var q=(c[0]-l[0])/this.J,m=(c[1]-l[1])/this.J,t=Math.PI*u/180,u=Math.cos(-t),t=Math.sin(-t), w=q*t+m*u;n[0]=l[0]+(q*u-m*t)*this.J;n[1]=l[1]+w*this.J}q=h.width*this.J;m=h.height*this.J;u=k.offset.x*this.J;t=k.offset.y*this.J;q=C.j.sC([[n[0]-q-u,n[1]-m-t],[n[0]-u,n[1]-t]]);l[0]instanceof Array||(l=[l]);for(m=l.length-1;0<=m;m-=1)if(C.j.Ce(q,l[m])){k.shape?this.TQ(h,n,l)&&d.push(h):d.push(h);break}}}else l.Ce?l.Ce(c)&&d.push(h):l.dq&&1.8*l.dq(c)<=h.get("strokeWeight")*this.J&&d.push(h);this.Bh||d.sort(function(a,b){return a.get("isTop")?-1:b.get("isTop")?1:a.get("zIndex")>b.get("zIndex")||a.get("zIndex")=== b.get("zIndex")&&a.iq>b.iq?-1:1});b(d,f)}else b([],f)}},TQ:function(a,b,c){var d=(b[0]-c[0][0])/this.J;b=(b[1]-c[0][1])/this.J;a=a.get("params");c=a.offset;var d=[d-c.x,b-c.y],f;a=a.shape;if("circle"===a.B.type){if(b=a.B.coords[0],c=a.B.coords[1],Math.sqrt((d[0]-b)*(d[0]-b)+(d[1]-c)*(d[1]-c))<=a.B.coords[2])return!0}else{if("poly"===a.B.type)return f=a.B.coords,f=this.qO(f),C.Vh.Ce(d,f);if("rect"===a.B.type)return f=a.B.coords,a=f[0],b=f[1],c=f[2],f=f[3],f=[[a,b],[c,b],[c,f],[a,f]],C.Vh.Ce(d,f)}return!1}, qO:function(a){for(var b=[],c=0;c/2<a.length/2;c+=2)b.push([a[c],a[c+1]]);return b},zD:function(a,b,c,d,f,g,h){var k=["position:absolute;"];k.push("top:"+Math.round(c)+"px;");k.push("left:"+Math.round(b)+"px;");k.push("width:"+Math.round(d)+"px;");k.push("height:"+Math.round(f)+"px;");1>g&&("opacity"in a.style?(k.push("opacity"),k.push(":"),k.push(g),k.push(";")):8<=document.documentMode?(k.push("-ms-filter:\'progid:DXImageTransform.Microsoft.Alpha(opacity="),k.push(Math.ceil(100*g)),k.push(")\';")): (k.push("filter:alpha(opacity="),k.push(Math.ceil(100*g)),k.push(");")));k.push("z-index:"+h+";");C.e.hG(a,k.join(""))}});C.P.ae=C.T.extend({eb:[C.pa,C.Rc],D:function(a){this.r=a;this.mt={};this.Pk=a.Pk;this.w=a.Za.S;this.L("display",a);this.L("rotateEnable",a)},mv:function(a,b,c,d){function f(a,d){a.length&&(h[C.g.indexOf(b,d)]=a);k-=1;0>=k&&(c(h),k=0)}for(var g=b.length,h=[],k=0,l,m=[],n=0;n<g;n+=1)l=b[n],l instanceof C.S.Ic&&l.get("visible")&&(m.push(this.nv(l)),k+=1);for(g=0;g<m.length;g+=1)m[g].mv(a,f,d)}});C.P.canvas.ae=C.P.ae.extend({D:function(a){arguments.callee.Ya.apply(this,arguments)},nv:function(a){var b=C.g.Mb(a);this.mt[b]||(this.mt[b]=a.P=a.Bg(this));return this.mt[b]},Xd:function(a){this.r.Za.vi.style.cssText="";for(var b=a.Ra,c=a.la,d=a.size.width,f=a.size.height,g=0;g<b.length;g+=1){var h=b[g],k=this.nv(h),l=b[g].Ii();if(k&&k.I)if(!l.visible||l.rc[0]>c.zoom||l.rc[1]<c.zoom||h.B&&h.B.ya&&0==h.B.ya.length)if(k=k.cf(),k.length)for(l=0;l<k.length;l+=1)k[l].parentNode===this.w&&this.w.removeChild(k[l]); else k.parentNode===this.w&&this.w.removeChild(k);else{k.Xd(a,l);var h=k.cf(),m,n,q=k.transform;if(!q||!h||k.uE&&!this.r.$a.tb)b[g].Bl&&(h.parentNode!==this.w||C.h.Be)&&(this.w.appendChild(h),b[g].nb=h);else{b[g].nb=h;h.length||(h=[h],q=[q]);for(var s=0;s<h.length;s+=1){m=h[s];n=q[s];var u=n.translate.x,t=n.translate.y;b[g].vq||(u=C.g.ag(u,2),t=C.g.ag(t,2));var w=n.scale;1E-5>Math.abs(u)&&(u=0);1E-5>Math.abs(t)&&(t=0);var v=[];v.push("position:absolute");v.push("z-index:"+(n.mf||b[g].get("zIndex"))); b[g].eq?(v.push("top:"+Math.floor(f/2+t)+"px"),v.push("left:"+Math.floor(d/2+u)+"px")):m.pE?(v.push("height:"+Math.floor(m.height*w)+"px"),v.push("width:"+Math.floor(m.width*w)+"px"),v.push("top:"+Math.floor(f/2-t*w)+"px"),v.push("left:"+Math.floor(d/2-u*w)+"px")):(1!==w&&(v.push(C.e.Yi[C.e.ed]+"-origin:"+u+"px "+t+"px"),v.push(C.e.Yi[C.e.ed]+":scale3d("+w+","+w+",1)")),v.push("top:"+Math.floor(f/2-t)+"px"),v.push("left:"+Math.floor(d/2-u)+"px"));k.vq||1===l.opacity||"number"!==typeof l.opacity|| v.push(C.e.CD(m,l.opacity));(m.parentNode!==this.w||C.h.Be)&&this.w.appendChild(m);C.e.hG(m,v.join(";"))}}}}a=this.r.Za.vi;h=this.r.Za.S;b=this.r.Za.ua;C.e.ed&&"number"===typeof c.rotation&&0!==c.rotation?(a.style[C.e.ed+"Origin"]=d/2+"px "+f/2+"px",a.style[C.e.ed]="rotate("+c.rotation+"deg)",a.style.overflow="visible",h.style.overflow="visible",b.style.overflow="visible"):(a.style.cssText="",h.style.cssText="-webkit-transform: translateZ(0);",b.style.cssText="");this.r.lr=!1}});C.P.jg=C.P.Oe.extend({D:function(a,b){arguments.callee.Ya.apply(this,arguments);this.L("reload",a,!0);this.La=new C.Qc(C.h.size);var c=this;this.La.aF.HN(function(a){c.pJ(a)});this.yc=1;this.ns=50;this.mI=!0;this.I.La=this.La;this.Iv=new C.Sx(6,null,a.gD);new C.Sx(5,null,a.gD)},NR:function(){this.r.F("zoomend",this.Gg,this);this.r.F("moveend",this.Gg,this)},reloadChanged:function(){this.I&&(this.I.tb=!1);this.La.clear();this.reload=!0;this.set("display")},HE:function(a,b){if(!a.Cl||a.Cl.rh){var c= this;a.loaded=!1;a.Cl=b.GE(a.url,function(b){a.Cl=null;a.loaded=!0;c.La.set(a.key,a);c.I&&(a.oa=!0,a.Kb=b,a.Cl=null,c.set("display",0))},!1)}},RG:function(a,b,c,d){var f=[];c=c||18;b=Math.pow(2,b-c);for(var g=0;g<a.length;g+=1){var h=a[g].Wa,k=Math.floor(h.x/b),h=Math.floor(h.y/b);d?(k=c+"/"+k+"/"+h,h=this.La.get(k)):(h=new C.Lf(c,k,h),k=h+"",h=new C.xe(h));!f[k]&&h&&(f.push(h),f[k]=1)}return f},IE:function(a){for(var b=a.length-1;0<=b;b-=1){var c=a[b];if(c.length)if(this.qe){var d=c[0].Wa.z;18<d&& (c=this.RG(c,d));this.xG(c,0);for(var f=0,g=0;f<a.length;)this.jR(c.slice(30*g,30),d),f+=30,g+=1}else for(this.xG(c),this.$v+=c.length,d=c.length-1;0<=d;d-=1)this.HE(c[d],this.Iv)}},vv:function(a,b){var c=a+"";return(b?this.La.Ll(c):this.La.get(c))||new C.xe(a.zb(),this.cg&&this.cg(a.x,a.y,a.z))},mr:function(a,b){return this.fc*Math.pow(2,a-b)},pJ:function(a){a.Cl&&this.Iv.oO(a.Cl);a.Rw=!1;a.loaded=!1},Mu:function(a,b,c){var d=this.Lb,f=a.J;a=b.Ib.x;var g=b.Ib.y,h=b.Na.x;b=b.Na.y;new C.K(0,0);d=this.mr(this.zoom, d)*f;d/=Math.pow(2,this.pf);c&&(h=Math.max(c[0],h)-c[0],b=Math.max(c[1],b)-c[1],a=Math.min(c[2],a)-c[0],g=Math.min(c[3],g)-c[1],new C.K(Math.floor(c[0]/d),Math.floor(c[1]/d)));a/=d;g/=d;c={qd:0===a%1?a-1:Math.floor(a),Oc:0===g%1?g-1:Math.floor(g),Fd:Math.floor(h/d),Fc:Math.floor(b/d)};c.Vn=c.qd-c.Fd+1;c.Pq=c.Oc-c.Fc+1;return c},xG:function(a,b){if(a.length){var c=this.Ga.Bb(this.fc*Math.pow(2,this.Lb-a[0].Wa.z)*this.Jb),d=Math.floor(c.x),f=Math.floor(c.y);a.sort(function(a,c){var k=a.Wa,l=c.Wa,m= k.x-d,k=k.y-f,n=l.x-d,l=l.y-f;return(b?-1:1)*(n*n+l*l-(m*m+k*k))})}},clear:function(){this.Iv.clear()},Gw:function(a,b){b.cg!==this.cg&&(this.cg=b.cg,this.La.clear());this.clear();this.qg=b.qg;this.pg=b.pg;this.fc=b.fc;var c=a.la;this.sd=b.sd||a.la.sd;this.sh=c.sh;this.size=a.size;this.rotation=c.rotation;this.Ga=c.Ga;this.ma=a.ma;this.Jb=c.Jb;this.pf=(this.Tm=C.h.V&&b.ja&&!b.YQ)?1:0;this.zoom&&(this.pw=c.zoom>this.zoom?"in":c.zoom<this.zoom?"out":!1);this.Zd=a.Zd;this.Pi=a.Pi;this.zoom=c.zoom;this.Od= this.Lb=c.Lb;this.Od+=this.pf;this.J=c.J;a.scale=Math.pow(2,this.zoom-this.Lb);var d;d=a.ma.CU;var c=this.Zc=this.Mu(c,d,b.j),f=[],g=[],h,k=[],l=[],m=[],n=new C.Lf(0,0,0),q,s=this.zoom,l=this.Os||"",u={},t={},w,v,r,y,E,z;this.Id=1E6*Math.random()<<0;for(q=l.length-1;0<=q;q-=1)if(h=l[q],!(h.Go<b.opacity))if(n.z=h.Wa.z,n.x=h.Wa.x,n.y=h.Wa.y,n.z===this.Od)u[n+""]|=16;else if(n.z<this.Od){if(u[n+""]|=64,this.qg)for(z=this.Od-n.z,w=Math.max(c.Fd,n.x<<z),s=Math.min(c.qd,(n.x+1<<z)-1),v=Math.max(c.Fc,n.y<< z),r=Math.min(c.Oc,(n.y+1<<z)-1),n.z=this.Od,y=w;y<=s;y+=1)for(n.x=y,E=v;E<=r;E+=1)n.y=E,z=n+"",u[z]|=32,t[z]=t[z]?Math.max(h.Wa.z,t[z]):h.Wa.z}else if(this.pg)for(z=1;n.z>=this.Od;){u[n+""]|=z;w=n.x>>1;v=n.y>>1;s=w<<1;r=v<<1;h=0;for(y=2;0<y;y-=1)for(n.x=s+y,E=2;0<E;E-=1)n.y=r+E,u[n+""]&5&&(h+=1);n.z-=1;n.x=w;n.y=v;z=4===h?4:2}l=[];n.z=this.Od;q=!0;for(y=c.Fd;y<=c.qd;y+=1)for(n.x=y,E=c.Fc;E<=c.Oc;E+=1){n.y=E;h=this.vv(n);w=!1;if(h.oa){if(h.Id=this.Id,l.push(h),h.yc!==this.yc||1>h.Go)w=!0}else q=!1, w=!0,!h.status&&n.z<=b.rc[1]+this.pf&&k.push(h);w&&m.push(h)}l.Dd=this.Lb;q&&!this.I.tb&&(this.I.tb=!0,this.I.ka("complete"));l.length&&(this.I.tb||q)&&(f.push(l),f["lv"+this.Lb]=l,l.hC=q);g.push(k);g["lv"+this.Lb]=k;if(this.pg){m=m.slice(0);k=[];for(q=m.length-1;0<=q;q-=1)h=m[q],u[h.key]&4||k.push(h);h=b.rc[1]+this.pf;for(s=this.Od+1;m.length&&s<=h;s+=1){l=[];r=m;m=[];n.z=s;for(q=r.length-1;0<=q;q-=1)if(y=r[q],z=u[y.key],z&7)for(w=y.Wa.x<<1,v=y.Wa.y<<1,y=2;0<y;y-=1)for(n.x=w+y,E=2;0<E;E-=1){n.y= v+E;z=n+"";var R=this.La.Ll(z);u[z]&5&&R&&R.oa?(R.Ct=!0,R.Id=this.Id,l.push(R)):m.push(new C.xe(n.zb(),""))}l.length&&(l.Dd=s-this.pf,f.push(l),f["lv"+(s-this.pf)]=l)}m=k}if(this.qg)for(y=Math.max(b.rc[0],this.Od-3),E=Math.max(y,this.Od-this.pV),s=this.Od-1;m.length&&s>=y;s-=1){v=s>=E;k=[];l=[];R={};r=m;m=[];for(q=r.length-1;0<=q;q-=1)h=r[q],n.z=s,n.x=h.Wa.x>>1,n.y=h.Wa.y>>1,h=this.vv(n,!v),R[h.key]||(R[h.key]=1,w=!1,h.oa&&(!this.uV||u[h.key]&64)?(n.x=Math.min(c.qd,Math.max(c.Fd,n.x<<this.Od-s)), n.y=Math.min(c.Oc,Math.max(c.Fc,n.y<<this.Od-s)),n.z=this.Od,z=n+"","number"===typeof t[z]&&h.Wa.z>t[z]?w=!0:h.Ct=!0,h.Id=this.Id,l.push(h)):(w=!0,v&&!h.status&&k.push(h)),w&&m.push(h));l.length&&(f.push(l),l.Dd=s-this.pf,f["lv"+(s-this.pf)]=l);v&&k.length&&(g.push(k),g["lv"+(s-this.pf)]=k)}this.Zv=this.$v=0;this.IE(g,d);this.fo=f;this.I.set("tiles",f)},AX:function(a,b,c){for(var d=0;d<a.length;d+=1)for(var f=a[d].Wa,g=f.z+c,h=Math.pow(2,c),k=f.x*h,f=f.y*h,l=0;l<h;l+=1)for(var m=0;m<h;m+=1){var n= this.La.get(g+"/"+(k+l)+"/"+(f+m));if(n&&b["lv"+(g-this.pf)]){var q=b["lv"+(g-this.pf)].indexOf(n);-1!==q&&n.oa&&!n.Ij&&b["lv"+(g-this.pf)].splice(q,1)}}},uX:function(){var a=this.Zc.qd+1,b=this.Zc.Oc+1,c=this.Zc.qd-1,d=this.Zc.Oc-1,f=new C.Lf(0,0,0);f.z=this.Od;for(var g=[],h=c;h<=a;h+=1){f.x=h;for(var k=d;k<=b;k+=1)f.y=k,this.La.Ll(void 0)||(c=new C.xe(f.zb(),this.cg(f.x,f.y,f.z)),g.push(c))}this.IE([g])}});C.P.Zb.jg=C.P.jg.extend({D:function(a,b){arguments.callee.Ya.apply(this,arguments);this.ns=150;this.Td()},cf:function(){return this.nb},Td:function(){this.nb=document.createElement("div");this.Xj=document.createDocumentFragment()},Vq:function(a){var b=Math.pow(2,a.la.zoom-this.Wd),c=a.la.Ga.Ia(this.Fl).Bb(this.Gf);this.transform={translate:this.transform.translate.add(c),scale:b,rotate:0};this.Ga=a.la.Ga},oC:function(a,b){if(!this.aa||3E4<Math.abs(this.Ga.x-this.aa.x)/this.J||3E4<Math.abs(this.Ga.y- this.aa.y)/this.J)this.aa=this.Ga;this.Wd=this.Lb;this.Gf=this.Jb;this.Si=!1;this.currentTime=+new Date;this.wx=b.wx;var c=this.Zc;this.Db=[256*c.Fd*this.Jb,256*c.Fc*this.Jb];this.lg=b.Qp;var d=this.fo,f=256*c.Vn,c=256*c.Pq;this.Zd=this.zoom<<0!==this.zoom;var g=this.Ga.Ia(this.aa);g.x<-C.g.ra/2&&(g.x+=C.g.ra);g.x>C.g.ra/2&&(g.x-=C.g.ra);this.Fu=g.Bb(this.Jb);return[d,f,c,b]},Xq:function(a,b){var c=this.oC(a,b);this.UF.apply(this,c);this.Hc(a)},Xd:function(a,b){this.Og=a.Og;this.Er=a.Er;this.Gw(a, b);this.Fl&&(C.h.Be||a.qC)&&(a.Zd||a.Pi)?this.Vq(a,b):this.Xq(a,b);this.Fl=this.Ga;this.Si&&this.set("display",0)},Yn:function(){for(var a=this.nb.childNodes,b=a.length-1;0<=b;b-=1)a[b]&&a[b].yc!==this.yc&&this.nb.removeChild(a[b])},Jw:function(a,b){return a.Fc===b.Fc&&a.Fd===b.Fd&&a.Oc===b.Oc&&a.qd===b.qd},UF:function(a){var b=this.yc;this.yc+=1;var c=!1,d,f,g,h=!1,k=[];this.aa.x-this.Ga.x<-C.g.ra/2?this.aa=new C.K(this.aa.x+C.g.ra,this.aa.y):this.aa.x-this.Ga.x>C.g.ra/2&&(this.aa=new C.K(this.aa.x- C.g.ra,this.aa.y));for(d=a.length-1;0<=d;d-=1)if(g=a[d],f=g.Dd,g.length){var l=this.mr(this.Lb,f);this.Tm&&!this.qe&&(l/=2);for(var m=g.length-1;0<=m;m-=1){h=g[m];if(!h.Eb&&this.aa===h.aa&&h.Wd===this.Wd){var n=h.Kb;if(n&&n.parentNode===this.nb&&1===h.Go){k.push(h);n.yc=this.yc;h.yc=this.yc;continue}}h.aa=this.aa;h.Wd=this.Wd;f=h.Wa;var c=!0,q=new C.K(f.x*l*this.Jb,f.y*l*this.Jb),n=q.Ia(this.Ga);n.x<-C.g.ra/2?q.x+=C.g.ra:n.x>C.g.ra/2&&(q.x-=C.g.ra);q=q.Ia(this.aa);q=q.Bb(this.Jb);q.x=Math.floor(q.x); q.y=Math.floor(q.y);var s=1;if(!h.hz||this.mI&&h.yc!==b)h.hz=this.currentTime;this.lg&&!h.Ct?(n=Math.max(0,Math.abs(f.z-this.zoom)-1),s=Math.min(1,(this.currentTime-h.hz)/(1/Math.pow(1.32,n)*this.ns)),1!==s&&(this.Si=!0)):h.Ct=!1;h.yc=this.yc;h.Go=s;h.oa?(n=h.Kb,!n&&h.Eb&&h.Eb.Kb&&(n=h.Eb.Kb),0!==s&&n&&(this.zD(n,q.x,q.y,l,l,s,f.z),n.parentNode!==this.nb&&(C.h.Bf&&"overlayer"===this.I.get("type")&&(n.style.display="none"),this.Xj.appendChild(n)),n.yc=this.yc,h.Lb=this.Lb,k.push(h))):h.Id=null}h=!0}1< a.length&&(this.Si=!0);this.Os=k;this.Yn();this.nb.appendChild(this.Xj);return c||!h},Hc:function(){var a=Math.pow(2,this.zoom-this.Lb),b=this.Ga.Ia(this.aa);b.x<-C.g.ra/2&&(b.x+=C.g.ra);b.x>C.g.ra/2&&(b.x-=C.g.ra);b.Bb(this.Jb);this.transform={translate:this.Fu,scale:a,rotate:0}}});window.CanvasRenderingContext2D&&(window.CanvasRenderingContext2D.prototype.Qu=function(a,b,c,d,f){"undefined"===typeof f&&(f=[10,10]);this.moveTo(a,b);var g=c-a,h=d-b,k=Math.floor(Math.sqrt(g*g+h*h));d=g/k;c=h/k;f.Uv=0;for(var l=[],g=this.bq,m=0,n=0,q=!1,s=h=0;s<f.length;s+=1)f.Uv+=f[s],l[s]={Wu:f[s]*d,Xu:f[s]*c,re:h+=f[s]},g-=f[s],0>g&&!q&&(m=s,n=-g,q=!0);for(q=0;n+q<=k;)n<f[m]?(g=n*d,h=n*c):(g=l[m].Wu,h=l[m].Xu),a+=g,b+=h,this.eo?this.moveTo(a,b):this.lineTo(a,b),q+=n,this.eo=!this.eo,n=f[(m+1)% f.length],m=(m+1)%f.length;k-=q;a+=k*d;b+=k*c;this.eo?this.moveTo(a,b):this.lineTo(a,b);this.bq=(this.bq+q+k)%f.Uv},window.CanvasRenderingContext2D.prototype.aP=function(a,b,c,d){"undefined"===typeof d&&(d=[10,10]);var f=2*Math.PI*c,g=0>=d?f:Math.round(f/(d[0]+d[1])),h=(d[0]+d[1])/f*2*Math.PI;d=d[0]/f*2*Math.PI;for(f=0;f<g;f+=1)this.beginPath(),this.arc(a,b,c,f*h,f*h+d),this.stroke()}); ',true),_jsload_('mrender', 'C.P.Ni.hj=C.P.jg.extend({D:function(a,b){arguments.callee.Ya.apply(this,arguments);this.Td()},LD:function(){return this.cb.FG},cf:function(){return this.nb},Td:function(){this.nb=document.createElement("div");this.cb=new C.P.Ni.Ic(this.nb);this.cb.I=this.I;this.hp.w.appendChild(this.nb)},lo:function(a,b){this.Xj=b.Xj;this.Mn=b;this.sd=a.la.sd;this.J=a.la.J;this.zoom=a.la.zoom;this.size=a.size;this.ma=a.ma;this.Fa=a.la.Ga;this.sh=a.la.sh;var c=!1;if(!this.aa||3E4<Math.abs(this.Fa.x-this.aa.x)/this.J|| 3E4<Math.abs(this.Fa.y-this.aa.y)/this.J)c=!0;if(c||this.zoom<<0!==this.zoom||this.Wd!==this.zoom)this.aa=this.Fa,this.Wd=this.zoom},wv:function(a){var b=a.ma.lb.y*this.J;a=a.ma.lb.x*this.J;return[this.Fa.x-a,this.Fa.y-b,this.Fa.x+a,this.Fa.y+b]},Yn:function(){if(this.hg&&this.hg)for(var a in this.hg)if(this.hg.hasOwnProperty(a)){var b=this.hg[a];b.Id!==this.Id&&b.Q&&this.hp.Pk.appendChild(b.Q)}},Xd:function(a,b){this.Id=1E6*Math.random()<<0;this.lo(a,b);this.la=a.la;this.size=a.size;var c=this.I; this.fc=256;var d,f;f=this.wv(a);var g=0;c.xn&&(g=50*this.J);f[0]-=this.I.Rg*this.J+g;f[1]-=this.I.Sg*this.J+g;f[2]+=this.I.Rg*this.J+g;f[3]+=this.I.Sg*this.J+g;c=c.bg(f);for(d in c)c.hasOwnProperty(d)&&(c[d].Id=this.Id,c[d].AE=this);this.Yn(c);this.lo.call(this.cb,a,b);this.cb.QS(c);this.hg=c;this.Hc(a)},Hc:function(){var a=Math.pow(2,this.zoom-this.Lb);this.transform={translate:this.aa.Ia(this.Fa).Bb(this.J),scale:a,rotate:0}}});C.P.Ni.Ic=C.T.extend({D:function(a){this.mk=a},QS:function(a){var b=document.createDocumentFragment(),c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c],f,g=d.get("params");if(d.Q)f=d.Q;else{f=C.e.create("div");f.className="amap-marker";var h=g.zi,k=g.BT;h&&f.appendChild(h);k&&f.appendChild(k);d.Q=f;d.zi=h;if(k=g.title)h.title=k;this.I.xn=!0;this.I.Jl.push(d);d.xf=!0}var h=g.offset,k=h.x,l=h.y,m,n;if(d.xf){var q=[];m=this.ub(d.na.Ha);d.aa=this.aa;n=g.Gx;h=Math.round(m[1]+l+n.y);m=Math.round(m[0]+k+n.x); q.push("top:"+h+"px");q.push("left:"+m+"px");q.push("z-index:"+(g.XQ?this.aY+10:g.zIndex));C.h.Wc||q.push(C.e.rQ(f,g.iC,{x:-k,y:-l}));q.push("display:"+(g.visible?"block":"none")+";");f.style.cssText=q.join(";");(k=g.label)&&k.content&&(g=g.$Q,m=h=0,k.offset&&(h=k.offset.y+"px",m=k.offset.x+"px"),g.style.top=h,g.style.left=m,f.appendChild(g))}else if(this.zoom<<0!==this.zoom||d.zoom!==this.zoom||f.parentNode!==this.mk||d.aa!==this.aa)m=this.ub(d.na.Ha),d.aa=this.aa,n=g.Gx,h=Math.round(m[1]+l+n.y), m=Math.round(m[0]+k+n.x),f.style.top=h+"px",f.style.left=m+"px";d.zoom=this.zoom;f.parentNode!==this.mk&&(C.h.Bf&&C.g.iepngFix(f),b.appendChild(f),d.xf=!1);f.Lt=this.mk}this.mk.appendChild(b)},ub:function(a){return[(a[0]-this.aa.x)/this.J,(a[1]-this.aa.y)/this.J]}}); ',true),_jsload_('vectorlayer', 'C.cE={TG:function(){if(0===C.Ka.Ob)for(var a=0;a<C.Ka.lf.length;a+=1)C.Ka.lf[a].set("display")},FE:function(a){var b=C.Ka[a];if("undefined"===typeof b){b=document.createElement("img");C.Ka[a]=b;b.loaded=!1;C.Ka.Ob+=1;C.l.Pg(b,"load",this.Cv,this);C.l.Pg(b,"error",this.yQ,this);var c=this;b.Vl=setTimeout(function(){b.loaded||c.zQ({target:b})},3E3);b.src=a}},zQ:function(){for(var a=0;a<C.Ka.lf.length;a+=1)C.Ka.lf[a].set("display")},Cv:function(a){a=a.target;a.loaded=!0;C.Ka.Ob-=1;this.TG();a.Vl&&(clearTimeout(a.Vl), a.Vl=null)},yQ:function(a){a=a.target;a.loaded=!1;C.Ka.Ob-=1;this.TG();a.Vl&&(clearTimeout(a.Vl),a.Vl=null)}};(function(){if(C.h.vf){var a=function(){function a(c){c=c.data;for(var d=c.EE,g=c.aG,h=c.V,l=c.tS,m=[],q=[],u=0,F=c.On.length;u<F;u+=1){var D=c.On[u];switch(D.Gc){case "region":case "road":case "building":m.push(b(D,d,g));break;case "roadlabel":case "poilabel":var aa=g,ba=h,qa=l,ia=D.Gc,O=D.ld.slice(1),I=D.KG,T=D.Hl;textIdx=2;var $=ba?15:7,Q=void 0,V=[];t=[];for(var ga=[],ca=0,Ga=O.length;ca<Ga;ca+=1){var A=O[ca][0],Q=O[ca][1].split("&");if(!T){var B="Microsoft YaHei",G=s(Q[2]),H=null;la>=$&&(B="SimHei"); "roadlabel"===ia&&(B="Arial Narrow,Arial");Q[3]&&(H=s(Q[3]));A.font=B;A.tD=G;A.strokeColor=H;A.DQ=Q[4]}var la=parseInt(Q[1]),Q=Q[0];aa&&(la*=2);A.fontSize=la;A.Cd=Q;for(Q=0;Q<A.length;Q+=1)if(H=A[Q],H.kx=H[0],B=f(H[1]),!(0>B[0]||255<B[0]||0>B[1]||255<B[1])){var W=G=0,J=1,G=256*I.x,W=256*I.y,J=I.J,B={Ha:[(G+B[0])*J,(W+B[1])*J],name:H[0].replace("^",""),Ud:B,Ka:[],Vd:[]};if("roadlabel"===ia){var G=B,W=A,M=T,x=I,J=aa,S=ba,K=qa,N=!1;G.tE=!0;var U="";if((U=W.Cd)&&H[3]){var N=K+"://vdata.amap.com/icons/"+ (S||J?"b":"n")+(10>x.z?"39":"18")+"/1/",x=H.kx,Z=!1;153==U&&(0===x.indexOf("G")?(U="153g",Z=!0):0===x.indexOf("S")&&(U="153s",Z=!0));if(151==U||150==U)Z=!1,0===x.indexOf("G")&&(U=150,Z=!0),0===x.indexOf("S")&&(U=151,Z=!0);152===U&&(U=151);!0===Z&&(N=K+"://webapi.amap.com/theme/v1.3/icons/"+(S||J?"b/":"n/"));K=N+U+".png";t.push(K);G.Ka.push(K);K=H[3];J&&(K[0]*=2,K[1]*=2,K[2]*=2,K[3]*=2);G.Vd.push(K);N=!0}K=void 0;M?(K=M.u,G.Ka.push(K),J=M.b[H[4][0]],G.$f=W.fontSize,G.Vd.push([-Math.floor(J[2]/2),-Math.floor(J[3]/ 2)+1,J[2],J[3],J[0],J[1],J[2],J[3]])):(K=M=0,U=W.strokeColor,N&&(S?(M=44,K=13):(M=21,K=9),J&&(M*=2,K*=2),U=""),G.Hf||(G.Hf=[]),G.Hf.push([H.kx.replace(" ",""),W.font,N&&!J?9:W.fontSize,W.tD,U,M,K,N]));G.br=H[2]?5>H[2]?0:H[2]:0}else if("poilabel"===ia){G=B;W=A;J=T;x=I;S=aa;M=ba;Z=qa;G.Rv=1;K=H.kx.split("^");N=H[textIdx];(U=W.Cd)&&H[3]&&(x=Z+"://vdata.amap.com/icons/"+(M||S?"b":"n")+(10>x.z?"39":"18")+"/1/"+U+".png",G.Ka.push(x),t.push(x),x=H[3],"334"===U&&S&&(x[0]=x[1]=-7,x[3]=x[2]=15),"445"===U&& S&&(x[0]=-3,x[1]=-6,x[3]=13,x[2]=6),"301"===U&&S&&(x[1]=x[0],x[3]=x[2]),S&&(x[0]*=2,x[1]*=2,x[2]*=2,x[3]*=2),G.$f=7,G.Vd.push(x));if(0<N.length)for(Z=void 0,x=0;x<N.length;x+=1)if(J)G.Ka.push(J.u),Z=J.b[H[6][x]],G.$f=W.fontSize,S&&(N[x][0]*=2,N[x][1]*=2),G.Vd.push([N[x][0],N[x][1]-(S?4:2),Z[2],Z[3],Z[0],Z[1],Z[2],Z[3]]);else{var Ha=0;G.Hf||(G.Hf=[]);var Z=K[x],Ja=N[x][0],xa=N[x][1]+x,Ka=N[x][2],Ia=N[x][3];if("375"===U||"3751"===U)Ha=15,S&&(Ha*=2),xa=-5;S&&(Ja*=2,xa*=2,Ka*=2,Ia*=2);xa-=M?3:1;G.Hf.push([Z, W.font,W.fontSize,W.tD,W.strokeColor,Ha,0,W.DQ,[Ja,xa,Ka,Ia]])}H[4]&&(G.Jq=H[4]);H[5]&&(G.tq=H[5]);B.tq&&ga.push(B.tq)}V.push(B)}}D.ld=V;ga.length&&(D.Kv=ga);D=[D,t];m.push(D[0]);q.push.apply(q,D[1])}}c.On=m;(w||postMessage)(c);q.length&&(w||postMessage)({Gc:"icon",dE:q})}function b(a,h,k){for(var u=a.Gc,t=a.ld.slice(1),w=a.RQ,Y=a.KG,fa=a.qe,F={},D,aa,ba=[],qa=0,ia=t.length;qa<ia;qa+=1){D=t[qa];aa=D[1];var O;O=D[0];for(var I=Y,T=h,$=fa,Q=w,V=k,ga=[],ca=0,Ga=O.length;ca<Ga;ca+=1){var A;A=f(O[ca]); var B=T,G=Q,H=V,la=[],W=void 0,J=void 0,M=0,x=0,S=void 0;if($)for(M=256*I.x,x=256*I.y,S=I.J,B=0,H=A.length;B<H;B+=2)W=(M+A[B])*S,J=(x+A[B+1])*S,la.push([W,J]);else for(S=(18<B?Math.pow(2,18-B):1)/(H?2:1),B=0,H=A.length;B<H;B+=2){for(;!G&&0!==B&&B<H-2&&g(A[B-2],A[B-1],A[B],A[B+1],A[B+2],A[B+3]);)B+=2;1===S?la.push([A[B],A[B+1]]):la.push([A[B]/S,A[B+1]/S])}A=la;A.length&&(ga.push(A),ga.Up=ga.Up?ga.Up+A.Up:A.Up)}O=ga;if(w){O.cV=qa;if((T=D[4])&&T.length)for($=0,Q=T.length;$<Q;$+=1)for(V=T[$].split("-"), ga=O[parseInt(V[0])],ca=1,I=V.length;ca<I;ca+=1)ga[parseInt(V[ca])].Dq=!0;T=D[5];$=0;for(I=O.length;$<I;$+=1)O[$].Ki=D[3];if(T&&T.length)for(I=0,$=T.length;I<$;I+=1)for(V=T[I].split("-"),Q=V[1].split("^"),O[parseInt(V[0])].BC=Q,V=0,ga=Q.length;V<ga;V+=1)-1==c(ba,Q[V])&&ba.push(Q[V])}D=D[2];D=F[D]?F[D]:F[D]={};D[aa]?D[aa].push.apply(D[aa],O):("road"==u?(I=1,18<h&&(I=Math.pow(2,h-18)),d(O,aa,I,k)):(I=O,T=aa,$=k,T=T.split("&"),I.face=s(T[0]),T[2]?(I.border=s(T[2]),I.width=($?2:1)*(parseInt(T[1])||1)): I.border=null),D[aa]=O)}a.ld=F;ba.length&&(a.Kv=ba);return a}function c(a,b){if(a&&!a.length)return-1;if(a.indexOf)return a.indexOf(b);for(var d=0;d<a.length;d+=1)if(a[d]===b)return d;return-1}function d(a,b,c,f){b=b.split("&");var g="",h=0,k=0,l="butt",m="",n=0,q=0,t="butt",n=s(b[1]),q=(parseInt(b[0])*c||1)*(f?2:1);c=b[2];c===u[1]?t="round":c===u[2]?t="square":0!==c.indexOf(u[5])&&(0===c.indexOf(u[3])?m=eval("["+c.substring(5).split(")")+"]"):0===c.indexOf(u[4])&&(h=n,n="white",m=eval("["+c.substring(8).split(")")+ "]"),k=q+1+(f?1:0),q=q-1-(f?1:0)));b[3]&&(h=s(b[4]),k=parseInt(b[3])*(f?2:1)+q,b=b[5],b===u[1]?l="round":b===u[2]?l="square":0!==b.indexOf(u[5])&&0===b.indexOf(u[3])&&(g=eval("["+b.substring(5).split(")")+"]")));a.bG=n;a.eT=q;a.cT=t;a.dT=m;a.mC=h;a.bO=k;a.ZN=l;a.$N=g}function f(a){var b,c,d,g,h;c=[];d=NaN;g=0;for(h=a.length;g<h;g+=1)b=a[g],b="ASDFGHJKLQWERTYUIO!sdfghjkl".indexOf(b),isNaN(d)?d=27*b:(c.push(d+b-333),d=NaN);return c}function g(a,b,c,d,f,h){a=c-a;c=f-c;if(0===a||0===c)return a===c?!0: !1;if((h-d)/c===(d-b)/a)return!0}function s(a){for(var b=[],c=0,d=a.length;c<d;c+=2)b.push(parseInt(a.substr(c,2),16));b.push((b.shift()/255).toFixed(2));return"rgba("+b.join(",")+")"}var u="solid solid_roundcap solid_squarecap dash railway dash_crewel".split(" "),t=[];if("undefined"!==typeof window){this.postMessage=function(b){a({data:b})};var w=function(a){return function(b){a.q("message",{data:b})}}(this);C.extend(this,C.pa)}else onmessage=a},b=function(a){if("icon"===a.data.Gc)for(var b=0;b< a.data.dE.length;b+=1)C.cE.FE(a.data.dE[b]);else for(b=0;b<C.Ka.lf.length;b+=1)C.Ka.lf[b].pj===a.data.BE&&C.Ka.lf[b].P.UR(a)},c=!1;if(C.h.vE)try{var d=a.toString().match(/^[^{]+\\{([\\s\\S]*)\\}$/)[1],f=window.URL.createObjectURL(new Blob([d],{type:"text/javascript; charset=utf-8"}));C.Hq=new Worker(f);C.Hq.onmessage=b;c=!0}catch(g){}c||(C.Hq=new a,C.Hq.d("message",b))}})(C);C.iy=C.T.extend({D:function(){this.cO=C.h.V?15:7;this.Tv=C.h.ja?360:256},dS:function(a,b,c,d){for(var f=0;f<b.length;f+=1)this.eS(a,b[f],d,c);return b},eS:function(a,b,c,d){var f=C.h.cw&&C.h.hT?"800":"400";if("roadlabel"===d){if(!b.Hf)return;d=b.Hf[0];f=this.MD(a,d[0],d[1],d[2],d[3],d[4],f,d[5],null,c.ja);b.Ka.push(f);b.$f=f.$f;if(1<d[0].length||d[6]){a=Math.ceil(f.Eh/2);c=f.Eh;var g=d[5];g&&(c=Math.min(g,c),a=Math.min(Math.floor(g/2),a));topHeight=d[2];b.Vd.push([-a,-Math.ceil(topHeight/2)+1,c,topHeight, f.ww,f.xw,f.Eh,f.$f])}else a=-Math.floor(f.$f/2),b.Vd.push([a,a,f.Eh,f.Ki-1,f.ww,f.xw,f.Eh,f.Ki])}else{if(C.k.BR)return null;b.Rv=1;if(b.Hf&&0<b.Hf.length)for(var h=0;h<b.Hf.length;h+=1)d=b.Hf[h],f=this.MD(a,d[0],d[1],d[2],d[3],d[4],null,d[5],d[7],c.ja),b.$f=f.$f,d[5]&&(d[8][0]=-Math.min(f.Eh/2,d[5]/2)),b.Ka.push(f),b.Vd.push([d[8][0],d[8][1],d[7]?f.Eh:Math.min(d[8][2],g||f.Eh),f.Ki,f.ww,f.xw,f.Eh,f.Ki])}b.Hf=null;return b},ZV:function(){return document.createElement("img")},xQ:function(a){return Math.min(Math.max(100* (a-this.cO),400),500)+""},MD:function(a,b,c,d,f,g,h,k,l,m){k=a.ZQ;k||(k=C.e.create("canvas"),a.ZQ=k,k.width=k.height=this.Tv,k.nF=k.oF=0,k.af=k.getContext("2d"),k.af.lineWidth=2);var n=k.af;h=h||this.xQ(d);a=m?2:1;var q=l?2*a:0,s=d+5*a,u=k.nF,t=k.oF;u+((d+2)*b.length+2)>this.Tv&&(u=0,t+=k.maxHeight,t>this.Tv&&(k.maxHeight=0));k.maxHeight=Math.max(k.maxHeight||0,s);n.font=h+" "+d+"px "+c;d=parseInt(n.font);if(100<d||!d)d=parseInt(n.font.split(" ")[1]);g&&(n.strokeStyle!==g&&(n.strokeStyle=g),n.strokeText(b, u+q,t+d));c=Math.ceil(n.measureText(b).width);l&&(l=C.g.kC(l),n.fillStyle!==l&&(n.fillStyle=l),n.fillRect(u,t,c+4*a,d+(m?6:3)+C.h.V));n.fillStyle!==f&&(n.fillStyle=f);n.fillText(b,u+q,t+d);b=k;c=l?c+6*a:c;k.nF=u+c+1;k.oF=t;b.$f=d;b.Dr=c;b.Ki=Math.max(s,d+(m?6:3)+C.h.V);b.ww=u;b.xw=t;b.Eh=c;return b}});(function(a){if(a.h.Hn){var b=function(){function b(a){a=a.data;"encode"===a.Gc?(s||postMessage)({bk:a.bk,Gc:a.Gc,ld:q.$u(a.ld)}):"decode"===a.Gc&&(s||postMessage)({bk:a.bk,Gc:a.Gc,ld:q.wf(a.ld)})}function c(a,b,d){for(var f=0,g=d.length;f<g;f++){var h=d.charCodeAt(f);if(128>h)a.setUint8(b++,h>>>0&127|0);else if(2048>h)a.setUint8(b++,h>>>6&31|192),a.setUint8(b++,h>>>0&63|128);else if(65536>h)a.setUint8(b++,h>>>12&15|224),a.setUint8(b++,h>>>6&63|128),a.setUint8(b++,h>>>0&63|128);else if(1114112>h)a.setUint8(b++, h>>>18&7|240),a.setUint8(b++,h>>>12&63|128),a.setUint8(b++,h>>>6&63|128),a.setUint8(b++,h>>>0&63|128);else throw Error("bad codepoint "+h);}}function d(a,b,c){var f="",g=b;for(b+=c;g<b;g++)if(c=a.getUint8(g),0===(c&128))f+=String.fromCharCode(c);else if(192===(c&224))f+=String.fromCharCode((c&15)<<6|a.getUint8(++g)&63);else if(224===(c&240))f+=String.fromCharCode((c&15)<<12|(a.getUint8(++g)&63)<<6|(a.getUint8(++g)&63)<<0);else if(240===(c&248))f+=String.fromCharCode((c&7)<<18|(a.getUint8(++g)&63)<< 12|(a.getUint8(++g)&63)<<6|(a.getUint8(++g)&63)<<0);else throw Error("Invalid byte "+c.toString(16));return f}function k(a){for(var b=0,c=0,d=a.length;c<d;c++){var f=a.charCodeAt(c);if(128>f)b+=1;else if(2048>f)b+=2;else if(65536>f)b+=3;else if(1114112>f)b+=4;else throw Error("bad codepoint "+f);}return b}function l(a,b){this.offset=b||0;this.view=a}function m(a,b,d){var f=typeof a;if("string"===f){var h=k(a);if(32>h)return b.setUint8(d,h|160),c(b,d+1,a),1+h;if(256>h)return b.setUint8(d,217),b.setUint8(d+ 1,h),c(b,d+2,a),2+h;if(65536>h)return b.setUint8(d,218),b.setUint16(d+1,h),c(b,d+3,a),3+h;if(4294967296>h)return b.setUint8(d,219),b.setUint32(d+1,h),c(b,d+5,a),5+h}if(a instanceof ArrayBuffer){h=a.byteLength;if(256>h)return b.setUint8(d,196),b.setUint8(d+1,h),(new Uint8Array(b.buffer)).set(new Uint8Array(a),d+2),2+h;if(65536>h)return b.setUint8(d,197),b.setUint16(d+1,h),(new Uint8Array(b.buffer)).set(new Uint8Array(a),d+3),3+h;if(4294967296>h)return b.setUint8(d,198),b.setUint32(d+1,h),(new Uint8Array(b.buffer)).set(new Uint8Array(a), d+5),5+h}if("number"===f){if(a<<0!==a)return b.setUint8(d,203),b.setFloat64(d+1,a),9;if(0<=a){if(128>a)return b.setUint8(d,a),1;if(256>a)return b.setUint8(d,204),b.setUint8(d+1,a),2;if(65536>a)return b.setUint8(d,205),b.setUint16(d+1,a),3;if(4294967296>a)return b.setUint8(d,206),b.setUint32(d+1,a),5;throw Error("Number too big 0x"+a.toString(16));}if(-32<=a)return b.setInt8(d,a),1;if(-128<=a)return b.setUint8(d,208),b.setInt8(d+1,a),2;if(-32768<=a)return b.setUint8(d,209),b.setInt16(d+1,a),3;if(-2147483648<= a)return b.setUint8(d,210),b.setInt32(d+1,a),5;throw Error("Number too small -0x"+(-a).toString(16).substr(1));}if("undefined"===f)return b.setUint8(d,212),b.setUint8(d+1,0),b.setUint8(d+2,0),3;if(null===a)return b.setUint8(d,192),1;if("boolean"===f)return b.setUint8(d,a?195:194),1;if("object"===f){var f=0,l=Array.isArray(a);if(l)h=a.length;else var n=Object.keys(a),h=n.length;16>h?(b.setUint8(d,h|(l?144:128)),f=1):65536>h?(b.setUint8(d,l?220:222),b.setUint16(d+1,h),f=3):4294967296>h&&(b.setUint8(d, l?221:223),b.setUint32(d+1,h),f=5);if(l)for(l=0;l<h;l++)f+=m(a[l],b,d+f);else for(l=0;l<h;l++)var q=n[l],f=f+m(q,b,d+f),f=f+m(a[q],b,d+f);return f}throw Error("Unknown type "+f);}function n(a){var b=typeof a;if("string"===b){var c=k(a);if(32>c)return 1+c;if(256>c)return 2+c;if(65536>c)return 3+c;if(4294967296>c)return 5+c}if(a instanceof ArrayBuffer){c=a.byteLength;if(256>c)return 2+c;if(65536>c)return 3+c;if(4294967296>c)return 5+c}if("number"===b){if(a<<0!==a)return 9;if(0<=a){if(128>a)return 1; if(256>a)return 2;if(65536>a)return 3;if(4294967296>a)return 5;if(1.8446744073709552E19>a)return 9;throw Error("Number too big 0x"+a.toString(16));}if(-32<=a)return 1;if(-128<=a)return 2;if(-32768<=a)return 3;if(-2147483648<=a)return 5;if(-9223372036854775E3<=a)return 9;throw Error("Number too small -0x"+a.toString(16).substr(1));}if("undefined"===b)return 3;if("boolean"===b||null===a)return 1;if("object"===b){b=0;if(Array.isArray(a))for(var c=a.length,d=0;d<c;d++)b+=n(a[d]);else for(var f=Object.keys(a), c=f.length,d=0;d<c;d++)var g=f[d],b=b+(n(g)+n(a[g]));if(16>c)return 1+b;if(65536>c)return 3+b;if(4294967296>c)return 5+b;throw Error("Array or object too long 0x"+c.toString(16));}throw Error("Unknown type "+b);}var q={TW:function(a){if(void 0===a)return"undefined";var b,c;a instanceof ArrayBuffer?(c="ArrayBuffer",b=new DataView(a)):a instanceof DataView&&(c="DataView",b=a);if(!b)return JSON.stringify(a);for(var d=[],f=0;f<a.byteLength;f++){if(20<f){d.push("...");break}var g=b.getUint8(f).toString(16); 1===g.length&&(g="0"+g);d.push(g)}return"<"+c+" "+d.join(" ")+">"}};q.fY=c;q.eY=d;q.dY=k;q.$u=function(a){var b=new ArrayBuffer(n(a)),c=new DataView(b);m(a,c,0);return b};q.wf=function(a){var b=new DataView(a),b=new l(b),c=b.parse();if(b.offset!==a.byteLength)throw Error(a.byteLength-b.offset+" trailing bytes");return c};l.prototype.map=function(a){for(var b={},c=0;c<a;c++){var d=this.parse();b[d]=this.parse()}return b};l.prototype.Au=function(a){var b=new ArrayBuffer(a);(new Uint8Array(b)).set(new Uint8Array(this.view.buffer, this.offset,a),0);this.offset+=a;return b};l.prototype.or=function(a){var b=d(this.view,this.offset,a);this.offset+=a;return b};l.prototype.tu=function(a){for(var b=Array(a),c=0;c<a;c++)b[c]=this.parse();return b};l.prototype.parse=function(){var a=this.view.getUint8(this.offset);if(160===(a&224))return this.offset++,this.or(a&31);if(128===(a&240))return this.offset++,this.map(a&15);if(144===(a&240))return this.offset++,this.tu(a&15);if(0===(a&128))return this.offset++,a;if(224===(a&224))return a= this.view.getInt8(this.offset),this.offset++,a;if(212===a&&0===this.view.getUint8(this.offset+1))this.offset+=3;else{switch(a){case 217:return a=this.view.getUint8(this.offset+1),this.offset+=2,this.or(a);case 218:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.or(a);case 219:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.or(a);case 196:return a=this.view.getUint8(this.offset+1),this.offset+=2,this.Au(a);case 197:return a=this.view.getUint16(this.offset+1),this.offset+= 3,this.Au(a);case 198:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.Au(a);case 192:return this.offset++,null;case 194:return this.offset++,!1;case 195:return this.offset++,!0;case 204:return a=this.view.getUint8(this.offset+1),this.offset+=2,a;case 205:return a=this.view.getUint16(this.offset+1),this.offset+=3,a;case 206:return a=this.view.getUint32(this.offset+1),this.offset+=5,a;case 207:var a=this.view.getUint32(this.offset+1),b=this.view.getUint32(this.offset+5);this.offset+= 9;return 4294967296*a+b;case 208:return a=this.view.getInt8(this.offset+1),this.offset+=2,a;case 209:return a=this.view.getInt16(this.offset+1),this.offset+=3,a;case 210:return a=this.view.getInt32(this.offset+1),this.offset+=5,a;case 211:return a=this.view.getInt32(this.offset+1),b=this.view.getUint32(this.offset+5),this.offset+=9,4294967296*a+b;case 222:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.map(a);case 223:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.map(a); case 220:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.tu(a);case 221:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.tu(a);case 202:return a=this.view.getFloat32(this.offset+1),this.offset+=5,a;case 203:return a=this.view.getFloat64(this.offset+1),this.offset+=9,a}throw Error("Unknown type 0x"+a.toString(16));}};if("undefined"!==typeof window){this.postMessage=function(a){b({data:a})};var s=function(a){return function(b){a.q("message",{data:b})}}(this);a.extend(this, a.pa)}else onmessage=b},c=function(b){for(var c=0,d=a.nr.length;c<d;c+=1)if(a.nr[c].pj===b.data.bk){a.nr[c].SR(b);break}},d=!1;d||(a.Kh=new b,a.Kh.d("message",c),a.Kh.yC=function(){try{var f=b.toString().match(/^[^{]+\\{([\\s\\S]*)\\}$/)[1],g=window.URL.createObjectURL(new Blob([f],{type:"text/javascript; charset=utf-8"}));a.Kh=new Worker(g);a.Kh.onmessage=c;d=!0}catch(h){}});a.nr=[]}})(C);C.KH=C.T.extend({eb:[C.pa],D:function(){this.lN=C.k.YG+"://"+C.k.Br;this.cl=[];this.pj=C.g.Mb(this);this.Gb="closed";this.count=0;this.Qw=[];C.event.U(window,"beforeunload",this.oR,this);C.nr.push(this)},oR:function(){this.Qw.length&&new C.ha.va(C.k.Pc+"://webapi.amap.com/count?"+["type=v","k="+C.k.key,"u="+C.k.Np,"m="+(C.h.V?1:0),"pf="+C.h.Bw,"frq="+this.Qw.join(",")].join("&"))},close:function(){this.Rb&&(this.Gb="closed",this.cl=[],this.Ps())},MO:function(){var a=this;if("closed"===a.Gb){var b= new WebSocket(this.lN);b.binaryType="arraybuffer";a.Gb="connecting";b.onopen=C.g.bind(this.FL,this);b.onclose=C.g.bind(this.kL,this);b.onerror=C.g.bind(this.Qa,this);b.onmessage=C.g.bind(this.NL,this);this.Rb=b;b.NO=setTimeout(function(){b.readyState!==WebSocket.OPEN&&a.Eq()},300)}},Eq:function(){this.Gb="unsupport";this.cl=[];this.Ps();this.q("disable")},Qa:function(){this.Eq()},FL:function(){this.flush()},kL:function(){this.Gb="closed";this.Ps()},tL:function(a){if("unsupport"===this.Gb)return!1; "connected"===this.Gb?this.BB(a):("closed"===this.Gb&&this.MO(),this.cl.push(a));this.count+=1},sL:function(a){if("ack"===a.type)switch(a.command){case "tiles":this.q("ack",a);break;case "retain":this.Gb="connected";this.flush();break;case "close":this.Eq()}else 0===a.content.errcode&&("tiles"===a.type?this.q("tiles",a):"traffic"===a.type&&this.q("traffic",a))},SR:function(a){a=a.data;"encode"===a.Gc?this.tL(a.ld):"decode"===a.Gc&&this.sL(a.ld)},send:function(a){C.Kh.postMessage({Gc:"encode",ld:a, bk:this.pj})},BB:function(a){var b=this,c=b.Rb;c.readyState==WebSocket.OPEN&&(c.send(a),b.Zl&&clearTimeout(b.Zl),b.Zl=setTimeout(function(){b.Eq();b.Zl=null},5E3),b.zx&&clearTimeout(b.zx),b.zx=setTimeout(function(){b.close();b.zx=null},1E4))},Ps:function(){var a=this.Rb;a&&(clearTimeout(a.NO),a.onopen=a.onmessage=a.onerror=a.onclose=null,a.close(),this.Rb=null)},flush:function(){if("connected"===this.Gb){for(var a=0;a<this.cl.length;a+=1)this.BB(this.cl[a]);this.cl=[]}},NL:function(a){this.Zl&&(clearTimeout(this.Zl), this.Zl=null);C.Kh.postMessage({bk:this.pj,Gc:"decode",ld:a.data})}});C.jy={Fy:function(a,b){this.vd={};this.vd.bk=C.g.Mb(this.vd);b.Rb||(b.Rb=new C.KH);this.Rb=b.Rb;this.Rb.d("tiles",this.LR,this);this.Rb.d("ack",this.KR,this);this.Rb.d("disable",this.IR,this);this.L("mapStyle",a,!0)},FT:function(a,b,c){for(var d,f=0;f<a.length;f+=1){d=a[f];var g=Math.pow(2,b-18),h=Math.floor(d.Ud[0]/256*g),k=Math.floor(d.Ud[1]/256*g),h=Math.max(0,h),h=Math.min(h,g-1),k=Math.max(0,k),k=Math.min(k,g-1);if(h=this.I.La.get(b+"/"+(g*c.x+h)+"/"+(g*c.y+k)))h.ya||(h.ya=[]),d.Ud[0]=d.Ud[0]* g%256,d.Ud[1]=d.Ud[1]*g%256,h.ya.push(d)}},UR:function(a){a=a.data;if(a.BE===this.I.pj)for(var b=0,c=a.On.length;b<c;b+=1)this.TR(a.On[b],a.EE,a.aG,a.V)},TR:function(a,b){var c=a.Gc,d=this.La.get(a.UT);if(d){var f=this.I.B.ya;d.ya||(d.Ne={});d.ya||(d.ya=[]);var g="";"poilabel"===c||"roadlabel"===c?(a.Hl||(g=a.ld,a.Hl=null),18<b?this.FT(a.ld,b,d.Wa):d.ya.push.apply(d.ya,a.ld),c===this.I.B.ya[this.I.B.ya.length-1]&&(d.Hl=null)):d.Ne[c]=a.ld;"building"!==c&&"poilabel"!==c||!a.Kv||d.nj||(d.nj={},d.nj.zd= a.Kv,C.wo&&C.wo.q("vecTileParsed.buildings",{nx:d}));this.Zd||this.Pi?this.FF([this.I,g,d,b,c]):(this.Gg(),this.Lm.Ou(this.I,g,d,b,c));c===f[f.length-1]&&(c="roadlabel"===c||"poilabel"===c?"labels":"allbase",this.Zd||this.Pi?this.FF([this.I,"tileComplete",d,b,c]):(this.Gg(),this.Lm.Ou(this.I,"tileComplete",d,b,c)))}},FC:function(){if(this.Rb&&"unsupport"!==this.Rb.Gb){var a={command:"status",payload:{mapType:this.get("mapStyle"),style:C.h.V?C.h.ja&&this.I.get("detectRetina")?"5":"6":"5",rd:this.I.ja? 2:1}};this.Rb.send(a)}},mapStyleChanged:function(){this.FC()},IR:function(){for(var a in this.vd)this.vd.hasOwnProperty(a)&&this.vd[a].tr&&(this.rm(this.vd[a].tr,this.vd[a].Dd),delete this.vd[a]);this.Rb=null;this.zk("mapStyle");this.set("display",1)},KR:function(a){var b=a.reqId;this.vd[b]&&(!a.content.status&&this.vd[b]&&this.rm(this.vd[b].tr,this.vd[b].Dd),delete this.vd[b])},LR:function(a){if(this.vd[a.reqId]){var b=a.content.opt;b===this.Lb?this.bF(a.content.data,b):this.rm(this.vd[a.reqId].tr, this.vd[a.reqId].Dd)}},jR:function(a,b){if(a.length){var c=1,d=[];18<b&&(c=Math.pow(2,b-18));for(var f=this.I.pl.Ig(a[0].Wa.z),g=0;g<a.length;g+=1){var h=a[g],k=h.Wa;h.Dd=b;k.J=f;if(18<b){for(var l=0;l<c;l+=1)for(var m=0;m<c;m+=1){var n=new C.xe(new C.Lf(b,c*k.x+l,c*k.y+m));this.La.ac(n.key)||(this.La.set(n.key,n),n.status="loading")}this.La.set(h.key+"/"+b,h)}else if(this.La.set(h.key,h),h.status="loading",10>b){var l=k.x,m=k.y,n=k.z,q,s;s=Math.ceil(this.Zc.Vn/2);var u=Math.pow(2,n);l>=u&&l<=u+s? (l-=u,q=!0):0>l&&l>=-s&&(l+=u,q=!0);q&&(q=n+"/"+l+"/"+m,(s=this.La.get(q))?(h.status=s.status,h.oa=s.oa,h.Ij=s.Ij):(s=new C.xe(new C.Lf(n,l,m)),this.La.set(q,s),s.status="loading"),s.Eb=h,h.Eb=s)}"loaded"===h.status?this.set("display"):d.push(C.g.Zu(k.x,k.y,k.z).join(","))}d.length&&(this.Rb&&"unsupport"!==this.Rb.Gb?(2>this.Rb.count?this.JE(a,b,d):(2!==this.Rb.count&&"connected"===this.Rb.Gb||this.FC(),this.iR(a,b,d)),this.Rb.count+=1,this.Rb.zE&&this.Rb.Qw.push(Math.ceil((new Date-this.Rb.zE)/1E3)), this.Rb.zE=new Date):this.JE(a,b,d))}},iR:function(a,b,c){var d=(new Date).getTime()+"-"+(this.Rb.count+1&65535);this.Rb.send({command:"tiles",reqId:d,payload:{t:c,opt:b,cs:{level:b,flds:this.I.B.ya.join(",")}}});this.vd[d]={tr:a,Dd:b}},iF:function(a){a.tb||(a.status="",a.tb=void 0,a.oa=null,a.Kb=null,a.Eb&&(a.Eb.Kb=null,a.Eb.Eb=null,a.Eb=null),this.La.Ak(a.key))},Ru:function(a){a=a.split(";");for(var b=0,c=a.length;b<c;b+=1){a[b]=a[b].split(",");for(var d=0,f=a[b].length;d<f;d+=1)a[b][d]=parseInt(a[b][d], 36)}return a},bF:function(a,b,c){if(this.I){for(var d=[],f=0,g=a.length;f<g;f+=1){var h=a[f];c&&(h=JSON.parse(h));h["x-vd-v"]||(h=this.JR(h,b))&&d.push(h)}d.length&&C.Hq.postMessage({BE:this.I.pj,EE:b,aG:this.I.ja,V:C.h.V,On:d,tS:C.k.Pc})}},JR:function(a,b){var c=a[0].split("-"),d=c[3],f=c.splice(0,3).join("/"),g=18<b?Math.pow(2,b-18):1;18<b&&(f+="/"+b);if((c=this.La.get(f))&&"loaded"!==c.status)if(this.MG(c,g)||c.Eb&&this.MG(c.Eb,g)){if(g=this.I.B.ya,-1!==g.indexOf(d))if("limg"===d)d=a[1],c.Hl=d, "string"===typeof d.b&&(d.b=this.Ru(d.b)),C.cE.FE(d.u,!0);else{f={KG:c.Wa,UT:f,ld:a,Gc:d,RQ:"building"===d,qe:"poilabel"===d||"roadlabel"===d||"building"===d&&this.I.kr};if("poilabel"===d||"roadlabel"===d)f.Hl=c.Hl;d===g[g.length-1]&&(c.status="loaded",c.Eb&&(c.Eb.status="loaded"));return f}}else this.nG(b,c,g,C.g.bind(this.iF,this)),18<b&&this.La.Ak(f)},FF:function(a){this.Fj||(this.Fj=[]);this.Fj.push(a)},Gg:function(){if(this.Fj&&this.Fj.length){for(var a=0,b=this.Fj.length;a<b;a+=1)this.Lm.Ou.apply(this.Lm, this.Fj[a]);this.Fj=[]}},rm:function(a,b,c){c||(c=18<b?Math.pow(2,b-18):1);for(var d=0;d<a.length;d+=1){var f=a[d];this.nG(b,f,c,C.g.bind(this.iF,this));18<b&&this.La.Ak(f.key+"/"+b)}},JE:function(a,b,c){function d(c,d){if(b!==h.Lb)h.rm(a,b,k),f.iz=!0,f.startTime||(f.onreadystatechange="");else{var g=c.split("|");g[0]=d+g[0];if(1<=g.length)var q=g.splice(0,g.length-1);h.bF(q,b,!0);return g[0]}}var f=new XMLHttpRequest;c=this.I.url+c.join(";")+"&lv="+b;var g=0,h=this;f.Nq="";var k=18<b?Math.pow(2, b-18):1;f.onreadystatechange=function(){if(h.I)if(3===f.readyState){if(!f.iz){var c=f.responseText.substring(g);this.Nq=d(c,this.Nq);g=f.responseText.length;f.Uy=!0}}else 4===f.readyState&&(f.iz||(c=f.responseText.substring(g),d(c,this.Nq),this.Nq="",f.Uy=!0),f.startTime&&(C.ue.rD=new Date-f.startTime,C.ue.KP=f.responseText.length/2),f.Uy||h.rm(a,b,k))};this.BQ||(this.BQ=1,C.ue.sD=f.startTime=new Date);f.open("GET",c,!0);f.send()},MG:function(a,b){var c=a.Wa.x,d=a.Wa.y;return c>Math.floor(this.Zc.qd/ b)||c<Math.floor(this.Zc.Fd/b)||d>Math.floor(this.Zc.Oc/b)||d<Math.floor(this.Zc.Fc/b)?!1:!0},nG:function(a,b,c,d){if(18<a){b=b.Wa;for(var f=0;f<c;f+=1)for(var g=0;g<c;g+=1){var h=new C.Lf(a,c*b.x+f,c*b.y+g)+"";(h=this.La.get(h))&&d(h)}}else d(b),b.Eb&&d(b.Eb)}};C.P.canvas.$h=C.P.Zb.jg.extend({eb:[C.jy],D:function(a,b){arguments.callee.Ya.apply(this,arguments);this.qe=!0;a.r.$a.Hn&&this.Fy(a,b);this.Lm=C.S.Fo.ck;a.r.d("zoomend",this.Gg,this);a.r.d("moveend",this.Gg,this)},reloadChanged:function(){this.I&&(this.I.tb=!1,C.ue.sD=null);this.La.clear();this.nb&&this.nb.parentNode&&this.nb.parentNode.removeChild(this.nb);this.set("display")},cf:function(){return[this.nb,this.Ho]},Td:function(){this.nb=document.createElement("div");this.Ho=document.createElement("canvas"); this.Ho.pE=!0;this.Iy=new C.P.canvas.$h.cj(this.Ho,this.I);this.Xj=document.createDocumentFragment()},Vq:function(a){var b=Math.pow(2,a.la.zoom-this.Wd),c=this.I.ja?2:1,d=a.la.Ga.Ia(this.Fl).Bb(this.Gf);this.transform=[{translate:this.transform[0].translate.add(d),scale:b,rotate:0},{translate:this.transform[1].translate.add(d),scale:b/c,rotate:0,mf:this.I.get("zIndex")+1}];this.Ga=a.la.Ga},Xq:function(a,b){this.Zd||this.Gg();var c=this.oC(a,b);this.UF.apply(this,c);this.Mw(a,c[1],c[2]);this.Hc(a)}, xO:function(a){if(this.zd!==this.Fg||!this.Fg||this.Fg.bo!==this.zoom||this.Fg.$n!==this.Ga||this.Fg.ao!==this.rotation||!this.Fg.size.Nb(a.size))return!0},Mw:function(a){var b=!1,c=this.fo;if(0===this.fo.length)this.zd=null;else for(j=c.length-1;0<=j;j-=1){var d=c[j],f=d.Dd;if(d.length&&(b=!1,!d.hC||this.zd&&this.Jw(this.zd.ox,this.Zc)||(b=!0,this.zd=[],this.zd.zoom=f,this.zd.ox=this.Zc),b))for(b=d.length-1;0<=b;b-=1)(f=d[b].zd)&&this.zd.push(f)}this.xO(a)&&(c=this.Ho,d=this.Iy,d.Zd=this.Zd,b=this.I.ja? this.I.hf:1,0!==a.la.rotation?C.e.Oh(c,2*Math.floor(a.ma.lb.x)*b,2*Math.floor(a.ma.lb.y)*b,!0):C.e.Oh(c,a.size.width*b,a.size.height*b,!0),d.Db=[a.ma.Na.x,a.ma.Na.y],!(f=this.zd)||!f.length||15>this.zoom||(this.Iy.Mw(f,a),this.Fg=this.zd,this.Fg.bo=this.zoom,this.Fg.$n=this.Ga,this.Fg.ao=this.rotation,this.Fg.size=a.size))},Hc:function(a){var b=Math.pow(2,this.zoom-this.Lb),c=this.Ga.Ia(this.aa);c.x<-C.g.ra/2&&(c.x+=C.g.ra);c.x>C.g.ra/2&&(c.x-=C.g.ra);c.Bb(this.Jb);a=new C.K(a.ma.lb.x*(this.I.ja? this.I.hf:1),a.ma.lb.y*(this.I.ja?this.I.hf:1));this.transform=[{translate:this.Fu,scale:b,rotate:0},{translate:a,scale:1/(this.I.ja?this.I.hf:1),rotate:0,mf:this.I.get("zIndex")+1}]}});C.P.canvas.$h.Ic=C.T.extend({D:function(a,b){this.yb=a;this.Ka={};this.oj=b},SF:function(a,b,c,d,f){c=[];for(var g in a)a.hasOwnProperty(g)&&(a[g].qo=parseInt(g),c.push(a[g]));c.sort(function(a,b){return a.qo>b.qo?1:-1});for(g in c)if(c.hasOwnProperty(g)){a=c[g];for(var h in a)a.hasOwnProperty(h)&&(d=a[h],this.Pw(d,d.face,d.border,d.width,b,f))}},Pw:function(a,b,c,d,f){var g=this.yb.getContext("2d"),h,k,l,m,n=[NaN,NaN,0],q=[NaN,NaN];g.save();c&&d&&(g.strokeStyle=c,g.lineWidth=d);b&&(g.fillStyle=b); this.Yl={};g.beginPath();h=a.length;if(0<h)for(var s=0;s<h;s+=1)for(k=a[s],l=0,m=k.length;l<m;l+=1)if(n=k[l],0===l)q=n,g.moveTo(n[0],n[1]);else if(n[0]!==q[0]||n[1]!==q[1])g.lineTo(n[0],n[1]),q=n;b&&g.fill();if(f&&(g.beginPath(),h=a.length,0<h))for(s=0;s<h;s+=1)for(k=a[s],l=0,m=k.length;l<m;l+=1)if(n=k[l],0===l)q=n,g.moveTo(n[0],n[1]);else if(n[0]!==q[0]||n[1]!==q[1])q.Dq?(g.moveTo(n[0],n[1]),n.Dq&&g.lineTo(n[0],n[1])):g.lineTo(n[0],n[1]),q=n;c&&d&&g.stroke();g.restore();return!0},WS:function(a){var b= [],c;for(c in a)a.hasOwnProperty(c)&&(a[c].qo=parseInt(c),b.push(a[c]));b.sort(function(a,b){return a.qo>b.qo?1:-1});for(c in b)if(b.hasOwnProperty(c)){a=b[c];var d,f;for(d in a)a.hasOwnProperty(d)&&(f=a[d],f.mC&&this.TF(f,f.mC,f.bO,f.ZN,f.$N));for(d in a)a.hasOwnProperty(d)&&(f=a[d],f.bG&&this.TF(f,f.bG,f.eT,f.cT,f.dT))}},TF:function(a,b,c,d,f){var g=this.yb.getContext("2d");g.save();g.lineWidth=c;g.strokeStyle=b;g.lineCap=d;g.lineJoin="bevel";g.setLineDash?(this.uC(g,a),f&&(g.setLineDash(f),g.lineDashOffset= f[0])):f&&1<f.length?this.hO(g,a,f):this.uC(g,a);g.stroke();g.restore();return!0},uC:function(a,b){a.beginPath();var c,d,f,g,h,k,l;c=0;for(g=b.length;c<g;c+=1)for(k=b[c],d=0,h=k.length;d<h;d+=1)if(f=k[d],0===d)a.moveTo(f[0],f[1]),l=f;else if(f[0]!==l[0]||f[1]!==l[1])a.lineTo(f[0],f[1]),l=f},hO:function(a,b,c){a.beginPath();var d,f,g,h,k,l,m;a.bq=c[0]+c[1];a.eo=!1;d=0;for(h=b.length;d<h;d+=1)for(l=b[d],f=0,k=l.length;f<k;f+=1)if(g=l[f],0===f)a.moveTo(g[0],g[1]),m=g;else if(g[0]!==m[0]||g[1]!==m[1])a.Qu(m[0], m[1],g[0],g[1],c),m=g;a.closePath()}});C.P.canvas.$h.cj=C.T.extend({D:function(a,b){this.yb=a;this.za=a.getContext("2d");this.I=b;this.Ax="rgba(227,219,210,0.7)";this.fT="rgba(252,249,244,0.7)"},HW:function(a,b){var c=a.la.sh,d=c.H,c=c.A,f=new Date,g=new Date;g.setMonth(0);g.setDate(0);g.setHours(0);g.setMinutes(0);g=(f-g)/864E5+8;b[0]=120-15*(f.getHours()-12)-c;b[1]=d-(-23.5+(182.62>g?g:365.25-g)/182.62*47)},Om:function(a,b,c,d){return{x:a.x-b*c,y:a.y-b*d}},Mw:function(a,b){var c=Math.pow(2,b.la.zoom-18);this.J=b.la.J;this.ma=b.ma;for(var d= [],f=[],g=[],h=a.length-1;0<=h;h-=1){var k=a[h];if(k&&!k.WF){k.WF=1;var l=a[h].Wa,m;for(m in k)if(k.hasOwnProperty(m)){var n=k[m],q;for(q in n)if(n.hasOwnProperty(q))for(var s=n[q],u=0,t=s.length;u<t;u+=1){for(var w=s[u],v=w.Ki,r=[],y=[],E=[],z=0,R=w.length-1;z<R;z+=1){var Y=this.ub(w[z],l),fa=this.ub(w[z+1],l),F=this.Om(Y,v,0,0.3*c),D=this.Om(fa,v,0,0.3*c);(fa.x-Y.x)*(F.y-Y.y)<(F.x-Y.x)*(fa.y-Y.y)&&(r.unshift(Y.x,Y.y),r.push(F.x,F.y),r.unshift(fa.x,fa.y),r.push(D.x,D.y));w[z].Dq||d.push(r);r=[]; y.push(F.x,F.y);w[z].Dq||E.push(F.x,F.y,D.x,D.y)}r.length&&d.push(r);y.length&&f.push(y);E.length&&g.push(E)}}}}this.za.shadowBlur=0;this.za.lineWidth=1.4;this.tJ(g,this.Ax);this.qm(d,this.Ax);this.qm(f,this.fT,this.Ax);for(h=a.length-1;0<=h;h-=1)if(k=a[h])k.WF=0},tJ:function(a,b){var c=this.za;c.beginPath();for(var d=a.length-1;0<=d;d-=1){var f=a[d];if(!(4>f.length)){c.moveTo(f[0],f[1]);for(var g=0,h=f.length;g<h;g+=4)c.moveTo(f[g],f[g+1]),c.lineTo(f[g+2],f[g+3])}}c.strokeStyle=b;c.stroke()},qm:function(a, b){var c=this.za;c.beginPath();for(var d=a.length-1;0<=d;d-=1){var f=a[d];if(!(2>f.length)){c.moveTo(f[0],f[1]);for(var g=2,h=f.length;g<h;g+=2)c.lineTo(f[g],f[g+1])}}c.closePath();c.fillStyle=b;c.fill()},ub:function(a){return{x:(a[0]-this.ma.Na.x)/this.J*(this.I.ja?2:1),y:(a[1]-this.ma.Na.y)/this.J*(this.I.ja?2:1)}}});C.P.canvas.fm=C.P.jg.extend({eb:[C.jy],D:function(a,b){arguments.callee.Ya.apply(this,arguments);this.ns=300;this.uE=this.qe=!0;var c=this;this.at=function(){c.zR=!0;c.set("display",0)};this.Td();a.r.$a.Hn&&this.Fy(a,b);this.Lm=C.S.Fo.ck;a.r.d("zoomend",this.Gg,this);a.r.d("moveend",this.Gg,this)},Td:function(){this.hi=document.createElement("canvas");this.hi.pE=!0;this.$z=this.hi.getContext("2d");this.zn=[];this.Ln=[];this.zf=this.I.ja?30:15},Vq:function(a){var b=Math.pow(2,a.la.zoom-this.Lb),c= this.I.ja?2:1,d=a.la.Ga.Ia(this.Fl).Bb(this.Jb);this.transform={translate:this.transform.translate.add(d.ec(c)),scale:b/c,rotate:0};this.Ga=a.la.Ga},Xq:function(a,b){if(!this.aa||3E4<Math.abs(this.Ga.x-this.aa.x)/this.J||3E4<Math.abs(this.Ga.y-this.aa.y)/this.J)this.aa=this.Ga;this.Wd=this.Lb;this.Gf=this.Jb;this.Si=!1;this.currentTime=+new Date;this.wx=b.wx;var c=this.Zc;this.Db=[this.ma.Na.x,this.ma.Na.y];this.lg=b.Qp;var d=this.fo,f=256*c.Vn,c=256*c.Pq;this.Zd=this.zoom<<0!==this.zoom;var g=this.Ga.Ia(this.aa); g.x<-C.g.ra/2&&(g.x+=C.g.ra);g.x>C.g.ra/2&&(g.x-=C.g.ra);this.Fu=g.Bb(this.Jb);for(j=d.length-1;0<=j;j-=1){var g=d[j],h=g.Dd;if(g.length){var k=!1;!g.hC||C.Ka.Ob||!(g.Dd<=this.zoom&&"in"==this.pw||g.Dd>=this.zoom&&"out"==this.pw)&&this.pw||this.labels&&this.labels.Og===this.Og&&this.Jw(this.labels.ox,this.Zc)||(k=!0,this.labels&&this.labels.fg?(this.Mi=this.labels.fg,this.Mi.zoom=this.labels.zoom):(this.Mi=[],this.Mi.zoom=null),this.labels=[],this.labels.zoom=h,this.labels.Og=this.Og,this.labels.ox= this.Zc);if(k)for(h=g.length-1;0<=h;h-=1){var l=g[h],k=!1,m=l.ya;!m&&l.Eb&&l.Eb.ya&&(m=l.Eb.ya,k=!0);if(m){for(var l=0,n=m.length;l<n;l+=1)m[l].reverse=k;Array.prototype.push.apply(this.labels,m)}}}}this.vO(a)&&this.MS(a,f,c);this.zR=!1;this.Hc(a)},Xd:function(a,b){this.Lb=this.Og=a.Og;this.Er=a.Er;this.Gw(a,b);this.Zd||this.Gg();this.Fl&&(a.QG||a.px&&C.h.Be||a.Pi&&a.qC)?this.Vq(a,b):this.Xq(a,b);this.Fl=this.Ga;this.Sj=this.labels;this.Si&&this.set("display",0)},Hc:function(a){var b=this.Ga.Ia(this.aa); b.x<-C.g.ra/2&&(b.x+=C.g.ra);b.x>C.g.ra/2&&(b.x-=C.g.ra);this.transform={translate:new C.K(a.ma.lb.x*(this.I.ja?this.I.hf:1),a.ma.lb.y*(this.I.ja?this.I.hf:1)),scale:1/(this.I.ja?this.I.hf:1),rotate:0}},Jw:function(a,b){return a.Fc===b.Fc&&a.Fd===b.Fd&&a.Oc===b.Oc&&a.qd===b.qd},$P:function(a){var b;this.labels&&(b=this.bQ(a))&&(b.oE=!1);!b&&this.rb&&(b=this.aQ(a))&&(b.oE=!0);return b||null},bQ:function(a){var b=a.Ud.x/this.J;a=a.Ud.y/this.J;for(var c=this.labels.fg||this.labels,d=c.length-1;0<=d;d-= 1){var f=c[d],g=f.Ha[0]/this.J,h=f.Ha[1]/this.J;if(f.Jq&&this.kE(f,b,a,g,h))return f}},aQ:function(a){var b=a.Ud.x/this.J;a=a.Ud.y/this.J;for(var c=this.rb.length-1;0<=c;c-=1){var d=this.rb[c],f=d.Ha[0]/this.J,g=d.Ha[1]/this.J;if(d.Jq&&this.kE(d,b,a,f,g))return d}},kE:function(a,b,c,d,f){for(var g=0;g<a.Ka.length;g+=1){var h=a.Vd[g][2],k=a.Vd[g][3],l=a.Vd[g][0],m=a.Vd[g][1];this.I.ja&&(h/=this.I.hf,k/=this.I.hf,l/=this.I.hf,m/=this.I.hf);if(b>=d+l-1&&b<=d+l+h+1&&c>=f+m-1&&c<=f+m+k+1)return!0}return!1}, reloadChanged:function(){this.I&&(this.I.tb=!1,C.ue.sD=null);this.La.clear();this.labels=[];this.zn=[];this.Ln=[];this.nb&&this.nb.parentNode&&this.nb.parentNode.removeChild(this.nb);this.hi&&this.hi.parentNode&&this.hi.parentNode.removeChild(this.hi);this.set("display")},cf:function(){return this.hi}});C.P.canvas.fm.Xc({MS:function(a){var b=this.hi,c=this.$z;this.Ji={};var d=a.ma.Na.Bb(this.J);this.Ji.SX=d.x%this.zf-this.zf;this.Ji.TX=d.x%this.zf-this.zf;var f=this.I.ja?this.I.hf:1;0!==a.la.rotation?(d=2*Math.floor(a.ma.lb.x)*f,f*=2*Math.floor(a.ma.lb.y)):(d=a.size.width*f,f*=a.size.height);C.e.Oh(b,d,f,!0);this.ZD=0;a.rb&&(this.CF(a.rb,1,a.rb),0===a.rb.length&&this.labels&&this.labels.fg&&this.labels.zoom===this.zoom&&this.labels.fg.length!==this.labels.length&&(this.labels.fg=null));this.labels&& this.CF(this.labels,0,a.rb);!C.h.V&&this.Mi&&this.Mi.length&&this.ZP(a);this.zn=this.zn&&this.OF(c,this.zn,400);this.Ln=this.Ln&&this.OF(c,this.Ln,200);a.rb&&this.RF(a.rb,c,C.we.AD(this.r.$a),this.yc,d,f);this.labels&&this.RF(this.labels,c,C.we.AD(this.r.$a),this.yc,d,f);this.Mi=[];this.labels&&(this.labels.bo=this.zoom,this.labels.$n=this.Ga,this.labels.ao=this.rotation,this.labels.size=a.size);a.rb&&(this.rb=a.rb);this.rb&&(this.rb.bo=this.zoom,this.rb.$n=this.Ga,this.rb.ao=this.rotation,this.rb.size= a.size)},PF:function(a,b,c,d){var f=this.$z;b=this.nq(b);if(!b)return 1;var g=c[2],h=c[3],k=c[0],l=c[1];d=(d||0)%360*-Math.PI/180;if(0!==d){var m=Math.cos(d),n=Math.sin(d),q=a[0],s=a[1];f.transform(m,n,-n,m,(1-m)*q+n*s,(1-m)*s-n*q)}k=a[0]+k;a=a[1]+l;4===c.length?b.loaded&&f.drawImage(b,k,a,g,h):f.drawImage(b,c[4],c[5],c[6],c[7],k,a,g,h);0!==d&&f.setTransform(1,0,0,1,0,0)},nq:function(a){if("IMG"===a.tagName||"CANVAS"===a.tagName||(a=C.Ka[a])&&a.loaded)return a},QD:function(a){var b=a.Ha,c=b[0];a.reverse&& (c>C.g.ra/2?c-=C.g.ra:c<-C.g.ra/2&&(c+=C.g.ra));return this.ub(c,b[1])},ub:function(a,b){var c=this.J/(this.I.ja?2:1);return this.Zd?[(a-this.Db[0])/c,(b-this.Db[1])/c]:[0.5+(a-this.Db[0])/c<<0,0.5+(b-this.Db[1])/c<<0]},gQ:function(a){var b=a.Ha,c=b[0];a.reverse&&(c>C.g.ra/2?c-=C.g.ra:c<C.g.ra/2&&(c+=C.g.ra));return[c/this.J,b[1]/this.J]},aR:function(a,b){var c=a.Ha;return c[0]>b.Ib.x||c[1]>b.Ib.y||c[0]<b.Na.x||c[1]<b.Na.y?!1:!0},ZP:function(a){var b=this.Mi;if(this.Mi.zoom!==this.labels.zoom)for(var c= 0,d=b.length;c<d;c+=1){var f=b[c];f.Rv&&this.aR(f,a.ma)&&(this.Ln.push(f),f.zoom=b.zoom,f.Ev=new Date)}},CF:function(a,b,c){var d=!(!c||!c.length),f=a.zoom-this.zoom,g=a.fg||a;if(0<f||d){a.fg=[];for(var h=0,k=g.length;h<k;h+=1){var l=g[h],m=this.gQ(l);l.Rv||b?l.tq&&d&&c.UE&&-1!==C.g.indexOf(c.UE,l.tq)||(5>f&&this.HQ(m,l,0<f,b,d)?a.fg.push(l):C.h.V||0==f&&!b||(this.zn.push(l),l.zoom=this.labels?this.labels.zoom:this.Lb,l.Ev=new Date)):l.tE&&a.fg.push(l)}}else a.fg=a;return!1},OF:function(a,b,c,d,f){for(var g= new Date,h=[],k=0,l=b.length;k<l;k+=1){var m=b[k],n=Math.max(0,Math.abs(m.zoom-this.zoom)),n=Math.max(0,1-(g-m.Ev)/(1/Math.pow(1.3,n)*c));if(0<n){if(h.push(m),a.globalAlpha=n,n=this.QD(m),!(-20>n[0]||n[0]>d+20||-20>n[1]||n[1]>f+20))for(var q=0,s=m.Ka.length;q<s;q+=1)this.PF(n,m.Ka[q],m.Vd[q],m.br)}else m.Ev=void 0}h.length&&(this.ZD=this.Si=1);return h},RF:function(a,b,c,d,f,g){d=a.zoom!==this.zoom;b.globalAlpha=1;a=a.fg;b=0;for(var h=a.length;b<h;b+=1){var k=a[b];if(!(d&&k.tE||k.eh&&c&&0<=c.indexOf(k.eh))){var l= this.QD(k);if(!(-20>l[0]||l[0]>f+20||-20>l[1]||l[1]>g+20))for(var m=0,n=k.Ka.length;m<n;m+=1)this.PF(l,k.Ka[m],k.Vd[m],k.br)}}},QX:function(a){a.sort(function(a,c){return a.$f<=c.$f?1:-1})},vO:function(a){if(this.ZD)return!0;if(a.rb&&a.rb.length)if(this.rb&&this.rb.length){if(this.rb!==a.rb||this.rb.bo!==this.zoom||this.rb.$n!==this.Ga||this.rb.ao!==this.rotation||!this.rb.size.Nb(a.size))return!0}else return!0;else if(this.rb&&this.rb.length)return!0;return!this.labels||this.labels===this.Sj&&this.Sj&& this.Sj.bo===this.zoom&&this.Sj.$n===this.Ga&&this.Sj.Og===a.Og&&this.Sj.ao===this.rotation&&this.Sj.size.Nb(a.size)?!1:!0},HQ:function(a,b,c,d,f){if(!f&&!c&&!d)return!0;var g=b.Ka.length;if(!c&&d)f=!1;else{f=!1;for(var h=0;h<g;h+=1){var k=b.Vd[h],l=k[2],m=k[3],n=k[0],k=k[1],n=a[0]+n,k=a[1]+k;this.JQ(n,k,l,m)||(f=!0)}}if(!f&&(c||d))for(h=0;h<g;h+=1)for(k=b.Vd[h],l=k[2],m=k[3],n=k[0],k=k[1],n=a[0]+n,k=a[1]+k,c=Math.ceil((n+l)/this.zf),d=Math.ceil((k+m)/this.zf),n=Math.floor(n/this.zf),k=Math.floor(k/ this.zf),Jb=0,il=c-n;Jb<=il;Jb+=1)for(h=0,jl=d-k;h<=jl;h+=1)this.Ji[n+Jb]||(this.Ji[n+Jb]={}),this.Ji[n+Jb][k+h]=1;return!f},JQ:function(a,b,c,d){c=Math.ceil((a+c)/this.zf);d=Math.ceil((b+d)/this.zf);a=Math.floor(a/this.zf);b=Math.floor(b/this.zf);Jb=0;for(il=c-a;Jb<=il;Jb+=1)if(this.Ji[a+Jb])for(j=0,jl=d-b;j<=jl;j+=1){if(1===this.Ji[a+Jb][b+j])return!1}else this.Ji[a+Jb]={};return!0}});C.S.Fo=C.T.extend({D:function(){this.hf=2;this.Px=C.h.Be?16:8;this.gT={road:0,region:0,building:1,poilabel:1,roadlabel:1};this.sr=[new C.Qc,new C.Qc,new C.Qc,new C.Qc,new C.Qc,new C.Qc,new C.Qc];this.pU=[{type:"roadlabel",show:!0,wF:new C.iy(this),qe:1},{type:"poilabel",show:!0,wF:new C.iy(this),qe:1},null,{type:"region",show:!0,qe:0},{type:"road",show:!0,qe:0},{type:"building",show:!0,qe:0},null];this.ja=C.h.ja;this.fc=256*(this.ja?2:1);this.xh=0;this.yb=document.createElement("canvas");this.$m= document.createElement("canvas");this.$m.height=this.$m.width=256;this.cb=new C.P.canvas.$h.Ic},Ru:function(a){a=a.split(";");for(var b=0,c=a.length;b<c;b+=1){a[b]=a[b].split(",");for(var d=0,f=a[b].length;d<f;d+=1)a[b][d]=parseInt(a[b][d],36)}return a},Ou:function(a,b,c,d,f){if("first"!==b)if(c.tb&&c.Eb)c.Eb.tb||(c.Eb.Kb=c.Kb,c.Eb.oa=c.Eb.Ij=c.Eb.tb=!0);else{c.Dd=d;var g;switch(f){case "roadlabel":g=0;break;case "poilabel":g=1;break;case "labels":g=2;break;case "region":g=3;break;case "road":g=4; break;case "building":g=5;break;case "allbase":g=6}"tileComplete"!==b?(this.sr[g].tx(["co",g,c,a]),""!==b&&this.sr[g].tx([b,g,c,a])):this.sr[g].tx(["co",7,c,a]);this.xh>g&&(this.xh=g);this.JT()}},uF:function(){var a=new Date,b=!1;do if(b=this.parse(),new Date-a>=this.Px)break;while(!b);this.sF=b?null:C.g.Yd(this.uF,this)},JT:function(){this.sF||(this.sF=C.g.Yd(this.uF,this))},XO:function(){return document.createElement("canvas")},parse:function(){var a,b=!1,c=this.xh,d=this.sr[this.xh];if(d.Gn())6=== c&&(b=!0),this.xh=(this.xh+1)%7;else{a=d.AR();var f=a[2],g=f.Dd,h=a[3],k,l=f.key+(18<g?"/"+g:"");if(h.La.ac(l))if("co"===a[0])if(3===a[1])this.Fw(f),g=this.cb.yb.getContext("2d"),g.fillStyle=h.tI,g.fillRect(0,0,f.Kb.width,f.Kb.height),f.Ne.region&&(this.cb.SF(f.Ne.region,0,f.Wa.z),f.Ne.region=null);else if(4===a[1])this.Fw(f),f.Ne.road&&(this.cb.WS(f.Ne.road,f.Wa.z),f.Ne.road=null);else if(5===a[1]&&f.Ne&&f.Ne.building){this.Fw(f);a=C.we&&C.we.nE(h.r.$a);if(h.kr){if(f.zd=f.Ne.building,18<g)for(a= f.Wa,k=Math.pow(2,g-18),l=0;l<k;l+=1)for(var m=0;m<k;m+=1){var n=h.La.get(g+"/"+(k*a.x+l)+"/"+(k*a.y+m));n&&(n.zd=f.zd)}}else this.cb.SF(f.Ne.building,1,f.Wa.z,void 0,a);f.Ne.building=null}else{if(7===a[1]){f.Ne=null;if(18<g){a=f.Wa;m=this.fc;k=Math.pow(2,g-18);for(n=0;n<k;n+=1)for(var q=0;q<k;q+=1){var s=h.La.get(g+"/"+(k*a.x+n)+"/"+(k*a.y+q));if(s&&(s.tb=s.oa=!0,f.Kb)){s.Kb=this.XO();s.Kb.width=s.Kb.height=m;s.Kb.getContext("2d").drawImage(f.Kb,-n*m,-q*m);h.po&&0===(s.Wa.x+s.Wa.y)%2&&s.Kb.getContext("2d").drawImage(h.po, 0,0);s.status="loaded";if(!C.h.V){var u=document.createElement("img");u.src=s.Kb.toDataURL();s.Kb=u}s.Ij=!0}}h.La.Ak(l)}else f.Kb&&(h.po&&0===(f.Wa.x+f.Wa.y)%2&&f.Kb.getContext("2d").drawImage(h.po,0,0),f.Ij=!0,f.Eb&&(f.Eb.Ij=f.Eb.oa=!0),C.h.V||(u=document.createElement("img"),u.src=f.Kb.toDataURL(),f.Kb=u)),f.tb=f.oa=!0,f.Eb&&(f.Eb.tb=f.Eb.oa=!0);h.set("display",0)}}else g=this.pU[a[1]],g.wF.dS(f,a[0],g.type,h);d.Gn()&&(6===c&&(b=!0),this.xh=(this.xh+1)%7)}return b},Fw:function(a){var b=18<a.Dd? Math.pow(2,18-a.Dd):1;a.Kb||(a.Kb=document.createElement("canvas"),a.Kb.width=a.Kb.height=this.fc/b,a.Ij=!1);a.Kb&&(this.cb.yb=a.Kb,this.cb.Jb=b)}});C.S.Fo.ck=new C.S.Fo;C.S.Zg=C.S.Oe.extend({B:{ya:"region road building limg roadlabel poilabel".split(" "),load:"all"},D:function(a,b){C.Ka.lf.push(this);this.pj=C.g.yD("layer");this.hf=2;a.get("textRatio");this.Px=25;this.L("tiles",a);this.oU=a.get("vdataUrl")||b.$a.get("vdataUrl")||C.k.Br;this.qe=!0;this.qb=a;this.lg=C.h.ja?!1:!0;this.r=b;this.qg=this.pg=!0;this.jd("zoom center crs centerCoords resolution coordsBound display".split(" "),b);this.jd("zooms detectRetina visible zIndex textIndex watermark opacity".split(" "), a);this.L("lang",b,!0);this.get("watermark")&&(this.po=new Image,this.po.src=this.get("watermark"));this.La={};this.Ge={};this.fc=256;this.jk=[];this.Rg=this.Sg=0;this.ja=this.get("detectRetina")&&C.h.ja;this.fc=256*(this.ja?2:1);this.L("mapStyle",b);this.xh=0;this.yb=document.createElement("canvas");this.$m=document.createElement("canvas");this.$m.height=this.$m.width=256;this.L("features",b);this.pl=this.get("crs");this.L("reload",a)},mapStyleChanged:function(){var a=this.get("mapStyle");this.tI= "dark"===a?"#202020":"test"===a||"blue_night"===a?"#033447":"#fcf9f2";this.kr=!1;"normal"==a&&(this.kr=!!this.r.get("showBuildingBlock"));this.Eu(a);this.featuresChanged()},featuresChanged:function(){this.set("reload")},Eu:function(a){this.url=C.k.Pc+"://"+this.oU+"/tiles?mapType="+a+"&v=2&style="+(C.h.V?C.h.ja&&this.get("detectRetina")?"5":"6":"5");this.url+=this.ja?"&rd=2":"&rd=1";this.url+="&flds="+this.B.ya;this.url+="&t="},langChanged:function(){this.set("reload");this.qb.Wn()},zr:function(a, b){"hotspotout"===a?this.r.$a.set("optimalCursor",null):"hotspotover"===a&&this.r.$a.set("optimalCursor","pointer");var c=b.Ha,c=new C.K(c[0],c[1]),c=this.r.je(c,3);this.r.$a.q(a,{name:b.name,lnglat:c,id:b.Jq,isIndoorPOI:b.oE})},ki:function(a){(a=this.ED(a))&&this.zr("hotspotclick",a)},Sf:function(a){(a=this.ED(a))&&this.Mf!==a&&(this.Mf&&this.zr("hotspotout",this.Mf),this.zr("hotspotover",a));!a&&this.Mf&&this.zr("hotspotout",this.Mf);this.Mf=a},textIndexChanged:function(){this.set("display")},XR:function(){this.r.d("click", this.ki,this);this.r.d("mousemove",this.Sf,this)},NC:function(){this.r.F("click",this.ki,this);this.r.F("mousemove",this.Sf,this)},ED:function(a){return this.r.yq.nv(this).$P(a)},Ru:function(a){a=a.split(";");for(var b=0,c=a.length;b<c;b+=1){a[b]=a[b].split(",");for(var d=0,f=a[b].length;d<f;d+=1)a[b][d]=parseInt(a[b][d],36)}return a},cg:function(){return null},Ii:function(){return{YQ:!0,fc:256,visible:this.get("visible"),j:this.mq(),rc:this.get("zooms"),Qp:this.lg&&this.tb,pg:!this.r.vr,qg:!this.r.vr, opacity:this.get("opacity"),ja:!1}},Bg:function(a){if(C.P.canvas.Zg)return new C.P.canvas.Zg(this,a)}}); C.S.$h=C.S.Zg.extend({B:{ya:["region","building","road"],load:"base"},Bg:function(a){if(C.P.canvas.$h)return new C.P.canvas.$h(this,a)},featuresChanged:function(){var a=this.get("features"),b=[];"all"===a?b=["region","building","road"]:a&&(-1!==C.g.indexOf(a,"bg")&&b.push("region"),-1!==C.g.indexOf(a,"building")&&b.push("building"),-1!==C.g.indexOf(a,"road")&&b.push("road"));this.B.ya=b;this.Eu(this.get("mapStyle")||"normal");this.set("reload")}}); C.S.fm=C.S.Zg.extend({B:{ya:["limg","roadlabel","poilabel"],load:"label"},Bg:function(a){if(C.P.canvas.fm)return new C.P.canvas.fm(this,a)},featuresChanged:function(){var a=this.get("features"),b=this.get("mapStyle"),c=[];"all"===a?c=["roadlabel","poilabel"]:a&&(-1!==C.g.indexOf(a,"road")&&c.push("roadlabel"),-1!==C.g.indexOf(a,"point")&&c.push("poilabel"));!c.length||"normal"!==b||C.h.V||this.ja||c.unshift("limg");this.B.ya=c;this.Eu(this.get("mapStyle")||"normal");this.set("reload")}}); ',true),_jsload_('overlay', 'C.Y.Sc=C.Y.dj.extend({D:function(a,b){var c=a.length;this.te=Array(c);for(var d,f,g=0;g<c;g+=1)if(d=a[g],f=new C.Y.Xx(d),this.te[g]=f,!b)if(0===g){if(0===d.length)break;f.dk(d)||d.reverse()}else 0!==d.length&&f.dk(d)&&d.reverse()},Vb:function(){if(0===this.te.length)return[Infinity,Infinity,-Infinity,-Infinity];if(!this.Vc){for(var a=this.te[0].Vb(),b=1;b<this.te.length;b+=1){var c=this.te[b].Vb();C.j.RC(a,c)||C.j.extend(a,c)}this.Vc=a}return this.Vc},KD:function(){return this.te},Rd:function(){return C.Y.gc.Bo}, Ce:function(a){for(var b=this.te,c,d=0,f=b.length;d<f&&(c=b[d].Ce(a),0<d&&(c=!c),c);d+=1);return c}});C.Y.em=C.Y.dj.extend({D:function(a){var b=a.length;this.kd=Array(b);for(var c=0;c<b;c+=1){var d=new C.Y.Sc(a[c]);this.kd[c]=d}},Vb:function(){if(!this.Vc){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=this.kd,c=0,d=b.length;c<d;c+=1)C.j.extend(a,b[c].Vb());this.Vc=a}return this.Vc},iv:function(){return this.Ha},Rd:function(){return C.Y.gc.zo},xD:function(){return this.kd},Ce:function(a){for(var b=!1,c=0,d=this.kd.length;c<d;c+=1)if(this.kd[c].Ce(a)){b=!0;break}return b}});C.Y.ej=C.Y.dj.extend({D:function(a){this.Ha=a},Vb:function(){if(!this.Vc){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=0,c=this.Ha.length;b<c;b+=1)C.j.jD(a,this.Ha[b]);this.Vc=a}return this.Vc},iv:function(){return this.Ha},Rd:function(){return C.Y.gc.Jr},WP:function(){return this.Ha.length},dq:function(a){for(var b=this.Ha,c=Infinity,d=0,f=1,g=b.length;f<g;d=f,f+=1)c=Math.min(c,C.Vh.HT(a,[b[d],b[f]]));return Math.sqrt(c)}});C.Y.Xx=C.Y.ej.extend({Rd:function(){return C.Y.gc.Vx},dk:C.Vh.dk,Ce:function(a){return C.Vh.Ce(a,this.Ha)}});C.Y.Ao=C.Y.dj.extend({D:function(a){var b=a.length;this.kd=Array(b);for(var c=0;c<b;c+=1){var d=new C.Y.ej(a[c]);this.kd[c]=d}},xD:function(){return this.kd},Vb:function(){if(!this.Vc){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=this.kd,c=0,d=b.length;c<d;c+=1)C.j.extend(a,b[c].Vb());this.Vc=a}return this.Vc},iv:function(){return this.Ha},Rd:function(){return C.Y.gc.Lr},WP:function(){return this.Ha.length},dq:function(a){for(var b=Infinity,c=0,d=this.kd.length;c<d;c+=1)b=Math.min(b,this.kd[c].dq(a)); return b}});C.ua.Md=C.ua.Zh.extend({D:function(a,b){arguments.callee.Ya.apply(this,arguments);this.VN=a;this.L("options",a);this.L("geodesic",a);this.L("path",a);this.L("noSelect",a);this.Jj();this.L("display",b);b.d("zoomend",this.li,this)},geodesicChanged:function(){this.pathChanged()},Jh:function(a){var b=this.get("path"),c=a.ec(this.map.get("resolution")),d=[],f,g,h;f=0;for(g=b.length;f<g;f+=1)h=this.map.Hb(b[f]).add(c),d.push(this.map.je(h));0<d.length&&this.set("path",d);if(this.Tt&&0<this.Tt.length)for(f= 0,b=this.Tt.length;f<b;f+=1)this.Tt[f].Jh(a);this.VN.q("movepoly",{yF:c})},vm:function(a){this.get("options");return this.Rz()?this.OJ(a):this.uz(a)},Rz:function(){var a=this.get("options");return a&&!!a.geodesic},getStrokeWeight:function(){return this.get("options").strokeWeight},OJ:function(a){if(!a||!a.length)return[];var b,c=[],d,f,g=[],h,k=this.map.get("resolution"),l=this.get("options").geodesicInterpolatePixelWidth||17;c.push(a[0]);g.push(this.Ts(a[0]));d=1;for(f=a.length;d<f;d+=1)h=this.Ts(a[d]), b=Math.round(Math.abs(h[0]-g[g.length-1][0])/k),b=Math.min(31,Math.round(b/l),Math.round(Math.abs(a[d-1].A-a[d].A))),b=C.M.hQ(a[d-1],a[d],b),c.push.apply(c,b),g.push.apply(g,this.uz(b)),c.push(a[d]),g.push(h);return g},Rp:function(a){var b=[],c=[],d,f,g,h,k,l,m=a.na;m instanceof C.Y.ej?l=[m]:m instanceof C.Y.Ao&&(l=m.kd);m=[];a=a.ca.rotation;b=this.map.get("size");d=Math.PI*a/180;a=(Math.abs(b.width*Math.cos(d))+Math.abs(b.height*Math.sin(d)))/2;var n=(Math.abs(b.width*Math.sin(d))+Math.abs(b.height* Math.cos(d)))/2;d=0;for(f=l.length;d<f;d+=1)if(g=l[d].Ha,g.length)for(h=0,k=g.length;h<k;h+=1)if(b=g[h],b=this.ub(b),b[0]=Math.round(b[0]+a),b[1]=Math.round(b[1]+n),0===h)c[0]=NaN,c[1]=NaN,m.push("M"+b[0]+" "+b[1]);else if(b[0]!==c[0]||b[1]!==c[1])m.push("L"+b[0]+" "+b[1]),c[0]=b[0],c[1]=b[1];return m},Jj:function(){if(this.map&&!this.C){var a=this.map,b=this.get("path"),b=this.C=new C.td({name:"polyline-"+C.g.Mb(this),zIndex:this.get("options").zIndex||1,map:a,na:new C.Y.ej(this.vm(b)),style:this.get("options")}); b.qi=this;this.L("resolution",a);this.L("center",a);this.L("coords",b);this.L("style",b);b.jd(["noSelect","visible","zIndex","strokeWeight","isOutline"],this)}},pathChanged:function(){var a=this.C,b=this.get("path");a&&(this.set("coords",this.vm(b)),a.xf=!0,"canvas"!==this.map.get("overlayRender")&&a.ca?(b=this.Rp(a),C.h.Ch||b.push("e"),b=b.join(" "),0===b.length&&a.ca?(a.ca.bc.parentNode.removeChild(a.ca.bc),a.ca.Pa.parentNode&&a.ca.Pa.parentNode.removeChild(a.ca.Pa),a.ca=null):C.h.Ch?(a.ca.bc.setAttribute("d", b),a.ca.Pa&&a.ca.Pa.setAttribute("d",b)):(a.ca.bc.path=b,a.ca.Pa&&(a.ca.Pa.path=b))):this.set("display"))},li:function(){this.Rz()&&this.pathChanged()},visibleChanged:function(){this.C&&(this.C.ca?this.get("visible")?(this.C.ca.bc.style.display="block",this.C.ca.Pa&&(this.C.ca.Pa.style.display="block")):(this.C.ca.bc.style.display="none",this.C.ca.Pa&&(this.C.ca.Pa.style.display="none")):this.set("display"))},optionsChanged:function(){this.C&&(this.C.style=this.get("options"),this.C.zIndex=this.get("options").zIndex, this.C.Ci(),this.C.ca&&(this.C.ca.bc.parentNode&&this.C.ca.bc.parentNode.removeChild(this.C.ca.bc),this.C.ca.Pa&&this.C.ca.Pa.parentNode&&this.C.ca.Pa.parentNode.removeChild(this.C.ca.Pa)));this.set("display")}});C.ua.Sc=C.ua.Zh.extend({D:function(a,b){arguments.callee.Ya.apply(this,arguments);this.UN=a;this.L("options",a);this.L("path",a);this.Jj();this.L("display",b)},Jh:function(a){var b=this.get("path");a=a.ec(this.map.get("resolution"));var c=[],d,f;b.length&&b[0]instanceof C.M&&(b=[b],f=!0);for(var g=0,h=b.length;g<h;g+=1){for(var k=b[g],l=[],m=0,n=k.length;m<n;m+=1)d=this.map.Hb(k[m]).add(a),l.push(this.map.je(d));c.push(l)}0<c.length&&this.set("path",f?c[0]:c);this.UN.q("movepoly",{yF:a})},vm:function(a){a.length&& a[0]instanceof C.M&&(a=[a]);for(var b,c,d=[],f,g=this.map,h=0;h<a.length;h+=1){var k=a[h];f=[];b=0;for(c=k.length;b<c;b+=1){var l=g.Hb(k[b]);f.push([l.x,l.y])}d.push(f)}return d},Jj:function(){if(this.map&&!this.C){var a=this.map,b=this.get("path"),b=this.C=new C.td({name:"polygon-"+C.g.Mb(this),zIndex:this.get("options").zIndex||1,map:a,na:new C.Y.Sc(this.vm(b)),style:this.get("options")});b.qi=this;this.L("resolution",a);this.L("center",a);this.L("coords",b);this.L("style",b);b.jd(["visible","zIndex", "strokeWeight"],this)}},pathChanged:function(){var a=this.C,b=this.get("path");a&&(this.set("coords",this.vm(b)),a.xf=!0,"canvas"!==this.map.get("overlayRender")&&a.Q?(b=this.Sp(a),0===b.length?(a.Q.parentNode.removeChild(a.Q),a.Q=null):C.h.Ch?a.Q.setAttribute("d",b.join(" ")):(b.push("e"),a.Q.path=b.join(" "))):this.set("display"))},getStrokeWeight:function(){return this.get("options").strokeWeight},visibleChanged:function(){this.C&&(this.C.Q?this.get("visible")?this.C.Q.style.display="block":this.C.Q.style.display= "none":this.set("display"))},optionsChanged:function(){this.C&&(this.C.style=this.get("options"),this.C.zIndex=this.get("options").zIndex,this.C.Ci());this.set("display")},Sp:function(a){var b=[NaN,NaN,0],c=[NaN,NaN],d,f,g,h,k,l,m,n=a.Q.rotation,q=this.map.get("size");f=Math.PI*n/180;n=(Math.abs(q.width*Math.cos(f))+Math.abs(q.height*Math.sin(f)))/2;q=(Math.abs(q.width*Math.sin(f))+Math.abs(q.height*Math.cos(f)))/2;a=a.na;a instanceof C.Y.Sc?d=[a]:a instanceof C.Y.em&&(d=a.kd);var s=[];a=0;for(f= d.length;a<f;a+=1)if(b=d[a],g=b.te,h=g.length,0<h)for(var u=0;u<h;u+=1){var t;k=g[u].Ha;l=0;for(m=k.length;l<m;l+=1)if(b=k[l],b=this.ub(b),b[0]=Math.ceil(b[0]+n),b[1]=Math.ceil(b[1]+q),0===l)c[0]=NaN,c[1]=NaN,t=b,s.push("M"+b[0]+" "+b[1]);else if(b[0]!==c[0]||b[1]!==c[1])s.push("L"+b[0]+" "+b[1]),c=b;t&&s.push("L"+t[0]+" "+t[1])}return s}});C.ua.Uh=C.ua.Zh.extend({D:function(a,b){arguments.callee.Ya.apply(this,arguments);this.TN=a;this.L("center",a);this.L("draggable",a);this.L("radius",a);this.L("options",a);this.Jj();this.L("display",b)},Jh:function(a){var b=this.get("center");a=a.ec(this.map.get("resolution"));var c=this.map.Hb(b).add(a);b instanceof C.M?this.set("center",this.map.je(c)):this.set("center",c);this.TN.q("movepoly",{yF:a})},Jj:function(){if(this.map&&!this.C){var a=this.map,b=a.Hb(this.get("center")),b=this.C=new C.td({ap:!0, name:"circle-"+C.g.Mb(this),zIndex:this.get("options").zIndex||1,map:a,na:new C.Y.Ld([b.x,b.y]),style:this.get("options")});b.qi=this;this.L("resolution",a);this.L("coords",b);this.L("style",b);b.L("visible",this,!0);b.jd(["radius","center","resolution","zIndex","strokeWeight"],this)}},getStrokeWeight:function(){return this.get("options").strokeWeight},centerChanged:function(){var a=this.C,b=this.map.Hb(this.get("center"));a&&(a.na.Ha=[b.x,b.y],this.set("coords",[b.x,b.y]),this.xf=!0,a.Q?this.IF(): this.set("display"))},visibleChanged:function(){this.C&&(this.C.Q?this.get("visible")?this.C.Q.style.display="block":this.C.Q.style.display="none":this.set("display"))},optionsChanged:function(){this.C&&(this.C.style=this.get("options"),this.C.zIndex=this.get("options").zIndex,this.C.Ci(),this.C.xf=!0,this.set("display"))},Bu:function(a){var b=[],c=[],d,c=a.na;c instanceof C.Y.Ld&&(d=[c]);var c=this.map.get("crs").Ig(Math.floor(this.map.get("zoom"))),f=a.Q.rotation,b=this.map.get("size"),g=Math.PI* f/180,f=(Math.abs(b.width*Math.cos(g))+Math.abs(b.height*Math.sin(g)))/2,g=(Math.abs(b.width*Math.sin(g))+Math.abs(b.height*Math.cos(g)))/2,b=this.ub(d[0].Ha);b[0]=Math.round(b[0]+f);b[1]=Math.round(b[1]+g);a=a.get("remain")?5.23:this.get("radius")/(c*Math.cos(Math.PI*this.get("center").H/180));return c=["M",b[0],b[1]-a,"A",a,a,0,1,1,b[0]-0.01,b[1]-a,"Z"].join(" ")},IF:function(){var a=this.C,b=this.get("radius");if("c"!==this.map.get("overlayRender")&&a.Q)if(C.h.Ch)b=this.Bu(a),a.Q.setAttribute("d", b);else{b=this.map.get("crs").Ig(Math.floor(this.map.get("zoom")));b=this.get("radius")/(b*Math.cos(Math.PI*this.get("center").H/180));a.Q.style.width=Math.round(2*b);a.Q.style.height=Math.round(2*b);var c=this.map.get("size").width/2,d=this.map.get("size").height/2,f=this.ub(a.na.Ha);f[0]=Math.round(f[0]+c);f[1]=Math.round(f[1]+d);a.Q.style.top=Math.round(f[1]-b);a.Q.style.left=Math.round(f[0]-b)}else this.set("display")},radiusChanged:function(){var a=this.C,b=this.get("radius");a&&(a.xf=!0,a.q("rad", {qk:b}),this.IF())}}); ',true),_jsload_('sync', 'var uc=window[C.k.$e];uc&&document.body?uc():setTimeout(function(){var a=window[C.k.$e];a&&a()},300); ',true)})()